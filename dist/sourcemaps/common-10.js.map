{"version":3,"sources":["ui/helpers/constants/zendesk-url.js","node_modules/@ethersproject/strings/lib/_version.js","ui/helpers/utils/build-types.js","ui/helpers/utils/confirm-tx.util.ts","ui/helpers/utils/formatters.js","node_modules/@ethersproject/strings/lib/bytes32.js","ui/helpers/utils/i18n-helper.tsx","ui/helpers/utils/icon-factory.ts","ui/helpers/utils/metrics.js","node_modules/@ethersproject/strings/lib/idna.js","ui/helpers/utils/token-util.js","ui/helpers/utils/transactions.util.js","ui/helpers/utils/tx-helper.ts","ui/helpers/utils/util.js","node_modules/@ethersproject/strings/lib/index.js","node_modules/@ethersproject/strings/lib/utf8.js","node_modules/@ethersproject/transactions/lib/_version.js","ui/hooks/useI18nContext.js","node_modules/@ethersproject/transactions/lib/index.js","node_modules/@ethersproject/units/lib/_version.js","node_modules/@ethersproject/units/lib/index.js","node_modules/@ethersproject/wallet/lib/_version.js","node_modules/@ethersproject/wallet/lib/index.js","node_modules/@ethersproject/web/lib/_version.js","node_modules/@ethersproject/web/lib/browser-geturl.js","node_modules/@ethersproject/web/lib/index.js","node_modules/@ethersproject/wordlists/lib/_version.js","node_modules/@ethersproject/wordlists/lib/index.js","node_modules/@ethersproject/wordlists/lib/lang-cz.js","node_modules/@ethersproject/wordlists/lib/lang-en.js","node_modules/@ethersproject/wordlists/lib/lang-es.js","node_modules/@ethersproject/wordlists/lib/lang-fr.js","node_modules/@ethersproject/wordlists/lib/lang-it.js","node_modules/@ethersproject/wordlists/lib/lang-ja.js","node_modules/@ethersproject/wordlists/lib/lang-ko.js","node_modules/@ethersproject/wordlists/lib/lang-zh.js","node_modules/@ethersproject/wordlists/lib/wordlist.js","node_modules/@ethersproject/wordlists/lib/wordlists.js","node_modules/@firebase/app/src/internal.ts","node_modules/@firebase/app/src/api.ts","node_modules/@firebase/app/src/platformLoggerService.ts","node_modules/@firebase/app/src/logger.ts","node_modules/@firebase/app/src/constants.ts","node_modules/@firebase/app/src/errors.ts","node_modules/@firebase/app/src/firebaseApp.ts","node_modules/@firebase/app/src/firebaseServerApp.ts","node_modules/@firebase/app/src/indexeddb.ts","node_modules/@firebase/app/src/heartbeatService.ts","node_modules/@firebase/app/src/registerCoreComponents.ts","node_modules/@firebase/app/src/index.ts","node_modules/@firebase/component/src/constants.ts","node_modules/@firebase/component/src/component.ts","node_modules/@firebase/component/src/provider.ts","node_modules/@firebase/component/src/component_container.ts","node_modules/@firebase/installations/src/api/delete-installations.ts","node_modules/@firebase/installations/src/functions/delete-installation-request.ts","node_modules/@firebase/installations/src/api/get-installations.ts","node_modules/@firebase/installations/src/api/on-id-change.ts","node_modules/@firebase/installations/src/helpers/fid-changed.ts","node_modules/@firebase/installations/src/util/constants.ts","node_modules/@firebase/installations/src/util/errors.ts","node_modules/@firebase/installations/src/functions/common.ts","node_modules/@firebase/installations/src/util/sleep.ts","node_modules/@firebase/installations/src/helpers/generate-fid.ts","node_modules/@firebase/installations/src/helpers/buffer-to-base64-url-safe.ts","node_modules/@firebase/installations/src/util/get-key.ts","node_modules/@firebase/installations/src/helpers/idb-manager.ts","node_modules/@firebase/installations/src/helpers/get-installation-entry.ts","node_modules/@firebase/installations/src/functions/create-installation-request.ts","node_modules/@firebase/installations/src/functions/generate-auth-token-request.ts","node_modules/@firebase/installations/src/helpers/refresh-auth-token.ts","node_modules/@firebase/installations/src/api/get-id.ts","node_modules/@firebase/installations/src/api/get-token.ts","node_modules/@firebase/installations/src/helpers/extract-app-config.ts","node_modules/@firebase/installations/src/functions/config.ts","node_modules/@firebase/installations/src/index.ts","node_modules/@firebase/logger/src/logger.ts","node_modules/@firebase/messaging/src/api.ts","node_modules/@firebase/messaging/src/api/deleteToken.ts","node_modules/@firebase/messaging/src/internals/token-manager.ts","node_modules/@firebase/messaging/src/internals/idb-manager.ts","node_modules/@firebase/messaging/src/api/onMessage.ts","node_modules/@firebase/messaging/src/util/constants.ts","node_modules/@firebase/messaging/src/interfaces/internal-message-payload.ts","node_modules/@firebase/messaging/src/helpers/array-base64-translator.ts","node_modules/@firebase/messaging/src/helpers/migrate-old-database.ts","node_modules/@firebase/messaging/src/util/errors.ts","node_modules/@firebase/messaging/src/internals/requests.ts","node_modules/@firebase/messaging/src/helpers/externalizePayload.ts","node_modules/@firebase/messaging/src/helpers/logToFirelog.ts","node_modules/@firebase/messaging/src/helpers/extract-app-config.ts","node_modules/@firebase/messaging/src/messaging-service.ts","node_modules/@firebase/messaging/src/helpers/registerDefaultSw.ts","node_modules/@firebase/messaging/src/api/getToken.ts","node_modules/@firebase/messaging/src/helpers/updateVapidKey.ts","node_modules/@firebase/messaging/src/helpers/updateSwReg.ts","node_modules/@firebase/messaging/src/helpers/logToScion.ts","node_modules/@firebase/messaging/src/listeners/window-listener.ts","node_modules/@firebase/messaging/src/helpers/is-console-message.ts","node_modules/@firebase/messaging/src/helpers/register.ts","node_modules/@firebase/messaging/src/api/isSupported.ts","node_modules/@firebase/messaging/src/listeners/sw-listeners.ts","node_modules/@firebase/messaging/src/helpers/sleep.ts","node_modules/@firebase/messaging/src/api/setDeliveryMetricsExportedToBigQueryEnabled.ts","node_modules/@firebase/messaging/src/api/onBackgroundMessage.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/environment.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/subscribe.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/exponential_backoff.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/obj.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/emulator.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/deepCopy.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/query.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/compat.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/formatters.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/promise.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/json.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/validation.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/constants.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/assert.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/crypt.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/global.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/defaults.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/deferred.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/errors.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/jwt.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/sha1.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/utf8.ts","node_modules/@firebase/util/dist/node_modules/@firebase/util/src/uuid.ts","node_modules/@keystonehq/alias-sampling/dist/cjs/index.js","ui/pages/confirmations/confirmation/ResultTemplate.ts","ui/pages/confirmations/confirmation/templates/add-ethereum-chain.js","ui/pages/confirmations/confirmation/templates/create-named-snap-account.js","ui/pages/confirmations/confirmation/templates/create-snap-account.js","ui/pages/confirmations/confirmation/templates/error.js","ui/pages/confirmations/confirmation/templates/index.js","ui/pages/confirmations/confirmation/templates/remove-snap-account.js","ui/pages/confirmations/confirmation/templates/smart-transaction-status-page.js","ui/pages/confirmations/confirmation/templates/snap-account-redirect.js","ui/pages/confirmations/confirmation/templates/snaps/snap-alert/snap-alert.js","ui/pages/confirmations/confirmation/templates/snaps/snap-confirmation/snap-confirmation.js","ui/pages/confirmations/confirmation/templates/snaps/snap-default/snap-default.js","ui/pages/confirmations/confirmation/templates/snaps/snap-prompt/snap-prompt.js","ui/pages/confirmations/confirmation/templates/success.js","ui/pages/confirmations/confirmation/templates/switch-ethereum-chain.js","ui/pages/confirmations/confirmation/util.ts","ui/pages/confirmations/constants/index.ts","node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.development.js","node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.production.min.js","node_modules/@keystonehq/bc-ur-registry-eth/dist/index.js","ui/pages/confirmations/selectors/confirm.ts","node_modules/@keystonehq/bc-ur-registry/dist/Bytes.js","ui/pages/confirmations/send/send.constants.js","ui/pages/confirmations/send/send.utils.js","ui/pages/confirmations/utils/confirm.ts","ui/pages/confirmations/utils/index.ts","node_modules/@keystonehq/bc-ur-registry/dist/CryptoAccount.js","node_modules/@keystonehq/bc-ur-registry/dist/CryptoCoinInfo.js","node_modules/@keystonehq/bc-ur-registry/dist/CryptoECKey.js","node_modules/@keystonehq/bc-ur-registry/dist/CryptoHDKey.js","node_modules/@keystonehq/bc-ur-registry/dist/CryptoKeypath.js","node_modules/@keystonehq/bc-ur-registry/dist/CryptoOutput.js","node_modules/@keystonehq/bc-ur-registry/dist/CryptoPSBT.js","node_modules/@keystonehq/bc-ur-registry/dist/Decoder/index.js","node_modules/@keystonehq/bc-ur-registry/dist/MultiKey.js","node_modules/@keystonehq/bc-ur-registry/dist/PathComponent.js","node_modules/@keystonehq/bc-ur-registry/dist/RegistryItem.js","node_modules/@keystonehq/bc-ur-registry/dist/RegistryType.js","node_modules/@keystonehq/bc-ur-registry/dist/ScriptExpression.js","node_modules/@keystonehq/bc-ur-registry/dist/errors/index.js","node_modules/@keystonehq/bc-ur-registry/dist/extended/CryptoMultiAccounts.js","node_modules/@keystonehq/bc-ur-registry/dist/extended/DerivationSchema.js","node_modules/@keystonehq/bc-ur-registry/dist/extended/KeyDerivation.js","node_modules/@keystonehq/bc-ur-registry/dist/extended/QRHardwareCall.js","node_modules/@keystonehq/bc-ur-registry/dist/index.js","node_modules/@keystonehq/bc-ur-registry/dist/lib/DataItem.js","node_modules/@keystonehq/bc-ur-registry/dist/lib/cbor-sync.js","node_modules/@keystonehq/bc-ur-registry/dist/lib/index.js","node_modules/@keystonehq/bc-ur-registry/dist/patchCBOR.js","ui/pages/swaps/swaps.util.ts","node_modules/@keystonehq/bc-ur-registry/dist/types.js","node_modules/@keystonehq/bc-ur-registry/dist/utils.js","ui/selectors/approvals.ts","ui/selectors/confirm-transaction.js","ui/selectors/custom-gas.js","ui/selectors/first-time-flow.js"],"names":["exports","default","ADD_CUSTOM_TOKENS","ADD_MISSING_ACCOUNTS","BASIC_SAFETY","CUSTOMIZE_NONCE","GAS_FEES","HARDWARE_CONNECTION","IMPORT_ACCOUNTS","IMPORTED_ACCOUNTS","INFURA_BLOCKAGE","LEDGER_FIREFOX_U2F_GUIDE","LEGACY_WEB3","NFT_TOKENS","PASSWORD_AND_SRP_ARTICLE","SECRET_RECOVERY_PHRASE","NON_CUSTODIAL_WALLET","SPEEDUP_CANCEL","SUPPORT_URL","TOKEN_ALLOWANCE_WITH_SPENDING_CAP","TOKEN_SAFETY_PRACTICES","UNKNOWN_NETWORK","USER_GUIDE_CUSTOM_NETWORKS","USER_GUIDE_DAPPS","USER_GUIDE_GAS","VERIFY_CUSTOM_NETWORK","NETWORK_DEPRECATED","Object","defineProperty","value","version","assetName","buildType","assetList","keys","includes","console","error","main","foxMeshJson","undefined","firstValue","otherValues","reduce","numericAcc","ethAmount","add","_Numeric","Numeric","round","toString","fiatAmount","txData","txParams","dappSuggestedGasFees","gasPrice","txParamsGasPrice","maxFeePerGas","txParamsMaxFeePerGas","maxPriorityFeePerGas","txParamsMaxPriorityFeePerGas","dappGasPrice","dappMaxFeePerGas","dappMaxPriorityFeePerGas","dappDidNotSuggestFeeProperties","txParamsGasPriceMatchesDappSuggestedGasPrice","txParamsEIP1559FeesMatchDappSuggestedGasPrice","every","fee","txParamsEIP1559FeesMatchDappSuggestedEIP1559Fees","Boolean","fromCurrency","_common","EtherDenomination","ETH","toCurrency","conversionRate","contractExchangeRate","totalExchangeRate","tokenInFiat","applyConversionRate","currencyCode","precision","upperCaseCurrencyCode","toUpperCase","_currencies","find","currency","code","_currencyFormatter","format","Number","gasLimit","times","toPrefixedHexString","numberOfDecimals","WEI","toDenomination","toBase","decimalString","bigNumberValue","_bignumber","BigNumber","e","toPrecision","_interopRequireDefault","require","obj","__esModule","ethFee","currencySymbol","parseBytes32String","formatBytes32String","constants_1","bytes_1","utf8_1","text","bytes","toUtf8Bytes","length","Error","hexlify","concat","HashZero","slice","data","arrayify","toUtf8String","network","_network","NETWORK_TYPES","LINEA_SEPOLIA","LINEA_MAINNET","_react","Sentry","r","t","_getRequireWildcardCache","has","get","n","__proto__","a","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","_interopRequireWildcard","_i18n","WeakMap","getMessage","localeCode","localeMessages","key","substitutions","join","some","element","parts","createElement","captureException","jazzicon","iconFactory","IconFactory","_hexstringUtils","_defineProperty","arg","input","hint","prim","Symbol","toPrimitive","res","TypeError","String","_toPrimitive","_toPropertyKey","enumerable","configurable","writable","constructor","generateSeed","jsNumberForAddress","this","cache","iconForAddress","address","diameter","tokenMetadata","iconUrl","isValidHexAddress","allowNonPrefixed","iconExistsFor","img","document","src","style","width","imageElFor","generateIdenticonSvg","cacheId","generateNewIdenticon","cloneNode","numericRepresentation","addr","parseInt","accountType","requestId","camelCase","replace","_transactionController","_securityProvider","_metametrics","_transactionsControllerUtils","getBlockaidMetricsProps","securityAlertResponse","params","providerRequestsCount","reason","result_type","resultType","description","source","uiCustomization","BlockaidResultType","Malicious","MetaMetricsEventUiCustomization","FlaggedAsMalicious","Warning","FlaggedAsWarning","Errored","SecurityAlertError","getBlockaidMetricUiCustomization","ui_customizations","Benign","security_alert_reason","BlockaidReason","notApplicable","security_alert_description","security_alert_response","NotApplicable","security_alert_source","forEach","getSwapAndSendMetricsProps","transactionMeta","type","TransactionType","swapAndSend","chainId","sourceTokenAmount","sourceTokenDecimals","destinationTokenAmount","destinationTokenDecimals","sourceTokenSymbol","destinationTokenAddress","destinationTokenSymbol","sourceTokenAddress","chain_id","token_amount_source","calcTokenAmount","token_amount_dest_estimate","token_symbol_source","token_symbol_destination","token_address_source","token_address_destination","nameprep","_nameprepTableC","_nameprepTableB2","_nameprepTableA1","createTable","func","lo","result","split","pair","comps","createRangeTable","hi","map","v","l","h","matchMap","ranges","range","d","indexOf","Table_A_1_ranges","Table_B_1_flags","Table_B_2_ranges","s","Table_B_2_lut_abs","Table_B_2_lut_rel","Table_B_2_complex","push","substring","Table_C_ranges","codepoint","codes","shift","complex","match","toLowerCase","values","toUtf8CodePoints","codesTableB2","accum","_toUtf8String","UnicodeNormalizationForm","NFKC","name","async","tokenAddress","currentUserAddress","transactionData","existingNfts","_getTokenIdParam","_tokenDetails","_tokenDetails2","tokenData","_transaction","parseStandardTokenTransactionData","tokenId","getTokenIdParam","_metamaskControllerUtils","getTokenValueParam","toAddress","getTokenAddressParam","tokenDetails","existingNft","_tokenId","_stringUtils","isEqualCaseInsensitive","symbol","_actions","getTokenStandardAndDetails","_loglevel","warn","tokenValue","tokenDecimals","decimals","tokenAmount","standard","_transaction2","TokenStandard","ERC20","_tokenData$args6","args","_approved","currentCurrency","tokenSymbol","formatted","hideCurrencySymbol","currentTokenToFiatRate","currentTokenInFiat","_confirmTx","formatCurrency","tokens","tokenList","getSymbolAndDecimalsAndName","util","DEFAULT_SYMBOL","getTokenMetadata","getSymbol","token","getContractAtAddress","getSymbolFromContract","contractMetadataInfo","getName","getNameFromContract","getDecimals","decimalsBN","getDecimalsFromContract","_contractMetadataInfo","fulfilled","Promise","allSettled","filter","status","_tokenData$args","_tokenData$args2","_tokenData$args3","_to","to","_tokenData$args4","_tokenData$args5","id","prefixedData","_util","addHexPrefix","transactions","nonce","acc","current","submittedTime","currentNonce","transaction","txReceipt","receiptStatus","TransactionStatus","failed","confirmed","cancel","TransactionGroupStatus","cancelled","nativeCurrency","tokenMethodTransfer","tokenMethodTransferFrom","tokenMethodSafeTransferFrom","tokenMethodApprove","tokenMethodSetApprovalForAll","tokenMethodIncreaseAllowance","simpleSend","contractInteraction","deployContract","swap","swapApproval","TransactionEnvelopeType","legacy","isContractAddress","_contractUtils","readAddressAsContract","global","eth","_controllerUtils","isNFTAssetStandard","assetStandard","ERC1155","ERC721","unapprovedTxs","personalMsgs","decryptMsgs","encryptionPublicKeyMsgs","typedMessages","debug","txValues","valuesFor","txMeta","personalValues","decryptValues","encryptionPublicKeyValues","typedValues","allValues","sort","b","time","firstSegLength","lastSegLength","includeHex","checked","_address","normalizeSafeAddress","stripHexPrefix","gt","gte","lt","lte","list","window","navigator","clipboard","writeText","balance","decimalsToKeep","needsParse","ticker","parsed","parseBalance","beforeDecimal","afterDecimal","sigFigs","Array","date","_luxon","DateTime","fromMillis","toFormat","timestamp","day","suffix","getOrdinalSuffix","formatThisYear","fallback","dateTime","now","local","year","accounts","targetAddress","image","ipfsGateway","startsWith","_assetsControllers","getFormattedIpfsUrl","_error","logErrorWithMessage","contract","_humanStandardTokenAbi","at","browser","_bowser","getParser","userAgent","satisfies","OUTDATED_BROWSER_VERSIONS","fileName","charBank","fileNameLength","Math","floor","random","url","_getURL","getURL","host","_getURL2","hostname","CHAIN_IDS","MAINNET","GOERLI","SEPOLIA","LINEA_GOERLI","LOCALHOST","urlLike","EXT_PROTOCOLS","protocol","sendTokenAddress","_punycode","toASCII","numberish","numberOfDecimalPlaces","toFixed","toNumber","shortenString","truncatedCharLimit","_labels","TRUNCATED_NAME_CHAR_LIMIT","truncatedStartChars","TRUNCATED_ADDRESS_START_CHARS","truncatedEndChars","TRUNCATED_ADDRESS_END_CHARS","skipCharacterInEnd","urlString","port","stripHttpsScheme","ethUtil","lodash","_snapsRpcMethods","_snapsUtils","_utils","_conversion","_routes","numericBalance","BN","stripped","wei","weiString","stringToShorten","URL","err","formatUTCDateFromUnixTimestamp","unixTimestamp","fromSeconds","toUTC","toHumanReadableTime","milliseconds","seconds","ceil","SOLIDITY_TYPES","ints","from","_","index","uints","fixedM","ufixedM","fixed","aFixedM","ufixed","auFixedM","flat","solidityTypes","stripOneLayerofNesting","potentialArrayType","sanitizeMessage","msg","primaryType","types","isArray","baseType","stripArrayType","baseTypeDefinitions","sanitizedStruct","msgKey","definedType","baseTypeDefinition","getSnapName","snapsMetadata","snapId","_snapsMetadata$snapId","stripSnapPrefix","getSnapRoute","SNAPS_VIEW_ROUTE","encodeURIComponent","getDedupedSnaps","request","permissions","_request$permissions","_permissions$WALLET_S","permission","WALLET_SNAP_PERMISSION_KEY","requestedSnaps","caveats","currentSnaps","isObject","requestedSnapKeys","currentSnapKeys","dedupedSnaps","IS_FLASK","sanitizeString","isString","getNetworkNameFromProviderType","providerName","RPC","isAbleToExportAccount","keyringType","checkTokenIdExists","isHex","isStrictHexString","convertedTokenId","hexToDecimal","checkSumAdr","toChecksumHexAddress","nfts","nft","fetchTokenExchangeRates","tokenAddresses","fetchTokenContractExchangeRates","tokenPricesService","CodefiTokenPricesServiceV2","hexToText","hex","buff","Buffer","getAvatarFallbackLetter","subjectName","_subjectName$match","getFilteredSnapPermissions","weightedPermissions","weightThreshold","Infinity","minPermissionCount","filteredPermissions","weight","remainingPermissions","Utf8ErrorReason","Utf8ErrorFuncs","_toEscapedUtf8String","bytes32_1","idna_1","logger_1","_version_1","logger","Logger","ignoreFunc","offset","output","badCodepoint","BAD_PREFIX","UNEXPECTED_CONTINUE","o","OVERRUN","getUtf8CodePoints","onError","c","extraLength","overlongMask","j","nextChar","MISSING_CONTINUE","OUT_OF_RANGE","UTF16_SURROGATE","OVERLONG","str","form","checkNormalize","normalize","charCodeAt","c2","escapeChar","codePoints","codePoint","fromCharCode","freeze","throwArgumentError","ignore","useContext","I18nContext","__createBinding","create","m","k","k2","__setModuleDefault","__importStar","mod","parse","serialize","accessListify","recoverAddress","computeAddress","TransactionTypes","address_1","bignumber_1","keccak256_1","properties_1","RLP","signing_key_1","handleAddress","getAddress","handleNumber","Zero","transactionFields","maxLength","numeric","allowedTransactionKeys","publicKey","computePublicKey","hexDataSlice","keccak256","digest","signature","recoverPublicKey","formatNumber","stripZeros","toHexString","accessSetify","storageKeys","storageKey","hexDataLength","localeCompare","formatAccessList","_serializeEip1559","eq","fields","accessList","sig","splitSignature","recoveryParam","hexConcat","encode","_serializeEip2930","_parseEipSignature","tx","recid","hexZeroPad","checkProperties","raw","fieldInfo","options","hexPad","isBytesLike","pop","_serialize","throwError","errors","UNSUPPORTED_OPERATION","operation","transactionType","rawTransaction","payload","decode","isZero","hash","_parse","_parseEip2930","_parseEip1559","parseEther","formatEther","parseUnits","formatUnits","commify","names","unitName","formatFixed","parseFixed","whole","negative","unshift","ether","extendStatics","__extends","setPrototypeOf","p","__","__awaiter","thisArg","_arguments","P","generator","resolve","reject","step","next","rejected","done","then","apply","__generator","body","f","y","g","label","sent","trys","ops","verb","throw","return","iterator","op","verifyTypedData","verifyMessage","Wallet","abstract_provider_1","abstract_signer_1","hash_1","hdnode_1","random_1","json_wallets_1","transactions_1","_super","privateKey","provider","_this","isHexString","signingKey_1","SigningKey","defineReadOnly","mnemonic","phrase","hasMnemonic","srcMnemonic_1","path","defaultPath","locale","node","HDNode","fromMnemonic","derivePath","isSigningKey","curve","signingKey_2","Provider","isProvider","_mnemonic","_signingKey","connect","signTransaction","resolveProperties","signDigest","signMessage","message","_a","joinSignature","hashMessage","_signTypedData","domain","populated","_TypedDataEncoder","resolveNames","resolveName","encrypt","password","progressCallback","encryptKeystore","createRandom","entropy","randomBytes","extraEntropy","entropyToMnemonic","fromEncryptedJson","json","decryptJsonWallet","account","fromEncryptedJsonSync","decryptJsonWalletSync","wordlist","Signer","getUrl","href","opts","response","headers","method","skipFetchSetup","mode","credentials","redirect","referrer","fetchOptions","fetch","arrayBuffer","statusCode","statusMessage","statusText","Uint8Array","poll","fetchJson","_fetchData","base64_1","strings_1","geturl_1","staller","duration","setTimeout","bodyify","trim","connection","processFunc","attemptLimit","throttleLimit","assertArgument","throttleCallback","throttleSlotInterval","errorPassThrough","allow304","timeout","allowGzip","user","allowInsecureAuthentication","INVALID_ARGUMENT","argument","authorization","shallowCopy","reData","RegExp","dataMatch","all","SERVER_ERROR","requestBody","requestMethod","flatHeaders","header","timer","runningTimeout","promise","makeError","TIMEOUT","clearTimeout","runningFetch","attempt","location_1","retryAfter","error_1","body_1","error_2","tryAgain","location","pow","serverError","throttleRetry","race","updated","JSON","ceiling","interval","retryLimit","check","oncePoll","once","onceBlock","wordlists","Wordlist","wordlist_1","wordlists_1","langCz","loadWords","lang","LangCz","getWord","getWordIndex","word","register","langEn","LangEn","langEs","lookup","dropDiacritic","w","LangEs","langFr","LangFr","langIt","LangIt","langJa","transform","length_1","tmp","kana","target","LangJa","words","langKo","LangKo","langZhTw","langZhCn","zh_cn","zh_tw","Checks","deltaOffset","i_1","LangZh","country","_newTarget","checkAbstract","lang_cz_1","lang_en_1","lang_es_1","lang_fr_1","lang_ja_1","lang_ko_1","lang_it_1","lang_zh_1","cz","en","es","fr","it","ja","ko","zh","app","component","container","addOrOverwriteComponent","_components","clear","settings","instanceIdentifier","DEFAULT_ENTRY_NAME","_getProvider","clearInstance","_apps","getDefaultAppConfig","initializeApp","ERROR_FACTORY","appName","_options","_serverAppConfig","isBrowser","automaticDataCollectionEnabled","appOptions","_isFirebaseApp","nameObj","assign","releaseOnDeref","FinalizationRegistry","nameString","stringify","imul","existingApp","_serverApps","incRefCount","_component","ComponentContainer","addComponent","newApp","FirebaseServerAppImpl","logCallback","_logger","setUserLogHandler","logLevel","setLogLevel","PlatformLoggerServiceImpl","getPlatformInfoString","getProviders","getComponent","isVersionServiceProvider","service","getImmediate","library","logString","_DEFAULT_ENTRY_NAME","PLATFORM_LOG_STRING","name$o","firebase","Map","_addComponent","_registerComponent","componentName","serverApp","heartbeatController","getProvider","optional","triggerHeartbeat","ERRORS","ErrorFactory","FirebaseAppImpl","config","_isDeleted","_config","_name","_automaticDataCollectionEnabled","_container","Component","checkDestroyed","val","isDeleted","serverConfig","apiKey","super","_serverConfig","_finalizationRegistry","automaticCleanup","_refCount","registerVersion","version$1","toJSON","refCount","decRefCount","deleteApp","SDK_VERSION","rawConfig","deepEqual","cleanupProviders","delete","libraryKeyOrName","variant","libraryMismatch","versionMismatch","warning","DB_NAME","DB_VERSION","STORE_NAME","dbPromise","getDbPromise","_idb","openDB","upgrade","db","oldVersion","createObjectStore","catch","originalErrorMessage","writeHeartbeatsToIndexedDB","heartbeatObject","objectStore","put","computeKey","FirebaseError","idbGetError","appId","HeartbeatServiceImpl","_heartbeatsCache","_storage","HeartbeatStorageImpl","_heartbeatsCachePromise","read","agent","getUTCDateString","heartbeats","_b","lastSentHeartbeatDate","singleDateHeartbeat","hbTimestamp","Date","valueOf","overwrite","getHeartbeatsHeader","heartbeatsToSend","unsentEntries","heartbeatsCache","maxSize","heartbeatEntry","hb","dates","countBytes","extractHeartbeatsForHeader","headerString","base64urlEncodeWithoutPadding","toISOString","_canUseIndexedDBPromise","runIndexedDBEnvironmentCheck","isIndexedDBAvailable","validateIndexedDBOpenable","idbHeartbeatObject","readHeartbeatsFromIndexedDB","heartbeatsObject","existingHeartbeatsObject","instanceFactory","multipleInstances","serviceProps","instantiationMode","onInstanceCreated","setInstantiationMode","setMultipleInstances","setServiceProps","props","setInstanceCreatedCallback","callback","instances","instancesDeferred","instancesOptions","onInitCallbacks","identifier","normalizedIdentifier","normalizeInstanceIdentifier","deferred","Deferred","isInitialized","shouldAutoInitialize","instance","getOrInitializeService","setComponent","isComponentEager","instanceDeferred","entries","services","INTERNAL","_delete","isComponentSet","getOptions","initialize","onInit","existingCallbacks","Set","existingInstance","invokeOnInitCallbacks","callbacks","providers","installations","appConfig","entry","update","oldEntry","registrationStatus","onLine","installationEntry","endpoint","fid","getInstallationsEndpoint","getDeleteEndpoint","getHeadersWithAuth","retryIfServerError","ok","getErrorFromResponse","deleteInstallationRequest","remove","_app","getApp","getBroadcastChannel","getKey","callbackSet","fidChangeCallbacks","addCallback","size","closeBroadcastChannel","removeCallback","PENDING_TIMEOUT_MS","PACKAGE_VERSION","INTERNAL_AUTH_VERSION","INSTALLATIONS_API_URL","TOKEN_EXPIRATION_BUFFER","ERROR_DESCRIPTION_MAP","isServerError","projectId","extractAuthTokenInfoFromResponse","requestStatus","expiresIn","responseExpiresIn","creationTime","requestName","errorData","serverCode","serverMessage","serverStatus","getHeaders","Headers","Accept","refreshToken","append","getAuthorizationHeader","fn","sleep","ms","VALID_FID_PATTERN","INVALID_FID","generateFid","fidByteArray","self","crypto","msCrypto","getRandomValues","b64String","array","btoa","substr","test","fidChanged","callFidChangeCallbacks","channel","postMessage","broadcastFidChange","broadcastChannel","BroadcastChannel","onmessage","close","DATABASE_NAME","DATABASE_VERSION","OBJECT_STORE_NAME","oldValue","updateFn","store","newValue","getInstallationEntry","registrationPromise","clearTimedOutRequest","updateOrCreateInstallationEntry","entryWithPromise","inProgressEntry","registrationTime","registeredInstallationEntry","heartbeatServiceProvider","heartbeatService","heartbeatsHeader","authVersion","sdkVersion","responseValue","authToken","createInstallationRequest","customData","registerInstallation","waitUntilFidRegistration","triggerRegistrationIfNecessary","updateInstallationRequest","generateAuthTokenRequest","getGenerateAuthTokenEndpoint","installation","refreshAuthToken","forceRefresh","tokenPromise","isEntryRegistered","oldAuthToken","isAuthTokenExpired","isAuthTokenValid","updateAuthTokenRequest","waitUntilAuthTokenRequest","inProgressAuthToken","requestTime","makeAuthTokenRequestInProgressEntry","updatedInstallationEntry","fetchAuthTokenFromServer","getId","installationsImpl","getToken","completeInstallationRegistration","getMissingValueError","valueName","INSTALLATIONS_NAME","publicFactory","configKeys","keyName","extractAppConfig","internalFactory","LogLevel","levelStringToEnum","DEBUG","verbose","VERBOSE","info","INFO","WARN","ERROR","silent","SILENT","defaultLogLevel","ConsoleMethod","defaultLogHandler","logType","_i","arguments","tslib","__spreadArray","_logLevel","_logHandler","_userLogHandler","log","level","inst","customLogLevel","userLogHandler","ignored","instances_1","messaging","swRegistration","registerDefaultSw","dbGet","firebaseDependencies","requestDeleteToken","dbRemove","pushSubscription","pushManager","getSubscription","unsubscribe","deleteTokenInternal","deleteToken$1","getModularInstance","isWindowSupported","isSupported","getToken$1","nextOrObserver","onMessageHandler","onMessage$1","DEFAULT_SW_PATH","DEFAULT_SW_SCOPE","DEFAULT_VAPID_KEY","ENDPOINT","CONSOLE_CAMPAIGN_ID","CONSOLE_CAMPAIGN_NAME","CONSOLE_CAMPAIGN_TIME","MessageType$1","MessageType","arrayToBase64","uint8Array","base64ToArray","base64String","base64","repeat","rawData","atob","outputArray","OLD_DB_NAME","OLD_DB_VERSION","OLD_OBJECT_STORE_NAME","upgradeDb","oldTokenDetails","senderId","indexedDB","dbNames","databases","newVersion","upgradeTransaction","objectStoreNames","contains","oldDetails","auth","p256dh","fcmToken","createTime","subscriptionOptions","swScope","vapidKey","deleteDB","checkTokenDetails","migrateOldDatabase","dbSet","ERROR_MAP","unsubscribeOptions","getEndpoint","responseData","errorInfo","getBody","web","applicationPubKey","TOKEN_EXPIRATION_MS","getTokenInternal","subscription","subscribe","userVisibleOnly","applicationServerKey","getPushSubscription","scope","dbOptions","currentOptions","isVapidKeyEqual","isEndpointEqual","isAuthEqual","isP256dhEqual","isTokenValid","updatedToken","updateOptions","requestUpdateToken","updatedTokenDetails","updateToken","getNewToken","subscribeOptions","requestGetToken","externalizePayload","internalPayload","collapseKey","collapse_key","messageId","fcmMessageId","messagePayloadInternal","notification","title","icon","propagateNotificationPayload","propagateDataPayload","fcmOptions","click_action","link","_c","_d","analyticsLabel","_e","analytics_label","propagateFcmOptions","_mergeStrings","s1","s2","resultArray","charAt","MessagingService","analyticsProvider","deliveryMetricsExportedToBigQueryEnabled","onBackgroundMessageHandler","logEvents","isLogServiceStarted","messagingSenderId","serviceWorker","browserErrorMessage","Notification","requestPermission","updateVapidKey","ServiceWorkerRegistration","updateSwReg","serviceWorkerRegistration","logToScion","messageType","eventType","NOTIFICATION_CLICKED","PUSH_RECEIVED","getEventType","logEvent","message_id","message_name","message_time","message_device_time","messageEventListener","event","isFirebaseMessaging","dataPayload","WindowMessagingFactory","addEventListener","WindowMessagingInternalFactory","areCookiesEnabled","PushSubscription","FCM_MSG","SDK_PLATFORM_WEB","EVENT_MESSAGE_DELIVERED","__read","idb","err_1","err_2","err_3","e_1","__assign","stageLog","createFcmEvent","fcmEvent","productId","event_time_ms","source_extension_json_proto3","compliance_data","complianceData","privacy_context","prequest","origin_associated_product_id","buildComplianceData","createAndEnqueueLogEvent","project_number","instance_id","message_type","DISPLAY_NOTIFICATION","DATA_MESSAGE","sdk_platform","package_name","origin","onNotificationClick","action","stopImmediatePropagation","getLink","originUrl","getWindowClient","client","clients","openWindow","focus","wrapInternalPayload","wrappedInternalPayload","getClientList","clientList","clientList_1","__values","clientList_1_1","clientUrl","sendMessagePayloadInternalToWindows","clientList_2","clientList_2_1","matchAll","includeUncontrolled","showNotification","notificationPayloadInternal","actions","maxActions","registration","configKeys_1","configKeys_1_1","SwMessagingFactory","waitUntil","getMessagePayloadInternal","visibilityState","hasVisibleClients","onPush","newSubscription","onSubChange","isSwSupported","enable","_setDeliveryMetricsExportedToBigQueryEnabled","app$1","onBackgroundMessage$1","cookieEnabled","backoffCount","intervalMillis","DEFAULT_INTERVAL_MILLIS","backoffFactor","DEFAULT_BACKOFF_FACTOR","currBaseValue","randomWait","RANDOM_FACTOR","min","MAX_VALUE_MILLIS","uid","project","iat","sub","user_id","iss","aud","exp","auth_time","sign_in_provider","identities","alg","executor","onNoObservers","proxy","ObserverProxy","bind","deepExtend","aKeys","bKeys","aProp","bProp","queryStart","fragmentStart","_delegate","runtime","chrome","getUA","ua","CONSTANTS","NODE_CLIENT","NODE_ADMIN","isNode","contextObj","isFinite","abs","cent","dec","indicator","timeInMS","deferredPromise","querystringParams","arrayVal","querystring","decodeURIComponent","fnName","argumentName","errorPrefix","context","preExist","DB_CHECK_NAME","open","onsuccess","deleteDatabase","onupgradeneeded","onerror","namespace","assert","assertion","assertionError","stringToByteArray$1","out","byteToCharMap_","charToByteMap_","byteToCharMapWebSafe_","charToByteMapWebSafe_","ENCODED_VALS_BASE","ENCODED_VALS","ENCODED_VALS_WEBSAFE","HAS_NATIVE_SUPPORT","encodeByteArray","webSafe","init_","byteToCharMap","byte1","haveByte2","byte2","haveByte3","byte3","outByte1","outByte2","outByte3","outByte4","encodeString","decodeString","pos","c1","c3","byteArrayToString","decodeStringToByteArray","charToByteMap","byte4","DecodeBase64StringError","base64Encode","utf8Bytes","base64Decode","getTime","prop","getGlobal","getDefaults","__FIREBASE_DEFAULTS__","process","env","getDefaultsFromEnvVariable","cookie","decoded","getDefaultsFromCookie","getDefaultEmulatorHost","productName","emulatorHosts","getDefaultEmulatorHostnameAndPort","separatorIndex","lastIndexOf","getExperimentalSetting","wrapCallback","forceEnvironment","captureStackTrace","serviceName","fullCode","template","PATTERN","replaceTemplate","fullMessage","jsonEval","claims","isValidTimestamp","validSince","validUntil","issuedAtTime","isValidFormat","thing","isAdmin","Sha1","chain_","buf_","W_","pad_","inbuf_","total_","blockSize","reset","compress_","buf","W","lengthMinusBlock","inbuf","totalBits","observers","unsubscribes","observerCount","task","finalized","forEachObserver","observer","complete","methods","implementsAnyMethods","noop","unsub","unsubscribeOne","finalError","sendOne","argName","validateArgCount","minCount","maxCount","argCount","argError","stringToByteArray","high","stringLength","uuidv4","draw","aliasData","outcomes","rng","prob","alias","probabilities","indexedOutcomes","sum","scaledProbabilities","small","large","less","more","precomputeAlias","numOfSamples","samples","_componentLibrary","_designSystem","_checkPrivateRedeclaration","privateCollection","_classPrivateFieldSet","receiver","privateMap","descriptor","_classApplyDescriptorSet","_classExtractFieldDescriptor","_type","_getContent","WeakSet","_getContent2","requestData","isSuccess","_classApplyDescriptorGet","ApprovalType","ResultSuccess","processHeader","flexDirection","FlexDirection","Column","alignItems","AlignItems","center","height","BlockSize","Full","padding","children","justifyContent","JustifyContent","alignSelf","stretch","iconName","IconName","Confirmation","IconSize","Xl","iconProps","color","IconColor","successDefault","errorDefault","backgroundColor","BackgroundColor","successMuted","errorMuted","TypographyVariant","H3","fontWeight","FontWeight","Bold","textAlign","TextAlign","Center","processString","processError","ResultTemplate","privateSet","_classPrivateFieldInitSpec","getValues","pendingApproval","content","_classPrivateMethodGet","submitText","onSubmit","resolvePendingApproval","networkDisplay","_ethRpcErrors","_networkController","_zendeskUrl","_rpc","_confirm","UNRECOGNIZED_CHAIN","severity","Severity","translationKey","SAFE_CHAIN_LIST_PROVIDER_ERROR","MISMATCHED_CHAIN_RECOMMENDATION","variables","tabIndex","DEPRECATED_CHAIN_ALERT","MISMATCHED_NETWORK_NAME","MISMATCHED_NETWORK_SYMBOL","Danger","MISMATCHED_NETWORK_RPC","MISMATCHED_NETWORK_RPC_CHAIN_ID","ERROR_CONNECTING_TO_RPC","addEthereumChain","getAlerts","alerts","matchedChain","_data$matchedChain$na","_data$matchedChain$na2","_pendingApproval$requ","_data$matchedChain$rp","chainName","rpcUrl","rpc","DEPRECATED_NETWORKS","useSafeChainsListValidation","providerError","history","_customRpcUrl$toLower","originIsMetaMask","customRpcUrl","subtitle","existingNetworkConfiguration","hide","display","Display","Flex","marginTop","marginBottom","backgroundAlternative","leftIconUrl","imageUrl","align","boxProps","margin","H7","position","interactive","trigger","html","rel","className","marginLeft","tooltips","warnings","isValidASCIIURL","toPunycodeURL","currencySymbolWarning","dictionary","infuraProjectId","rpcPrefs","blockExplorerUrl","prefaceKeys","cancelText","loadingText","endpointChainId","jsonRpcRequest","blockExplorer","addedNetwork","addNetwork","blockExplorerUrls","defaultBlockExplorerUrlIndex","defaultRpcEndpointIndex","rpcEndpoints","RpcEndpointType","Custom","setNewNetworkAdded","networkConfigurationId","networkClientId","nickname","DEFAULT_ROUTE","onCancel","rejectPendingApproval","ethErrors","userRejectedRequest","getState","useWarningModal","createNamedSnapAccount","_history","_data","contexts","snapName","snapSuggestedAccountName","trackEvent","trackSnapAccountEvent","category","MetaMetricsEventCategory","Accounts","properties","account_type","MetaMetricsEventAccountType","Snap","snap_id","snap_name","onActionComplete","success","MetaMetricsEventName","AddSnapAccountConfirmed","AddSnapAccountCanceled","hideSubmitButton","onLoad","AddSnapAccountViewed","createSnapAccount","ResultError","state","_APPROVAL_TEMPLATES$p","APPROVAL_TEMPLATES","results","_APPROVAL_TEMPLATES$p2","emptyState","dispatch","_APPROVAL_TEMPLATES$p3","safeActions","deleteInterface","getAttenuatedDispatch","extraneousKeys","_lodash","omit","ALLOWED_TEMPLATE_KEYS","safeValues","pick","_smartTransactionStatusPage","_createSnapAccount","_removeSnapAccount","_snapAccountRedirect","_createNamedSnapAccount","_addEthereumChain","_switchEthereumChain","_success","_snapAlert","_snapConfirmation","_snapPrompt","_snapDefault","PRIORITY_APPROVAL_TEMPLATE_TYPES","SMART_TRANSACTION_CONFIRMATION_TYPES","showSmartTransactionStatusPage","AddEthereumChain","SwitchEthereumChain","SnapDialogAlert","SnapDialogConfirmation","SnapDialogPrompt","SnapDialogDefault","SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES","confirmAccountCreation","confirmAccountRemoval","showNameSnapAccount","showSnapAccountRedirect","TEMPLATED_CONFIRMATION_APPROVAL_TYPES","removeSnapAccount","publicAddress","RemoveSnapAccountCanceled","RemoveSnapAccountViewed","RemoveSnapAccountConfirmed","smartTransactionStatusPage","requestState","onCloseExtension","onViewActivity","isBlockedUrl","Transactions","SnapAccountTransactionFinalizeRedirectSnapUrlClicked","SnapAccountTransactionFinalizeViewed","SnapAccountTransactionFinalizeClosed","SnapAccountTransactionFinalizeRedirectGoToSiteClicked","snapAlert","snapConfirmation","snapDefault","_t","snapConfirm","inputValue","PENDING_TX_DROP_NOTICE","SEVERITIES","WARNING","switchEthereumChain","_pendingApproval","unapprovedTxsCount","TextColor","textAlternative","toNetwork","toNetworkConfiguration","fromNetwork","fromNetworkConfiguration","convertResultComponents","currentInput","pattern","getElement","matches","elements","rawText","formattedElement","finalRawText","findMarkdown","formattedText","IGNORE_GAS_LIMIT_CHAIN_IDS","CHAINLIST_CHAIN_IDS_MAP","MANTLE","TYPED_SIGNATURE_VERSIONS","V1","V3","V4","SPENDING_CAP_UNLIMITED_MSG","ex","bcUrRegistry","uuid","HDKey","ExtendedRegistryTypes","ETH_SIGN_REQUEST","RegistryType","ETH_SIGNATURE","ETH_NFT_ITEM","decodeToDataItem","RegistryTypes","extend","Keys","DataType","EthSignRequest","RegistryItem","getRegistryType","getRequestId","getSignData","signData","getDataType","dataType","getChainId","getDerivationPath","derivationPath","getPath","getSourceFingerprint","getSignRequestAddress","getOrigin","toDataItem","DataItem","UUID","getTag","keyPath","setTag","constructETHRequest","signDataType","hdPath","xfp","uuidString","paths","hdpathObject","CryptoKeypath","isHardened","endsWith","PathComponent","hardened","fromDataItem","dataItem","getData","fromCBOR","_cborPayload","RegistryTypes$1","decodeToDataItem$1","Keys$1","ETHSignature","getSignature","decodeToDataItem$2","Keys$2","ETHNFTItem","getmediaData","mediaData","getContractAddress","contractAddress","getContractName","contractName","constructETHNFTItem","generateAddressFromXpub","xpub","fromExtendedKey","derive","publicToAddress","toChecksumAddress","patchTags","rt","findHDPathFromAddress","numberLimit","rootPath","typedData","personalMessage","typedTransaction","I","D","T","module","_selectors","getPreferences","isRedesignedConfirmationsDeveloperEnabled","_approvals","getPendingApprovals","ConfirmationApprovalTypes","_reselect","PersonalSign","EthSignTypedData","Transaction","pendingConfirmationsSortedSelector","a1","a2","internalLatestPendingConfirmationSelector","createSelector","pendingConfirmations","latestPendingConfirmationSelector","createDeepEqualSelector","latestPendingConfirmation","Bytes","lib_1","RegistryItem_1","RegistryType_1","BYTES","_gas","MIN_GAS_PRICE_DEC","MIN_GAS_PRICE_HEX","MIN_GAS_LIMIT_DEC","MAX_GAS_LIMIT_DEC","HIGH_FEE_WARNING_MULTIPLIER","MIN_GAS_PRICE_GWEI","GWEI","MIN_GAS_TOTAL","MIN_GAS_LIMIT_HEX","TOKEN_TRANSFER_FUNCTION_SIGNATURE","NFT_TRANSFER_FROM_FUNCTION_SIGNATURE","NFT_SAFE_TRANSFER_FROM_FUNCTION_SIGNATURE","INSUFFICIENT_FUNDS_ERROR","INSUFFICIENT_FUNDS_FOR_GAS_ERROR","INSUFFICIENT_TOKENS_ERROR","NEGATIVE_ETH_ERROR","NEGATIVE_OR_ZERO_AMOUNT_TOKENS_ERROR","FLOAT_TOKENS_ERROR","INVALID_RECIPIENT_ADDRESS_ERROR","REQUIRED_ERROR","KNOWN_RECIPIENT_ADDRESS_WARNING","CONTRACT_ADDRESS_ERROR","CONFUSING_ENS_ERROR","ENS_UNKNOWN_ERROR","NO_RESOLUTION_FOR_DOMAIN","SWAPS_NO_QUOTES","SWAPS_QUOTES_ERROR","RECIPIENT_TYPES","SMART_CONTRACT","NON_CONTRACT","initialGasLimitHex","blockGasLimitHex","bufferMultiplier","initialGasLimit","upperGasLimit","bufferedGasLimit","greaterThanOrEqualTo","lessThan","first","last","sendToken","fromAddress","amount","generateERC721TransferData","generateERC1155TransferData","generateERC20TransferData","gasTotal","primaryCurrency","totalAmount","balanceNumeric","tokenBalance","amountNumeric","shiftedBy","_abiUtils","_send","x","BigInt","_signatures","_constants","REDESIGN_APPROVAL_TYPES","REDESIGN_USER_TRANSACTION_TYPES","SIGNATURE_APPROVAL_TYPES","REDESIGN_DEV_TRANSACTION_TYPES","isSignatureApprovalRequest","SIGNATURE_TRANSACTION_TYPES","personalSign","signTypedData","isSignatureTransactionType","parseSanitizeTypedDataMessage","dataToParse","parseTypedDataMessage","sanitizedMessage","isSIWESignatureRequest","_msgParams","msgParams","siwe","isSIWEMessage","isOrderSignatureRequest","_request$msgParams","_request$msgParams2","PRIMARY_TYPES_ORDER","isPermitSignatureRequest","_msgParams2","_msgParams3","PRIMARY_TYPES_PERMIT","CryptoAccount","_1","masterFingerprint","outputDescriptors","CRYPTO_ACCOUNT","getMasterFingerprint","getOutputDescriptors","readUInt32BE","item","alloc","_masterFingerprint","writeUInt32BE","cryptoOutputs","CryptoOutput","CryptoCoinInfo","Network","Type","CRYPTO_COIN_INFO","getType","bitcoin","getNetwork","mainnet","CryptoECKey","isECKey","getCurve","isPrivateKey","CRYPTO_ECKEY","private","getOutputDescriptorContent","CryptoHDKey","bs58check_1","CryptoCoinInfo_1","CryptoKeypath_1","getChainCode","chainCode","isMaster","master","getUseInfo","useInfo","getChildren","getParentFingerprint","parentFingerprint","getNote","note","getBip32Key","depth","fill","getComponents","getDepth","lastPath","getIndex","depthBuffer","writeUInt8","indexBuffer","CRYPTO_HDKEY","_f","_g","setupMasterKey","setupDeriveKey","is_master","key_data","chain_code","is_private","use_info","parent_fingerprint","_parentFingerprint","PathComponent_1","components","sourceFingerprint","CRYPTO_KEYPATH","isWildcard","source_fingerprint","pathComponents","_sourceFingerprint","CryptoECKey_1","CryptoHDKey_1","MultiKey_1","ScriptExpression_1","scriptExpressions","cryptoKey","CRYPTO_OUTPUT","getCryptoKey","getHDKey","getECKey","getMultiKey","MultiKey","getScriptExpressions","_toOutputDescriptor","seIndex","getExpression","reverse","se","tagValue","_dataItem","_tag","ScriptExpression","fromTag","seLength","ScriptExpressions","MULTISIG","SORTED_MULTISIG","multiKey","cryptoHDKey","cryptoECKey","CryptoPSBT","psbt","CRYPTO_PSBT","getPSBT","URRegistryDecoder","bc_ur_1","__1","errors_1","URDecoder","resultRegistryType","ur","resultUR","cbor","UnknownURTypeError","DataItem_1","threshold","getThreshold","getKeys","_keys","wildcard","HARDENED_BIT","toCBOR","encodeDataItem","toUR","UR","toUREncoder","maxFragmentLength","firstSeqNum","minFragmentLength","UREncoder","tag","CRYPTO_MULTI_ACCOUNTS","QR_HARDWARE_CALL","KEY_DERIVATION_CALL","KEY_DERIVATION_SCHEMA","expression","SCRIPT_HASH","WITNESS_SCRIPT_HASH","PUBLIC_KEY","PUBLIC_KEY_HASH","WITNESS_PUBLIC_KEY_HASH","COMBO","ADDRESS","RAW_SCRIPT","CryptoMultiAccounts","device","deviceId","getDevice","getDeviceId","getVersion","cryptoHDKeys","KeyDerivationSchema","DerivationAlgorithm","Curve","keypath","secp256k1","algo","slip10","getKeypath","getAlgo","keypaths","KeyDerivation","DerivationSchema_1","schemas","getSchemas","schema","QRHardwareCall","QRHardwareCallType","KeyDerivation_1","getParams","param","CryptoCoinInfoNetwork","CryptoCoinInfoType","tslib_1","buffer_1","Bytes_1","CryptoOutput_1","CryptoPSBT_1","CryptoAccount_1","Decoder_1","lib_2","utils_1","CryptoMultiAccounts_1","URlib","addReader","addSemanticDecode","addSemanticEncode","addWriter","__exportStar","clearTag","factory","define","amd","CBOR","BinaryHex","$hex","encoded","fromLatinString","latinString","fromUtf8String","utf8String","hexPair","semanticEncoders","semanticDecoders","notImplemented","Reader","Writer","valueFromHeader","reader","readByte","readUint16","readUint32","readUint64","writeHeader","writer","firstByte","writeByte","writeUint16","writeUint32","writeUint64","peekByte","readChunk","readFloat16","half","exponent","mantissa","NaN","magnitude","readFloat32","intValue","readFloat64","int1","writeFloat16","writeFloat32","writeFloat64","writeString","canWriteBinary","chunk","writeBinary","stopCode","decodeReader","readHeaderRaw","arrayLength","objResult","decoder","encodeWriter","replacement","writeHeaderRaw","api","useToJSON","number","isNaN","readerFunctions","writerFunctions","writerFunction","readerFunction","BufferReader","buffer","BufferWriter","stringFormat","byteLength","defaultBufferLength","latestBuffer","latestBufferOffset","completeBuffers","HexReader","HexWriter","finalFormat","readUInt16BE","readFloatBE","readDoubleBE","copy","writeFloatBE","writeBuffer","writeDoubleBE","string","lengthFunc","isBuffer","lengthFunction","isoString","cbor_sync_1","registryTags","scriptExpressionTags","aggregatorMetadataUrl","_swapsUtils","getBaseApi","aggregators","_fetchWithCache","clientIdHeader","cacheOptions","cacheRefreshTime","CACHE_REFRESH_FIVE_MINUTES","functionName","filteredAggregators","aggKey","validateData","AGGREGATOR_METADATA_VALIDATORS","blockedTokensUrl","v2ApiBaseUrl","_swaps","SWAPS_API_V2_BASE_URL","gasPricesUrl","SWAP_GAS_PRICE_VALIDATOR","SafeGasPrice","safeLow","ProposeGasPrice","average","FastGasPrice","fast","tokenUrl","tokenContractAddress","_prices$tokenContract","query","prices","tokensUrl","SWAPS_CHAINID_DEFAULT_TOKEN_MAP","TOKEN_VALIDATORS","_swaps2","isSwapsDefaultTokenSymbol","isSwapsDefaultTokenAddress","topAssetsUrl","_topAssetsMap","asset","TOP_ASSET_VALIDATORS","quotes","approveGas","tokenConversionRates","smartTransactionEstimatedGas","nativeCurrencySymbol","multiLayerL1ApprovalFeeTotal","quote","destinationAmount","sourceAmount","sourceTokenInfo","destinationTokenInfo","slippage","aggType","aggregator","gasEstimateWithRefund","averageGas","trade","multiLayerL1TradeFeeTotal","multiLayerL1FeeTotal","sumHexes","sourceValue","destinationValue","feeInFiat","feeInEth","rawNetworkFees","rawEthFee","getRenderableNetworkFeesForQuote","tradeGas","decimalToHex","tradeValue","sourceSymbol","getFeeForSmartTransaction","feeInWeiDec","feeEstimate","slippageMultiplier","div","minimumAmountReceived","tokenConversionRate","ethValueOfTrade","minus","liquiditySourceKey","renderedSlippage","aggId","amountReceiving","destinationTokenValue","formatSwapsValueForDisplay","destinationIconUrl","isBestQuote","detailedNetworkFees","networkFees","quoteSource","sourceTokenValue","sourceTokenIconUrl","metaMaskFee","USD_CURRENCY_CODE","SWAPS_CLIENT_ID","property","validator","truthyString","isValidDecimalNumber","parseFloat","USDConversionRate","_SWAPS_CHAINID_DEFAUL","feeInWeiHex","getValueFromWeiHex","feeInUsd","totalGasLimitForCalculation","plus","gasTotalInWeiHex","calcGasTotal","nonGasFee","totalWeiCost","formattedNetworkFee","amountToDisplay","toPrecisionWithoutTrailingZeros","getClassNameForCharLength","num","classNamePrefix","modifier","isContractAddressValid","ALLOWED_CONTRACT_ADDRESSES","allowedContractAddress","getNetworkNameByChainId","ETHEREUM","BSC","POLYGON","AVALANCHE","OPTIMISM","ARBITRUM","ZKSYNC_ERA","LINEA","BASE","getSwapsLivenessForNetwork","swapsFeatureFlags","networkName","swapsFeatureIsLive","extensionActive","fallbackToV1","countDecimals","_value$toString$split","showRemainingTimeInMinAndSec","remainingTimeInSec","isInteger","padStart","StxErrorTypes","getTranslatedStxErrorMessage","errorType","unavailable","regularTxPending","notEnoughFunds","parseSmartTransactionsError","errorMessage","errorJson","alreadyPatchedTag","tags","metamask","approvalFlows","approvalTypes","predicate","pendingApprovalRequests","pendingApprovals","getApprovalRequestsByType","approvalType","internalSelectPendingApproval","_state","approvals","approvalId","selectPendingApproval","approval","_txHelper","_metamask","_gas2","_customGas","_transactions","unapprovedTxsSelector","getUnapprovedTransactions","unapprovedPersonalMsgsSelector","unapprovedPersonalMsgs","unapprovedDecryptMsgsSelector","unapprovedDecryptMsgs","unapprovedEncryptionPublicKeyMsgsSelector","unapprovedEncryptionPublicKeyMsgs","unapprovedTypedMessagesSelector","unapprovedTypedMessages","unconfirmedTransactionsListSelector","getCurrentChainId","unconfirmedTransactionsHashSelector","unconfirmedMessagesHashSelector","use4ByteResolutionSelector","use4ByteResolution","currentCurrencySelector","conversionRateSelector","_state$metamask$curre","currencyRates","getProviderConfig","txDataSelector","confirmTransaction","tokenDecimalsSelector","tokenProps","tokenDataArgsSelector","txParamsSelector","tokenAddressSelector","transactionFeeSelector","sendTokenTokenAmountAndToAddressSelector","roundExponential","contractExchangeRateSelector","getTokenExchangeRates","contractExchangeRates","_txData$txParams","_txData$txParams8","_txData$txParams9","_txData$txParams10","getNativeCurrency","gasFeeEstimates","getGasFeeEstimates","gasEstimateType","getGasEstimateType","networkAndAccountSupportsEIP1559","checkNetworkAndAccountSupports1559","gasEstimationObject","gas","_txData$txParams2","selectedGasEstimates","userFeeLevel","_txData$txParams3","decGWEIToHexWEI","_txData$txParams4","_txData$txParams5","_txData$txParams6","_txData$txParams7","suggestedMaxPriorityFeePerGas","suggestedMaxFeePerGas","CUSTOM_GAS_ESTIMATE","baseFeePerGas","estimatedBaseFee","GasEstimateTypes","feeMarket","none","ethGasPrice","getAveragePriceEstimateInHexWEI","fiatTransactionAmount","ethTransactionAmount","hexMinimumTransactionFee","getMinimumGasTotalInHexWei","hexMaximumTransactionFee","getMaximumGasTotalInHexWei","fiatMinimumTransactionFee","getTransactionFee","fiatMaximumTransactionFee","ethTransactionFee","hexTransactionAmount","fiatTransactionTotal","addFiat","ethTransactionTotal","addEth","hexTransactionTotal","selectTransactionFeeById","transactionId","transactionMetadata","selectTransactionMetadata","selectTransactionAvailableBalance","_accounts$sender","getMetaMaskAccounts","selectTransactionSender","selectIsMaxValueEnabled","_state$confirmTransac","maxValueMode","selectMaxValue","transactionFee","subtractHexes","selectTransactionValue","isMaxValueEnabled","maxValue","_transactionMetadata$","getGasPriceInHexWei","getAverageEstimate","getIsGasEstimatesFetched","limit","gasButtonInfo","customGasPriceInHex","priceInHexWei","getFastPriceEstimate","getIsMainnet","estimate","convertedCurrency","basicPriceEstimateToETHTotal","feeInCurrency","decEthToConvertedCurrency","_formatters","formatETHFee","checkSend","customPrice","getGasPrice","getCustomGasPrice","fastPrice","greaterThan","getSafeLowEstimate","customGasPrice","estimatedPrice","price","low","medium","priceEstimateToWei","priceEstimate","isEIP1559Network","firstTimeFlowType","_onboarding","FirstTimeFlowType","ONBOARDING_CREATE_PASSWORD_ROUTE","import","ONBOARDING_IMPORT_WITH_SRP_ROUTE","restore","ONBOARDING_SECURE_YOUR_WALLET_ROUTE","ONBOARDING_METAMETRICS","getFirstTimeFlowType","getOnboardingInitiator","onboardingTabs","tabId"],"mappings":"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","file":"../metamask/common-10.js","sourcesContent":["const ZENDESK_URLS = {\n  ADD_CUSTOM_TOKENS:\n    'https://support.metamask.io/managing-my-tokens/custom-tokens/how-to-display-tokens-in-metamask/',\n  ADD_MISSING_ACCOUNTS:\n    'https://support.metamask.io/managing-my-wallet/accounts-and-addresses/how-to-add-missing-accounts-after-restoring-with-secret-recovery-phrase/',\n  BASIC_SAFETY:\n    'https://support.metamask.io/privacy-and-security/basic-safety-and-security-tips-for-metamask/',\n  CUSTOMIZE_NONCE:\n    'https://support.metamask.io/transactions-and-gas/transactions/how-to-customize-a-transaction-nonce/',\n  GAS_FEES: 'https://support.metamask.io/transactions-and-gas/gas-fees/',\n  HARDWARE_CONNECTION:\n    'https://support.metamask.io/privacy-and-security/hardware-wallet-hub/',\n  IMPORT_ACCOUNTS:\n    'https://support.metamask.io/managing-my-wallet/accounts-and-addresses/how-to-import-an-account/',\n  IMPORTED_ACCOUNTS:\n    'https://support.metamask.io/managing-my-wallet/accounts-and-addresses/what-are-imported-accounts-/',\n  INFURA_BLOCKAGE:\n    'https://support.metamask.io/troubleshooting/why-infura-cannot-serve-certain-areas/',\n  LEDGER_FIREFOX_U2F_GUIDE:\n    'https://support.ledger.com/hc/en-us/articles/10371387758493-MetaMask-Firefox-Ledger-Integration-Issue?support=true',\n  LEGACY_WEB3:\n    'https://support.metamask.io/third-party-platforms-and-dapps/metamask-legacy-web3/',\n  NFT_TOKENS:\n    'https://support.metamask.io/nfts/nft-tokens-in-your-metamask-wallet/',\n  PASSWORD_AND_SRP_ARTICLE:\n    'https://support.metamask.io/getting-started/user-guide-secret-recovery-phrase-password-and-private-keys/',\n  SECRET_RECOVERY_PHRASE:\n    'https://support.metamask.io/privacy-and-security/what-is-a-secret-recovery-phrase-and-how-to-keep-your-crypto-wallet-secure/',\n  NON_CUSTODIAL_WALLET:\n    'https://support.metamask.io/getting-started/metamask-is-a-self-custodial-wallet/',\n  SPEEDUP_CANCEL:\n    'https://support.metamask.io/transactions-and-gas/transactions/how-to-speed-up-or-cancel-a-pending-transaction/',\n  SUPPORT_URL: 'https://support.metamask.io',\n  TOKEN_ALLOWANCE_WITH_SPENDING_CAP:\n    'https://support.metamask.io/privacy-and-security/how-to-customize-token-approvals-with-a-spending-cap/',\n  TOKEN_SAFETY_PRACTICES:\n    'https://support.metamask.io/managing-my-tokens/token-safety-practices/',\n  UNKNOWN_NETWORK:\n    'https://support.metamask.io/networks-and-sidechains/managing-networks/the-risks-of-connecting-to-an-unknown-network/',\n  USER_GUIDE_CUSTOM_NETWORKS:\n    'https://support.metamask.io/networks-and-sidechains/managing-networks/user-guide-custom-networks-and-sidechains/',\n  USER_GUIDE_DAPPS:\n    'https://support.metamask.io/third-party-platforms-and-dapps/user-guide-dapps/',\n  USER_GUIDE_GAS:\n    'https://support.metamask.io/transactions-and-gas/gas-fees/user-guide-gas/',\n  VERIFY_CUSTOM_NETWORK:\n    'https://support.metamask.io/networks-and-sidechains/managing-networks/verifying-custom-network-information/',\n  NETWORK_DEPRECATED:\n    'https://support.metamask.io/networks-and-sidechains/eth-on-testnets/',\n};\n\nexport default ZENDESK_URLS;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.version = void 0;\nexports.version = \"strings/5.7.0\";\n//# sourceMappingURL=_version.js.map","\nconst assetList = {\n  main: {\n    // Will use default provided by the @metamask/logo library\n    foxMeshJson: undefined,\n  },\n};\n\nexport function isBeta() {\n  return process.env.METAMASK_BUILD_TYPE === 'beta';\n}\n\nexport function isMMI() {\n  return process.env.METAMASK_BUILD_TYPE === 'mmi';\n}\n\n// Returns a specific version of an asset based on\n// the current metamask version (i.e. main, beta, etc.)\nexport function getBuildSpecificAsset(assetName) {\n  const buildType = process.env.METAMASK_BUILD_TYPE;\n  if (\n    !assetList[buildType] ||\n    !Object.keys(assetList[buildType]).includes(assetName)\n  ) {\n    console.error(\n      `Cannot find asset \"${assetName}\" for build \"${buildType}\", returning main build asset.`,\n    );\n    return assetList.main[assetName];\n  }\n  return assetList[buildType][assetName];\n}\n","import currencyFormatter from 'currency-formatter';\nimport currencies from 'currency-formatter/currencies';\nimport { BigNumber } from 'bignumber.js';\n\nimport { TransactionMeta } from '@metamask/transaction-controller';\nimport { Numeric } from '../../../shared/modules/Numeric';\nimport { EtherDenomination } from '../../../shared/constants/common';\n\nexport function getHexGasTotal({ gasLimit = '0x0', gasPrice = '0x0' }): string {\n  return new Numeric(gasLimit, 16)\n    .times(new Numeric(gasPrice, 16))\n    .toPrefixedHexString();\n}\n\nexport function addEth(firstValue: string, ...otherValues: string[]): string {\n  return otherValues\n    .reduce((numericAcc, ethAmount) => {\n      return numericAcc.add(new Numeric(ethAmount, 10)).round(6);\n    }, new Numeric(firstValue, 10))\n    .toString();\n}\n\nexport function addFiat(firstValue: string, ...otherValues: string[]): string {\n  return otherValues\n    .reduce((numericAcc, fiatAmount) => {\n      return numericAcc.add(new Numeric(fiatAmount, 10)).round(2);\n    }, new Numeric(firstValue, 10))\n    .toString();\n}\n\nexport function getTransactionFee({\n  value,\n  fromCurrency = EtherDenomination.ETH,\n  toCurrency,\n  conversionRate,\n  numberOfDecimals,\n}: {\n  value: string;\n  fromCurrency: EtherDenomination;\n  toCurrency: string;\n  conversionRate: number;\n  numberOfDecimals: number;\n}): string {\n  let fee = new Numeric(value, 16, EtherDenomination.WEI)\n    .toDenomination(EtherDenomination.ETH)\n    .toBase(10);\n\n  if (fromCurrency !== toCurrency && conversionRate) {\n    fee = fee.applyConversionRate(conversionRate);\n  }\n  return fee.round(numberOfDecimals).toString();\n}\n\nexport function formatCurrency(\n  value: string,\n  currencyCode: string,\n  precision?: number,\n): string {\n  const upperCaseCurrencyCode = currencyCode.toUpperCase();\n\n  return currencies.find((currency) => currency.code === upperCaseCurrencyCode)\n    ? currencyFormatter.format(Number(value), {\n        code: upperCaseCurrencyCode,\n        precision,\n      })\n    : value;\n}\n\nexport function convertTokenToFiat({\n  value,\n  fromCurrency = EtherDenomination.ETH,\n  toCurrency,\n  conversionRate,\n  contractExchangeRate,\n}: {\n  value: string;\n  fromCurrency: EtherDenomination;\n  toCurrency: string;\n  conversionRate: number;\n  contractExchangeRate: number;\n}): string {\n  const totalExchangeRate = conversionRate * contractExchangeRate;\n\n  let tokenInFiat = new Numeric(value, 10);\n\n  if (fromCurrency !== toCurrency && totalExchangeRate) {\n    tokenInFiat = tokenInFiat.applyConversionRate(totalExchangeRate);\n  }\n\n  return tokenInFiat.round(2).toString();\n}\n\n/**\n * Rounds the given decimal string to 4 significant digits.\n *\n * @param decimalString - The base-ten number to round.\n * @returns The rounded number, or the original number if no\n * rounding was necessary.\n */\nexport function roundExponential(decimalString: string): string {\n  const PRECISION = 4;\n  const bigNumberValue = new BigNumber(decimalString);\n\n  // In JS, numbers with exponentials greater than 20 get displayed as an exponential.\n  return bigNumberValue.e > 20\n    ? bigNumberValue.toPrecision(PRECISION)\n    : decimalString;\n}\n\nexport function areDappSuggestedAndTxParamGasFeesTheSame(\n  txData: TransactionMeta,\n): boolean {\n  const { txParams, dappSuggestedGasFees } = txData ?? {};\n  const {\n    gasPrice: txParamsGasPrice,\n    maxFeePerGas: txParamsMaxFeePerGas,\n    maxPriorityFeePerGas: txParamsMaxPriorityFeePerGas,\n  } = txParams || {};\n  const {\n    gasPrice: dappGasPrice,\n    maxFeePerGas: dappMaxFeePerGas,\n    maxPriorityFeePerGas: dappMaxPriorityFeePerGas,\n  } = dappSuggestedGasFees || {};\n\n  const txParamsDoesNotHaveFeeProperties =\n    !txParamsGasPrice && !txParamsMaxFeePerGas && !txParamsMaxPriorityFeePerGas;\n  const dappDidNotSuggestFeeProperties =\n    !dappGasPrice && !dappMaxFeePerGas && !dappMaxPriorityFeePerGas;\n  if (txParamsDoesNotHaveFeeProperties || dappDidNotSuggestFeeProperties) {\n    return false;\n  }\n\n  const txParamsGasPriceMatchesDappSuggestedGasPrice =\n    txParamsGasPrice && txParamsGasPrice === dappGasPrice;\n  const txParamsEIP1559FeesMatchDappSuggestedGasPrice = [\n    txParamsMaxFeePerGas,\n    txParamsMaxPriorityFeePerGas,\n  ].every((fee) => fee === dappGasPrice);\n  const txParamsEIP1559FeesMatchDappSuggestedEIP1559Fees =\n    txParamsMaxFeePerGas &&\n    txParamsMaxFeePerGas === dappMaxFeePerGas &&\n    txParamsMaxPriorityFeePerGas === dappMaxPriorityFeePerGas;\n\n  return Boolean(\n    txParamsGasPriceMatchesDappSuggestedGasPrice ||\n      txParamsEIP1559FeesMatchDappSuggestedGasPrice ||\n      txParamsEIP1559FeesMatchDappSuggestedEIP1559Fees,\n  );\n}\n","// TODO: Rename to reflect that this function is used for more cases than ETH, and update all uses.\nexport function formatETHFee(ethFee, currencySymbol = 'ETH') {\n  return `${ethFee} ${currencySymbol}`;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseBytes32String = exports.formatBytes32String = void 0;\nvar constants_1 = require(\"@ethersproject/constants\");\nvar bytes_1 = require(\"@ethersproject/bytes\");\nvar utf8_1 = require(\"./utf8\");\nfunction formatBytes32String(text) {\n    // Get the bytes\n    var bytes = (0, utf8_1.toUtf8Bytes)(text);\n    // Check we have room for null-termination\n    if (bytes.length > 31) {\n        throw new Error(\"bytes32 string must be less than 32 bytes\");\n    }\n    // Zero-pad (implicitly null-terminates)\n    return (0, bytes_1.hexlify)((0, bytes_1.concat)([bytes, constants_1.HashZero]).slice(0, 32));\n}\nexports.formatBytes32String = formatBytes32String;\nfunction parseBytes32String(bytes) {\n    var data = (0, bytes_1.arrayify)(bytes);\n    // Must be 32 bytes with a null-termination\n    if (data.length !== 32) {\n        throw new Error(\"invalid bytes32 - not 32 bytes long\");\n    }\n    if (data[31] !== 0) {\n        throw new Error(\"invalid bytes32 string - no null terminator\");\n    }\n    // Find the null termination\n    var length = 31;\n    while (data[length - 1] === 0) {\n        length--;\n    }\n    // Determine the string value\n    return (0, utf8_1.toUtf8String)(data.slice(0, length));\n}\nexports.parseBytes32String = parseBytes32String;\n//# sourceMappingURL=bytes32.js.map","import React from 'react';\nimport * as Sentry from '@sentry/browser';\nimport {\n  I18NMessageDict,\n  I18NSubstitution,\n  getMessage as getMessageShared,\n} from '../../../shared/modules/i18n';\nimport { NETWORK_TYPES } from '../../../shared/constants/network';\n\n/**\n * Returns a localized message for the given key\n *\n * @param localeCode - The code for the current locale\n * @param localeMessages - The map of messages for the current locale\n * @param key - The message key\n * @param substitutions - A list of message substitution replacements can replace $n in given message\n * @returns The localized message\n */\nexport const getMessage = (\n  localeCode: string,\n  localeMessages: I18NMessageDict,\n  key: string,\n  substitutions?: string[],\n): JSX.Element | string | null => {\n  const hasReactSubstitutions = substitutions?.some(\n    (element) =>\n      element !== null &&\n      (typeof element === 'function' || typeof element === 'object'),\n  );\n\n  const join = hasReactSubstitutions\n    ? (parts: I18NSubstitution[]) => <span> {parts} </span>\n    : undefined;\n\n  const onError = (error: Error) => {\n    Sentry.captureException(error);\n  };\n\n  return getMessageShared(\n    localeCode,\n    localeMessages,\n    key,\n    substitutions,\n    onError,\n    join,\n  );\n};\n\nexport function getNetworkLabelKey(network: string): string {\n  if (network === NETWORK_TYPES.LINEA_SEPOLIA) {\n    return 'lineaSepolia';\n  }\n  if (network === NETWORK_TYPES.LINEA_MAINNET) {\n    return 'lineaMainnet';\n  }\n  return network;\n}\n","import type Jazzicon from '@metamask/jazzicon';\nimport { isValidHexAddress } from '../../../shared/modules/hexstring-utils';\n\n/**\n * Defines the metadata for a token including optional icon URL.\n */\ntype TokenMetadata = {\n  iconUrl: string;\n};\n\ntype GenerateSeedFunction = (address: string) => number | number[];\n\n/**\n * A factory for generating icons for cryptocurrency addresses using Jazzicon or predefined token metadata.\n */\nexport class IconFactory {\n  /**\n   * Function to generate a Jazzicon SVG element.\n   */\n  jazzicon: typeof Jazzicon;\n\n  /**\n   * Function to generate seed before passing to jazzicon implementation.\n   */\n  generateSeed: GenerateSeedFunction;\n\n  /**\n   * Cache for storing generated SVG elements to avoid re-rendering.\n   */\n  cache: { [key: string]: SVGSVGElement };\n\n  /**\n   * Constructs an IconFactory instance with a given Jazzicon function.\n   *\n   * @param jazzicon - A function that returns a Jazzicon SVG given a diameter and seed.\n   * @param generateSeed - An optional function that generates a seed based on an address.\n   */\n  constructor(\n    jazzicon: typeof Jazzicon,\n    generateSeed: GenerateSeedFunction = jsNumberForAddress,\n  ) {\n    this.jazzicon = jazzicon;\n    this.generateSeed = generateSeed;\n    this.cache = {};\n  }\n\n  /**\n   * Generates an icon for a given address. Returns a predefined image or generates a new Jazzicon.\n   *\n   * @param address - The cryptocurrency address to generate the icon for.\n   * @param diameter - The diameter of the icon to be generated.\n   * @param tokenMetadata - Metadata containing optional icon URL for predefined icons.\n   * @returns An HTML element representing the icon.\n   */\n  iconForAddress(\n    address: string,\n    diameter: number,\n    tokenMetadata?: Partial<TokenMetadata>,\n  ): HTMLElement | SVGSVGElement {\n    if (iconExistsFor(address, tokenMetadata)) {\n      return imageElFor(tokenMetadata);\n    }\n\n    return this.generateIdenticonSvg(address, diameter);\n  }\n\n  /**\n   * Generates or retrieves from cache a Jazzicon SVG for a given address and diameter.\n   *\n   * @param address - The cryptocurrency address for the identicon.\n   * @param diameter - The diameter of the identicon.\n   * @returns A Jazzicon SVG element.\n   */\n  generateIdenticonSvg(address: string, diameter: number): SVGSVGElement {\n    const cacheId = `${address}:${diameter}`;\n    const identicon: SVGSVGElement =\n      this.cache[cacheId] ||\n      (this.cache[cacheId] = this.generateNewIdenticon(address, diameter));\n    const cleanCopy: SVGSVGElement = identicon.cloneNode(true) as SVGSVGElement;\n    return cleanCopy;\n  }\n\n  /**\n   * Generates a new Jazzicon SVG for a given address and diameter.\n   *\n   * @param address - The cryptocurrency address for the identicon.\n   * @param diameter - The diameter of the identicon.\n   * @returns A new Jazzicon SVG element.\n   */\n  generateNewIdenticon(address: string, diameter: number): SVGSVGElement {\n    const numericRepresentation = this.generateSeed(address);\n    const identicon = this.jazzicon(diameter, numericRepresentation);\n    return identicon;\n  }\n}\n\nlet iconFactory: IconFactory | undefined;\n\n/**\n * Generates or retrieves an existing IconFactory instance.\n *\n * @param jazzicon - A function that returns a Jazzicon SVG given a diameter and seed.\n * @returns An IconFactory instance.\n */\nexport default function iconFactoryGenerator(\n  jazzicon: typeof Jazzicon,\n): IconFactory {\n  if (!iconFactory) {\n    iconFactory = new IconFactory(jazzicon);\n  }\n  return iconFactory;\n}\n\n/**\n * Determines if an icon already exists for a given address based on token metadata.\n *\n * @param address - The cryptocurrency address.\n * @param tokenMetadata - Metadata containing optional icon URL.\n * @returns True if an icon exists, otherwise false.\n */\nfunction iconExistsFor(\n  address: string,\n  tokenMetadata?: Partial<TokenMetadata>,\n): tokenMetadata is TokenMetadata {\n  if (!tokenMetadata?.iconUrl) {\n    return false;\n  }\n  return isValidHexAddress(address, { allowNonPrefixed: false });\n}\n\n/**\n * Creates an HTMLImageElement for a given token metadata.\n *\n * @param tokenMetadata - Metadata containing the icon URL. Defaults to an empty object.\n * @returns An HTMLImageElement with the source set to the icon URL.\n */\nfunction imageElFor(tokenMetadata: TokenMetadata): HTMLImageElement {\n  const img = document.createElement('img');\n  img.src = tokenMetadata.iconUrl;\n  img.style.width = '100%';\n  return img;\n}\n\n/**\n * Converts a hexadecimal address into a numerical seed.\n *\n * @param address - The cryptocurrency address.\n * @returns A numerical seed derived from the address.\n */\nfunction jsNumberForAddress(address: string): number {\n  const addr = address.slice(2, 10);\n  const seed = parseInt(addr, 16);\n  return seed;\n}\n","import { TransactionType } from '@metamask/transaction-controller';\nimport {\n  BlockaidReason,\n  BlockaidResultType,\n} from '../../../shared/constants/security-provider';\nimport { MetaMetricsEventUiCustomization } from '../../../shared/constants/metametrics';\nimport { calcTokenAmount } from '../../../shared/lib/transactions-controller-utils';\n\nexport function getMethodName(camelCase) {\n  if (!camelCase || typeof camelCase !== 'string') {\n    return '';\n  }\n\n  return camelCase\n    .replace(/([a-z])([A-Z])/gu, '$1 $2')\n    .replace(/([A-Z])([a-z])/gu, ' $1$2')\n    .replace(/ +/gu, ' ');\n}\n\nexport function formatAccountType(accountType) {\n  if (accountType === 'default') {\n    return 'metamask';\n  }\n\n  return accountType;\n}\n\n/**\n * Generates a unique identifier utilizing the original request id for signature event fragments\n *\n * @param {number} requestId\n * @returns {string}\n */\nexport function generateSignatureUniqueId(requestId) {\n  return `signature-${requestId}`;\n}\n\n/**\n * Returns the ui_customization string value based on the result type\n *\n * @param {BlockaidResultType} resultType\n * @returns {MetaMetricsEventUiCustomization}\n */\nconst getBlockaidMetricUiCustomization = (resultType) => {\n  let uiCustomization;\n\n  if (resultType === BlockaidResultType.Malicious) {\n    uiCustomization = [MetaMetricsEventUiCustomization.FlaggedAsMalicious];\n  } else if (resultType === BlockaidResultType.Warning) {\n    uiCustomization = [MetaMetricsEventUiCustomization.FlaggedAsWarning];\n  } else if (resultType === BlockaidResultType.Errored) {\n    uiCustomization = [MetaMetricsEventUiCustomization.SecurityAlertError];\n  }\n\n  return uiCustomization;\n};\n\n/**\n * @param {import('@metamask/transaction-controller').TransactionMeta} transactionMeta\n * @returns {object}\n */\nexport const getBlockaidMetricsProps = ({ securityAlertResponse }) => {\n  if (!securityAlertResponse) {\n    return {};\n  }\n\n  const params = {};\n  const {\n    providerRequestsCount,\n    reason,\n    result_type: resultType,\n    description,\n    source,\n  } = securityAlertResponse;\n\n  const uiCustomization = getBlockaidMetricUiCustomization(resultType);\n  if (uiCustomization) {\n    params.ui_customizations = uiCustomization;\n  }\n\n  if (resultType !== BlockaidResultType.Benign) {\n    params.security_alert_reason = reason ?? BlockaidReason.notApplicable;\n  }\n\n  if (description) {\n    params.security_alert_description = description;\n  }\n\n  params.security_alert_response =\n    resultType ?? BlockaidResultType.NotApplicable;\n\n  params.security_alert_source = source;\n\n  // add counts of each RPC call\n  if (providerRequestsCount) {\n    Object.keys(providerRequestsCount).forEach((key) => {\n      const metricKey = `ppom_${key}_count`;\n      params[metricKey] = providerRequestsCount[key];\n    });\n  }\n\n  return params;\n};\n\nexport const getSwapAndSendMetricsProps = (transactionMeta) => {\n  if (transactionMeta.type !== TransactionType.swapAndSend) {\n    return {};\n  }\n\n  const {\n    chainId,\n    sourceTokenAmount,\n    sourceTokenDecimals,\n    destinationTokenAmount,\n    destinationTokenDecimals,\n    sourceTokenSymbol,\n    destinationTokenAddress,\n    destinationTokenSymbol,\n    sourceTokenAddress,\n  } = transactionMeta;\n\n  const params = {\n    chain_id: chainId,\n    token_amount_source:\n      sourceTokenAmount && sourceTokenDecimals\n        ? calcTokenAmount(sourceTokenAmount, sourceTokenDecimals).toString()\n        : undefined,\n    token_amount_dest_estimate:\n      destinationTokenAmount && destinationTokenDecimals\n        ? calcTokenAmount(\n            destinationTokenAmount,\n            destinationTokenDecimals,\n          ).toString()\n        : undefined,\n    token_symbol_source: sourceTokenSymbol,\n    token_symbol_destination: destinationTokenSymbol,\n    token_address_source: sourceTokenAddress,\n    token_address_destination: destinationTokenAddress,\n  };\n\n  return params;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nameprep = exports._nameprepTableC = exports._nameprepTableB2 = exports._nameprepTableA1 = void 0;\nvar utf8_1 = require(\"./utf8\");\nfunction bytes2(data) {\n    if ((data.length % 4) !== 0) {\n        throw new Error(\"bad data\");\n    }\n    var result = [];\n    for (var i = 0; i < data.length; i += 4) {\n        result.push(parseInt(data.substring(i, i + 4), 16));\n    }\n    return result;\n}\nfunction createTable(data, func) {\n    if (!func) {\n        func = function (value) { return [parseInt(value, 16)]; };\n    }\n    var lo = 0;\n    var result = {};\n    data.split(\",\").forEach(function (pair) {\n        var comps = pair.split(\":\");\n        lo += parseInt(comps[0], 16);\n        result[lo] = func(comps[1]);\n    });\n    return result;\n}\nfunction createRangeTable(data) {\n    var hi = 0;\n    return data.split(\",\").map(function (v) {\n        var comps = v.split(\"-\");\n        if (comps.length === 1) {\n            comps[1] = \"0\";\n        }\n        else if (comps[1] === \"\") {\n            comps[1] = \"1\";\n        }\n        var lo = hi + parseInt(comps[0], 16);\n        hi = parseInt(comps[1], 16);\n        return { l: lo, h: hi };\n    });\n}\nfunction matchMap(value, ranges) {\n    var lo = 0;\n    for (var i = 0; i < ranges.length; i++) {\n        var range = ranges[i];\n        lo += range.l;\n        if (value >= lo && value <= lo + range.h && ((value - lo) % (range.d || 1)) === 0) {\n            if (range.e && range.e.indexOf(value - lo) !== -1) {\n                continue;\n            }\n            return range;\n        }\n    }\n    return null;\n}\nvar Table_A_1_ranges = createRangeTable(\"221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d\");\n// @TODO: Make this relative...\nvar Table_B_1_flags = \"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff\".split(\",\").map(function (v) { return parseInt(v, 16); });\nvar Table_B_2_ranges = [\n    { h: 25, s: 32, l: 65 },\n    { h: 30, s: 32, e: [23], l: 127 },\n    { h: 54, s: 1, e: [48], l: 64, d: 2 },\n    { h: 14, s: 1, l: 57, d: 2 },\n    { h: 44, s: 1, l: 17, d: 2 },\n    { h: 10, s: 1, e: [2, 6, 8], l: 61, d: 2 },\n    { h: 16, s: 1, l: 68, d: 2 },\n    { h: 84, s: 1, e: [18, 24, 66], l: 19, d: 2 },\n    { h: 26, s: 32, e: [17], l: 435 },\n    { h: 22, s: 1, l: 71, d: 2 },\n    { h: 15, s: 80, l: 40 },\n    { h: 31, s: 32, l: 16 },\n    { h: 32, s: 1, l: 80, d: 2 },\n    { h: 52, s: 1, l: 42, d: 2 },\n    { h: 12, s: 1, l: 55, d: 2 },\n    { h: 40, s: 1, e: [38], l: 15, d: 2 },\n    { h: 14, s: 1, l: 48, d: 2 },\n    { h: 37, s: 48, l: 49 },\n    { h: 148, s: 1, l: 6351, d: 2 },\n    { h: 88, s: 1, l: 160, d: 2 },\n    { h: 15, s: 16, l: 704 },\n    { h: 25, s: 26, l: 854 },\n    { h: 25, s: 32, l: 55915 },\n    { h: 37, s: 40, l: 1247 },\n    { h: 25, s: -119711, l: 53248 },\n    { h: 25, s: -119763, l: 52 },\n    { h: 25, s: -119815, l: 52 },\n    { h: 25, s: -119867, e: [1, 4, 5, 7, 8, 11, 12, 17], l: 52 },\n    { h: 25, s: -119919, l: 52 },\n    { h: 24, s: -119971, e: [2, 7, 8, 17], l: 52 },\n    { h: 24, s: -120023, e: [2, 7, 13, 15, 16, 17], l: 52 },\n    { h: 25, s: -120075, l: 52 },\n    { h: 25, s: -120127, l: 52 },\n    { h: 25, s: -120179, l: 52 },\n    { h: 25, s: -120231, l: 52 },\n    { h: 25, s: -120283, l: 52 },\n    { h: 25, s: -120335, l: 52 },\n    { h: 24, s: -119543, e: [17], l: 56 },\n    { h: 24, s: -119601, e: [17], l: 58 },\n    { h: 24, s: -119659, e: [17], l: 58 },\n    { h: 24, s: -119717, e: [17], l: 58 },\n    { h: 24, s: -119775, e: [17], l: 58 }\n];\nvar Table_B_2_lut_abs = createTable(\"b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3\");\nvar Table_B_2_lut_rel = createTable(\"179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7\");\nvar Table_B_2_complex = createTable(\"df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D\", bytes2);\nvar Table_C_ranges = createRangeTable(\"80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001\");\nfunction flatten(values) {\n    return values.reduce(function (accum, value) {\n        value.forEach(function (value) { accum.push(value); });\n        return accum;\n    }, []);\n}\nfunction _nameprepTableA1(codepoint) {\n    return !!matchMap(codepoint, Table_A_1_ranges);\n}\nexports._nameprepTableA1 = _nameprepTableA1;\nfunction _nameprepTableB2(codepoint) {\n    var range = matchMap(codepoint, Table_B_2_ranges);\n    if (range) {\n        return [codepoint + range.s];\n    }\n    var codes = Table_B_2_lut_abs[codepoint];\n    if (codes) {\n        return codes;\n    }\n    var shift = Table_B_2_lut_rel[codepoint];\n    if (shift) {\n        return [codepoint + shift[0]];\n    }\n    var complex = Table_B_2_complex[codepoint];\n    if (complex) {\n        return complex;\n    }\n    return null;\n}\nexports._nameprepTableB2 = _nameprepTableB2;\nfunction _nameprepTableC(codepoint) {\n    return !!matchMap(codepoint, Table_C_ranges);\n}\nexports._nameprepTableC = _nameprepTableC;\nfunction nameprep(value) {\n    // This allows platforms with incomplete normalize to bypass\n    // it for very basic names which the built-in toLowerCase\n    // will certainly handle correctly\n    if (value.match(/^[a-z0-9-]*$/i) && value.length <= 59) {\n        return value.toLowerCase();\n    }\n    // Get the code points (keeping the current normalization)\n    var codes = (0, utf8_1.toUtf8CodePoints)(value);\n    codes = flatten(codes.map(function (code) {\n        // Substitute Table B.1 (Maps to Nothing)\n        if (Table_B_1_flags.indexOf(code) >= 0) {\n            return [];\n        }\n        if (code >= 0xfe00 && code <= 0xfe0f) {\n            return [];\n        }\n        // Substitute Table B.2 (Case Folding)\n        var codesTableB2 = _nameprepTableB2(code);\n        if (codesTableB2) {\n            return codesTableB2;\n        }\n        // No Substitution\n        return [code];\n    }));\n    // Normalize using form KC\n    codes = (0, utf8_1.toUtf8CodePoints)((0, utf8_1._toUtf8String)(codes), utf8_1.UnicodeNormalizationForm.NFKC);\n    // Prohibit Tables C.1.2, C.2.2, C.3, C.4, C.5, C.6, C.7, C.8, C.9\n    codes.forEach(function (code) {\n        if (_nameprepTableC(code)) {\n            throw new Error(\"STRINGPREP_CONTAINS_PROHIBITED\");\n        }\n    });\n    // Prohibit Unassigned Code Points (Table A.1)\n    codes.forEach(function (code) {\n        if (_nameprepTableA1(code)) {\n            throw new Error(\"STRINGPREP_CONTAINS_UNASSIGNED\");\n        }\n    });\n    // IDNA extras\n    var name = (0, utf8_1._toUtf8String)(codes);\n    // IDNA: 4.2.3.1\n    if (name.substring(0, 1) === \"-\" || name.substring(2, 4) === \"--\" || name.substring(name.length - 1) === \"-\") {\n        throw new Error(\"invalid hyphen\");\n    }\n    return name;\n}\nexports.nameprep = nameprep;\n//# sourceMappingURL=idna.js.map","import log from 'loglevel';\nimport { getTokenStandardAndDetails } from '../../store/actions';\nimport { isEqualCaseInsensitive } from '../../../shared/modules/string-utils';\nimport { parseStandardTokenTransactionData } from '../../../shared/modules/transaction.utils';\nimport { TokenStandard } from '../../../shared/constants/transaction';\nimport { getTokenValueParam } from '../../../shared/lib/metamask-controller-utils';\nimport { calcTokenAmount } from '../../../shared/lib/transactions-controller-utils';\nimport { Numeric } from '../../../shared/modules/Numeric';\nimport * as util from './util';\nimport { formatCurrency } from './confirm-tx.util';\n\nconst DEFAULT_SYMBOL = '';\n\nasync function getSymbolFromContract(tokenAddress) {\n  const token = util.getContractAtAddress(tokenAddress);\n  try {\n    const result = await token.symbol();\n    return result[0];\n  } catch (error) {\n    log.warn(\n      `symbol() call for token at address ${tokenAddress} resulted in error:`,\n      error,\n    );\n    return undefined;\n  }\n}\n\nasync function getNameFromContract(tokenAddress) {\n  const token = util.getContractAtAddress(tokenAddress);\n  try {\n    const [name] = await token.name();\n    return name;\n  } catch (error) {\n    log.warn(\n      `name() call for token at address ${tokenAddress} resulted in error:`,\n      error,\n    );\n    return undefined;\n  }\n}\n\nasync function getDecimalsFromContract(tokenAddress) {\n  const token = util.getContractAtAddress(tokenAddress);\n\n  try {\n    const result = await token.decimals();\n    const decimalsBN = result[0];\n    return decimalsBN?.toString();\n  } catch (error) {\n    log.warn(\n      `decimals() call for token at address ${tokenAddress} resulted in error:`,\n      error,\n    );\n    return undefined;\n  }\n}\n\nexport function getTokenMetadata(tokenAddress, tokenList) {\n  return tokenAddress && tokenList[tokenAddress.toLowerCase()];\n}\n\nasync function getSymbol(tokenAddress, tokenList) {\n  let symbol = await getSymbolFromContract(tokenAddress);\n\n  if (!symbol) {\n    const contractMetadataInfo = getTokenMetadata(tokenAddress, tokenList);\n\n    if (contractMetadataInfo) {\n      symbol = contractMetadataInfo.symbol;\n    }\n  }\n\n  return symbol;\n}\n\nasync function getName(tokenAddress, tokenList) {\n  let name = await getNameFromContract(tokenAddress);\n\n  if (!name) {\n    const contractMetadataInfo = getTokenMetadata(tokenAddress, tokenList);\n\n    if (contractMetadataInfo) {\n      name = contractMetadataInfo.name;\n    }\n  }\n\n  return name;\n}\n\nasync function getDecimals(tokenAddress, tokenList) {\n  let decimals = await getDecimalsFromContract(tokenAddress);\n\n  if (!decimals || decimals === '0') {\n    const contractMetadataInfo = getTokenMetadata(tokenAddress, tokenList);\n\n    if (contractMetadataInfo) {\n      decimals = contractMetadataInfo.decimals?.toString();\n    }\n  }\n\n  return decimals;\n}\n\nexport async function getSymbolAndDecimalsAndName(tokenAddress, tokenList) {\n  let symbol, decimals, name;\n\n  try {\n    const results = await Promise.allSettled([\n      getSymbol(tokenAddress, tokenList),\n      getDecimals(tokenAddress, tokenList),\n      getName(tokenAddress, tokenList),\n    ]);\n    const fulfilled = results\n      .filter((result) => result.status === 'fulfilled')\n      .map((result) => result.value);\n\n    [symbol, decimals, name] = fulfilled;\n  } catch (error) {\n    log.warn(\n      `symbol() and decimal() and name() calls for token at address ${tokenAddress} resulted in error:`,\n      error,\n    );\n  }\n\n  return {\n    symbol: symbol || DEFAULT_SYMBOL,\n    decimals,\n    name,\n  };\n}\n\nexport function tokenInfoGetter() {\n  const tokens = {};\n\n  return async (address, tokenList) => {\n    if (tokens[address]) {\n      return tokens[address];\n    }\n\n    tokens[address] = await getSymbolAndDecimalsAndName(address, tokenList);\n    return tokens[address];\n  };\n}\n\n/**\n * Attempts to get the address parameter of the given token transaction data\n * (i.e. function call) per the Human Standard Token ABI, in the following\n * order:\n *   - The '_to' parameter, if present\n *   - The first parameter, if present\n *\n * @param {object} tokenData - ethers Interface token data.\n * @returns {string | undefined} A lowercase address string.\n */\nexport function getTokenAddressParam(tokenData = {}) {\n  const value =\n    tokenData?.args?._to || tokenData?.args?.to || tokenData?.args?.[0];\n  return value?.toString().toLowerCase();\n}\n\n/**\n * Gets the '_value' parameter of the given token transaction data\n * (i.e function call) per the Human Standard Token ABI, if present.\n *\n * @param {object} tokenData - ethers Interface token data.\n * @returns {string | undefined} A decimal string value.\n */\n/**\n * Gets either the '_tokenId' parameter or the 'id' param of the passed token transaction data.,\n * These are the parsed tokenId values returned by `parseStandardTokenTransactionData` as defined\n * in the ERC721 and ERC1155 ABIs from metamask-eth-abis (https://github.com/MetaMask/metamask-eth-abis/tree/main/src/abis)\n *\n * @param {object} tokenData - ethers Interface token data.\n * @returns {string | undefined} A decimal string value.\n */\nexport function getTokenIdParam(tokenData = {}) {\n  return (\n    tokenData?.args?._tokenId?.toString() ?? tokenData?.args?.id?.toString()\n  );\n}\n\n/**\n * Gets the '_approved' parameter of the given token transaction data\n * (i.e function call) per the Human Standard Token ABI, if present.\n *\n * @param {object} tokenData - ethers Interface token data.\n * @returns {boolean | undefined} A boolean indicating whether the function is being called to approve or revoke access.\n */\nexport function getTokenApprovedParam(tokenData = {}) {\n  return tokenData?.args?._approved;\n}\n\n/**\n * Get the token balance converted to fiat and optionally formatted for display\n *\n * @param {number} [contractExchangeRate] - The exchange rate between the current token and the native currency\n * @param {number} conversionRate - The exchange rate between the current fiat currency and the native currency\n * @param {string} currentCurrency - The currency code for the user's chosen fiat currency\n * @param {string} [tokenAmount] - The current token balance\n * @param {string} [tokenSymbol] - The token symbol\n * @param {boolean} [formatted] - Whether the return value should be formatted or not\n * @param {boolean} [hideCurrencySymbol] - excludes the currency symbol in the result if true\n * @returns {string|undefined} The token amount in the user's chosen fiat currency, optionally formatted and localize\n */\nexport function getTokenFiatAmount(\n  contractExchangeRate,\n  conversionRate,\n  currentCurrency,\n  tokenAmount,\n  tokenSymbol,\n  formatted = true,\n  hideCurrencySymbol = false,\n) {\n  // If the conversionRate is 0 (i.e. unknown) or the contract exchange rate\n  // is currently unknown, the fiat amount cannot be calculated so it is not\n  // shown to the user\n  if (\n    conversionRate <= 0 ||\n    !contractExchangeRate ||\n    tokenAmount === undefined\n  ) {\n    return undefined;\n  }\n\n  const currentTokenToFiatRate = new Numeric(contractExchangeRate, 10)\n    .times(new Numeric(conversionRate, 10))\n    .toString();\n\n  let currentTokenInFiat = new Numeric(tokenAmount, 10);\n\n  if (tokenSymbol !== currentCurrency.toUpperCase() && currentTokenToFiatRate) {\n    currentTokenInFiat = currentTokenInFiat.applyConversionRate(\n      currentTokenToFiatRate,\n    );\n  }\n\n  currentTokenInFiat = currentTokenInFiat.round(2).toString();\n  let result;\n  if (hideCurrencySymbol) {\n    result = formatCurrency(currentTokenInFiat, currentCurrency);\n  } else if (formatted) {\n    result = `${formatCurrency(\n      currentTokenInFiat,\n      currentCurrency,\n    )} ${currentCurrency.toUpperCase()}`;\n  } else {\n    result = currentTokenInFiat;\n  }\n  return result;\n}\n\nexport async function getAssetDetails(\n  tokenAddress,\n  currentUserAddress,\n  transactionData,\n  existingNfts,\n) {\n  const tokenData = parseStandardTokenTransactionData(transactionData);\n  if (!tokenData) {\n    throw new Error('Unable to detect valid token data');\n  }\n\n  // Sometimes the tokenId value is parsed as \"_value\" param. Not seeing this often any more, but still occasionally:\n  // i.e. call approve() on BAYC contract - https://etherscan.io/token/0xbc4ca0eda7647a8ab7c2061c2e118a18a936f13d#writeContract, and tokenId shows up as _value,\n  // not sure why since it doesn't match the ERC721 ABI spec we use to parse these transactions - https://github.com/MetaMask/metamask-eth-abis/blob/d0474308a288f9252597b7c93a3a8deaad19e1b2/src/abis/abiERC721.ts#L62.\n  let tokenId =\n    getTokenIdParam(tokenData)?.toString() ?? getTokenValueParam(tokenData);\n\n  const toAddress = getTokenAddressParam(tokenData);\n\n  let tokenDetails;\n\n  // if a tokenId is present check if there is an NFT in state matching the address/tokenId\n  // and avoid unnecessary network requests to query token details we already have\n  if (existingNfts?.length && tokenId) {\n    const existingNft = existingNfts.find(\n      ({ address, tokenId: _tokenId }) =>\n        isEqualCaseInsensitive(tokenAddress, address) && _tokenId === tokenId,\n    );\n\n    if (existingNft && (existingNft.name || existingNft.symbol)) {\n      return {\n        toAddress,\n        ...existingNft,\n      };\n    }\n  }\n\n  try {\n    tokenDetails = await getTokenStandardAndDetails(\n      tokenAddress,\n      currentUserAddress,\n      tokenId,\n    );\n  } catch (error) {\n    log.warn(error);\n    // if we can't determine any token standard or details return the data we can extract purely from the parsed transaction data\n    return { toAddress, tokenId };\n  }\n  const tokenValue = getTokenValueParam(tokenData);\n  const tokenDecimals = tokenDetails?.decimals;\n  const tokenAmount =\n    tokenData &&\n    tokenValue &&\n    tokenDecimals &&\n    calcTokenAmount(tokenValue, tokenDecimals).toString(10);\n\n  const decimals = tokenDecimals && Number(tokenDecimals?.toString(10));\n\n  if (tokenDetails?.standard === TokenStandard.ERC20) {\n    tokenId = undefined;\n  }\n\n  // else if not an NFT already in state or standard === ERC20 return tokenDetails and tokenId\n  return {\n    tokenAmount,\n    toAddress,\n    decimals,\n    tokenId,\n    ...tokenDetails,\n  };\n}\n","import { ERC1155, ERC721 } from '@metamask/controller-utils';\n\nimport {\n  TransactionEnvelopeType,\n  TransactionStatus,\n  TransactionType,\n} from '@metamask/transaction-controller';\nimport { addHexPrefix } from '../../../app/scripts/lib/util';\nimport { TransactionGroupStatus } from '../../../shared/constants/transaction';\nimport { readAddressAsContract } from '../../../shared/modules/contract-utils';\n\n/**\n * Returns four-byte method signature from data\n *\n * @param {string} data - The hex data (@code txParams.data) of a transaction\n * @returns {string} The four-byte method signature\n */\nexport function getFourBytePrefix(data = '') {\n  const prefixedData = addHexPrefix(data);\n  const fourBytePrefix = prefixedData.slice(0, 10);\n  return fourBytePrefix;\n}\n\n/**\n * Given an transaction category, returns a boolean which indicates whether the transaction is calling an erc20 token method\n *\n * @param {TRANSACTION_TYPES[keyof TRANSACTION_TYPES]} type - The type of transaction being evaluated\n * @returns {boolean} whether the transaction is calling an erc20 token method\n */\nexport function isTokenMethodAction(type) {\n  return [\n    TransactionType.tokenMethodTransfer,\n    TransactionType.tokenMethodApprove,\n    TransactionType.tokenMethodSetApprovalForAll,\n    TransactionType.tokenMethodTransferFrom,\n    TransactionType.tokenMethodSafeTransferFrom,\n    TransactionType.tokenMethodIncreaseAllowance,\n  ].includes(type);\n}\n\nexport function getLatestSubmittedTxWithNonce(\n  transactions = [],\n  nonce = '0x0',\n) {\n  if (!transactions.length) {\n    return {};\n  }\n\n  return transactions.reduce((acc, current) => {\n    const { submittedTime, txParams: { nonce: currentNonce } = {} } = current;\n\n    if (currentNonce === nonce) {\n      if (!acc.submittedTime) {\n        return current;\n      }\n      return submittedTime > acc.submittedTime ? current : acc;\n    }\n    return acc;\n  }, {});\n}\n\nexport async function isSmartContractAddress(address) {\n  const { isContractAddress } = await readAddressAsContract(\n    global.eth,\n    address,\n  );\n  return isContractAddress;\n}\n\nexport function isLegacyTransaction(txParams) {\n  return txParams?.type === TransactionEnvelopeType.legacy;\n}\n\n/**\n * Returns a status key for a transaction. Requires parsing the txMeta.txReceipt on top of\n * txMeta.status because txMeta.status does not reflect on-chain errors.\n *\n * @param {object} transaction - The txMeta object of a transaction.\n * @param {object} transaction.txReceipt - The transaction receipt.\n * @returns {string}\n */\nexport function getStatusKey(transaction) {\n  const {\n    txReceipt: { status: receiptStatus } = {},\n    type,\n    status,\n  } = transaction;\n\n  // There was an on-chain failure\n  if (receiptStatus === '0x0') {\n    return TransactionStatus.failed;\n  }\n\n  if (\n    status === TransactionStatus.confirmed &&\n    type === TransactionType.cancel\n  ) {\n    return TransactionGroupStatus.cancelled;\n  }\n\n  return transaction.status;\n}\n\n/**\n * Returns a title for the given transaction category.\n *\n * This will throw an error if the transaction category is unrecognized and no default is provided.\n *\n * @param {Function} t - The translation function\n * @param {TRANSACTION_TYPES[keyof TRANSACTION_TYPES]} type - The transaction type constant\n * @param {string} nativeCurrency - The native currency of the currently selected network\n * @returns {string} The transaction category title\n */\nexport function getTransactionTypeTitle(t, type, nativeCurrency = 'ETH') {\n  switch (type) {\n    case TransactionType.tokenMethodTransfer: {\n      return t('transfer');\n    }\n    case TransactionType.tokenMethodTransferFrom: {\n      return t('transferFrom');\n    }\n    case TransactionType.tokenMethodSafeTransferFrom: {\n      return t('safeTransferFrom');\n    }\n    case TransactionType.tokenMethodApprove: {\n      return t('approve');\n    }\n    case TransactionType.tokenMethodSetApprovalForAll: {\n      return t('setApprovalForAll');\n    }\n    case TransactionType.tokenMethodIncreaseAllowance: {\n      return t('approveIncreaseAllowance');\n    }\n    case TransactionType.simpleSend: {\n      return t('sendingNativeAsset', [nativeCurrency]);\n    }\n    case TransactionType.contractInteraction: {\n      return t('contractInteraction');\n    }\n    case TransactionType.deployContract: {\n      return t('contractDeployment');\n    }\n    case TransactionType.swap: {\n      return t('swap');\n    }\n    case TransactionType.swapAndSend: {\n      return t('swapAndSend');\n    }\n    case TransactionType.swapApproval: {\n      return t('swapApproval');\n    }\n    default: {\n      throw new Error(`Unrecognized transaction type: ${type}`);\n    }\n  }\n}\n\n/**\n * Method to check if asset standard passed is NFT\n *\n * @param {*} assetStandard - string\n * @returns boolean\n */\nexport const isNFTAssetStandard = (assetStandard) =>\n  assetStandard === ERC1155 || assetStandard === ERC721;\n","import log from 'loglevel';\nimport { valuesFor } from './util';\n\nexport default function txHelper(\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  unapprovedTxs: Record<string, any> | null,\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  personalMsgs: Record<string, any> | null,\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  decryptMsgs: Record<string, any> | null,\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  encryptionPublicKeyMsgs: Record<string, any> | null,\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  typedMessages: Record<string, any> | null,\n  chainId?: string,\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n): Record<string, any> {\n  log.debug('tx-helper called with params:');\n  log.debug({\n    unapprovedTxs,\n    personalMsgs,\n    decryptMsgs,\n    encryptionPublicKeyMsgs,\n    typedMessages,\n    chainId,\n  });\n\n  const txValues = chainId\n    ? valuesFor(unapprovedTxs).filter((txMeta) => txMeta.chainId === chainId)\n    : valuesFor(unapprovedTxs);\n\n  const personalValues = valuesFor(personalMsgs);\n  const decryptValues = valuesFor(decryptMsgs);\n  const encryptionPublicKeyValues = valuesFor(encryptionPublicKeyMsgs);\n  const typedValues = valuesFor(typedMessages);\n\n  const allValues = txValues\n    .concat(personalValues)\n    .concat(decryptValues)\n    .concat(encryptionPublicKeyValues)\n    .concat(typedValues)\n    .sort((a, b) => {\n      return a.time - b.time;\n    });\n\n  log.debug(`tx helper found ${txValues.length} unapproved txs`);\n  log.debug(\n    `tx helper found ${personalValues.length} unsigned personal messages`,\n  );\n  log.debug(`tx helper found ${decryptValues.length} decrypt requests`);\n  log.debug(\n    `tx helper found ${encryptionPublicKeyValues.length} encryptionPublicKey requests`,\n  );\n  log.debug(`tx helper found ${typedValues.length} unsigned typed messages`);\n\n  return allValues;\n}\n","import punycode from 'punycode/punycode';\nimport abi from 'human-standard-token-abi';\nimport BigNumber from 'bignumber.js';\nimport * as ethUtil from 'ethereumjs-util';\nimport { DateTime } from 'luxon';\nimport {\n  getFormattedIpfsUrl,\n  fetchTokenContractExchangeRates,\n  CodefiTokenPricesServiceV2,\n} from '@metamask/assets-controllers';\nimport * as lodash from 'lodash';\nimport bowser from 'bowser';\nimport { WALLET_SNAP_PERMISSION_KEY } from '@metamask/snaps-rpc-methods';\nimport { stripSnapPrefix } from '@metamask/snaps-utils';\nimport { isObject, isStrictHexString } from '@metamask/utils';\nimport { CHAIN_IDS, NETWORK_TYPES } from '../../../shared/constants/network';\nimport { logErrorWithMessage } from '../../../shared/modules/error';\nimport {\n  toChecksumHexAddress,\n  stripHexPrefix,\n} from '../../../shared/modules/hexstring-utils';\nimport {\n  TRUNCATED_ADDRESS_START_CHARS,\n  TRUNCATED_NAME_CHAR_LIMIT,\n  TRUNCATED_ADDRESS_END_CHARS,\n} from '../../../shared/constants/labels';\nimport { Numeric } from '../../../shared/modules/Numeric';\nimport { OUTDATED_BROWSER_VERSIONS } from '../constants/common';\n// formatData :: ( date: <Unix Timestamp> ) -> String\nimport { isEqualCaseInsensitive } from '../../../shared/modules/string-utils';\nimport { hexToDecimal } from '../../../shared/modules/conversion.utils';\nimport { SNAPS_VIEW_ROUTE } from '../constants/routes';\nimport { normalizeSafeAddress } from '../../../app/scripts/lib/multichain/address';\n\nexport function formatDate(date, format = \"M/d/y 'at' T\") {\n  if (!date) {\n    return '';\n  }\n  return DateTime.fromMillis(date).toFormat(format);\n}\n\n/**\n * @param {number} unixTimestamp - timestamp as seconds since unix epoch\n * @returns {string} formatted date string e.g. \"14 July 2034, 22:22\"\n */\nexport const formatUTCDateFromUnixTimestamp = (unixTimestamp) => {\n  if (!unixTimestamp) {\n    return unixTimestamp;\n  }\n\n  return DateTime.fromSeconds(unixTimestamp)\n    .toUTC()\n    .toFormat('dd LLLL yyyy, HH:mm');\n};\n\nexport function formatDateWithYearContext(\n  date,\n  formatThisYear = 'MMM d',\n  fallback = 'MMM d, y',\n) {\n  if (!date) {\n    return '';\n  }\n  const dateTime = DateTime.fromMillis(date);\n  const now = DateTime.local();\n  return dateTime.toFormat(\n    now.year === dateTime.year ? formatThisYear : fallback,\n  );\n}\n\nexport function formatDateWithSuffix(timestamp) {\n  const date = DateTime.fromMillis(timestamp * 1000); // Convert to milliseconds\n  const { day } = date;\n  const suffix = getOrdinalSuffix(day);\n\n  return date.toFormat(`MMM d'${suffix}', yyyy`);\n}\n\nfunction getOrdinalSuffix(day) {\n  if (day > 3 && day < 21) {\n    return 'th';\n  } // because 11th, 12th, 13th\n  switch (day % 10) {\n    case 1:\n      return 'st';\n    case 2:\n      return 'nd';\n    case 3:\n      return 'rd';\n    default:\n      return 'th';\n  }\n}\n/**\n * Determines if the provided chainId is a default MetaMask chain\n *\n * @param {string} chainId - chainId to check\n */\nexport function isDefaultMetaMaskChain(chainId) {\n  if (\n    !chainId ||\n    chainId === CHAIN_IDS.MAINNET ||\n    chainId === CHAIN_IDS.LINEA_MAINNET ||\n    chainId === CHAIN_IDS.GOERLI ||\n    chainId === CHAIN_IDS.SEPOLIA ||\n    chainId === CHAIN_IDS.LINEA_GOERLI ||\n    chainId === CHAIN_IDS.LINEA_SEPOLIA ||\n    chainId === CHAIN_IDS.LOCALHOST\n  ) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function valuesFor(obj) {\n  if (!obj) {\n    return [];\n  }\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  });\n}\n\nexport function addressSummary(\n  address,\n  firstSegLength = 10,\n  lastSegLength = 4,\n  includeHex = true,\n) {\n  if (!address) {\n    return '';\n  }\n  let checked = normalizeSafeAddress(address);\n  if (!includeHex) {\n    checked = stripHexPrefix(checked);\n  }\n  return checked\n    ? `${checked.slice(0, firstSegLength)}...${checked.slice(\n        checked.length - lastSegLength,\n      )}`\n    : '...';\n}\n\nexport function isValidDomainName(address) {\n  const match = punycode\n    .toASCII(address)\n    .toLowerCase()\n    // Checks that the domain consists of at least one valid domain pieces separated by periods, followed by a tld\n    // Each piece of domain name has only the characters a-z, 0-9, and a hyphen (but not at the start or end of chunk)\n    // A chunk has minimum length of 1, but minimum tld is set to 2 for now (no 1-character tlds exist yet)\n    .match(\n      /^(?:[a-z0-9](?:[-a-z0-9]*[a-z0-9])?\\.)+[a-z0-9][-a-z0-9]*[a-z0-9]$/u,\n    );\n\n  return match !== null;\n}\n\nexport function isOriginContractAddress(to, sendTokenAddress) {\n  if (!to || !sendTokenAddress) {\n    return false;\n  }\n  return to.toLowerCase() === sendTokenAddress.toLowerCase();\n}\n\n// Takes wei Hex, returns wei BN, even if input is null\nexport function numericBalance(balance) {\n  if (!balance) {\n    return new ethUtil.BN(0, 16);\n  }\n  const stripped = stripHexPrefix(balance);\n  return new ethUtil.BN(stripped, 16);\n}\n\n// Takes  hex, returns [beforeDecimal, afterDecimal]\nexport function parseBalance(balance) {\n  let afterDecimal;\n  const wei = numericBalance(balance);\n  const weiString = wei.toString();\n  const trailingZeros = /0+$/u;\n\n  const beforeDecimal =\n    weiString.length > 18 ? weiString.slice(0, weiString.length - 18) : '0';\n  afterDecimal = `000000000000000000${wei}`\n    .slice(-18)\n    .replace(trailingZeros, '');\n  if (afterDecimal === '') {\n    afterDecimal = '0';\n  }\n  return [beforeDecimal, afterDecimal];\n}\n\n// Takes wei hex, returns an object with three properties.\n// Its \"formatted\" property is what we generally use to render values.\nexport function formatBalance(\n  balance,\n  decimalsToKeep,\n  needsParse = true,\n  ticker = 'ETH',\n) {\n  const parsed = needsParse ? parseBalance(balance) : balance.split('.');\n  const beforeDecimal = parsed[0];\n  let afterDecimal = parsed[1];\n  let formatted = 'None';\n  if (decimalsToKeep === undefined) {\n    if (beforeDecimal === '0') {\n      if (afterDecimal !== '0') {\n        const sigFigs = afterDecimal.match(/^0*(.{2})/u); // default: grabs 2 most significant digits\n        if (sigFigs) {\n          afterDecimal = sigFigs[0];\n        }\n        formatted = `0.${afterDecimal} ${ticker}`;\n      }\n    } else {\n      formatted = `${beforeDecimal}.${afterDecimal.slice(0, 3)} ${ticker}`;\n    }\n  } else {\n    afterDecimal += Array(decimalsToKeep).join('0');\n    formatted = `${beforeDecimal}.${afterDecimal.slice(\n      0,\n      decimalsToKeep,\n    )} ${ticker}`;\n  }\n  return formatted;\n}\n\nexport function getContractAtAddress(tokenAddress) {\n  return global.eth.contract(abi).at(tokenAddress);\n}\n\nexport function getRandomFileName() {\n  let fileName = '';\n  const charBank = [\n    ...'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789',\n  ];\n  const fileNameLength = Math.floor(Math.random() * 7 + 6);\n\n  for (let i = 0; i < fileNameLength; i++) {\n    fileName += charBank[Math.floor(Math.random() * charBank.length)];\n  }\n\n  return fileName;\n}\n\n/**\n * Shortens the given string, preserving the beginning and end.\n * Returns the string it is no longer than truncatedCharLimit.\n *\n * @param {string} stringToShorten - The string to shorten.\n * @param {object} options - The options to use when shortening the string.\n * @param {number} options.truncatedCharLimit - The maximum length of the string.\n * @param {number} options.truncatedStartChars - The number of characters to preserve at the beginning.\n * @param {number} options.truncatedEndChars - The number of characters to preserve at the end.\n * @param {boolean} options.skipCharacterInEnd - Skip the character at the end.\n * @returns {string} The shortened string.\n */\nexport function shortenString(\n  stringToShorten = '',\n  {\n    truncatedCharLimit,\n    truncatedStartChars,\n    truncatedEndChars,\n    skipCharacterInEnd,\n  } = {\n    truncatedCharLimit: TRUNCATED_NAME_CHAR_LIMIT,\n    truncatedStartChars: TRUNCATED_ADDRESS_START_CHARS,\n    truncatedEndChars: TRUNCATED_ADDRESS_END_CHARS,\n    skipCharacterInEnd: false,\n  },\n) {\n  if (stringToShorten.length < truncatedCharLimit) {\n    return stringToShorten;\n  }\n\n  return `${stringToShorten.slice(0, truncatedStartChars)}...${\n    skipCharacterInEnd ? '' : stringToShorten.slice(-truncatedEndChars)\n  }`;\n}\n\n/**\n * Shortens an Ethereum address for display, preserving the beginning and end.\n * Returns the given address if it is no longer than 10 characters.\n * Shortened addresses are 13 characters long.\n *\n * Example output: 0xabcde...12345\n *\n * @param {string} address - The address to shorten.\n * @returns {string} The shortened address, or the original if it was no longer\n * than 10 characters.\n */\nexport function shortenAddress(address = '') {\n  return shortenString(address, {\n    truncatedCharLimit: TRUNCATED_NAME_CHAR_LIMIT,\n    truncatedStartChars: TRUNCATED_ADDRESS_START_CHARS,\n    truncatedEndChars: TRUNCATED_ADDRESS_END_CHARS,\n    skipCharacterInEnd: false,\n  });\n}\n\nexport function getAccountByAddress(accounts = [], targetAddress) {\n  return accounts.find(({ address }) => address === targetAddress);\n}\n\n/**\n * Strips the following schemes from URL strings:\n * - http\n * - https\n *\n * @param {string} urlString - The URL string to strip the scheme from.\n * @returns {string} The URL string, without the scheme, if it was stripped.\n */\nexport function stripHttpSchemes(urlString) {\n  return urlString.replace(/^https?:\\/\\//u, '');\n}\n\n/**\n * Strips the following schemes from URL strings:\n * - https\n *\n * @param {string} urlString - The URL string to strip the scheme from.\n * @returns {string} The URL string, without the scheme, if it was stripped.\n */\nexport function stripHttpsScheme(urlString) {\n  return urlString.replace(/^https:\\/\\//u, '');\n}\n\n/**\n * Strips `https` schemes from URL strings, if the URL does not have a port.\n * This is useful\n *\n * @param {string} urlString - The URL string to strip the scheme from.\n * @returns {string} The URL string, without the scheme, if it was stripped.\n */\nexport function stripHttpsSchemeWithoutPort(urlString) {\n  if (getURL(urlString).port) {\n    return urlString;\n  }\n\n  return stripHttpsScheme(urlString);\n}\n\n/**\n * Checks whether a URL-like value (object or string) is an extension URL.\n *\n * @param {string | URL | object} urlLike - The URL-like value to test.\n * @returns {boolean} Whether the URL-like value is an extension URL.\n */\nexport function isExtensionUrl(urlLike) {\n  const EXT_PROTOCOLS = ['chrome-extension:', 'moz-extension:'];\n\n  if (typeof urlLike === 'string') {\n    for (const protocol of EXT_PROTOCOLS) {\n      if (urlLike.startsWith(protocol)) {\n        return true;\n      }\n    }\n  }\n\n  if (urlLike?.protocol) {\n    return EXT_PROTOCOLS.includes(urlLike.protocol);\n  }\n  return false;\n}\n\n/**\n * Checks whether an address is in a passed list of objects with address properties. The check is performed on the\n * lowercased version of the addresses.\n *\n * @param {string} address - The hex address to check\n * @param {Array} list - The array of objects to check\n * @returns {boolean} Whether or not the address is in the list\n */\nexport function checkExistingAddresses(address, list = []) {\n  if (!address) {\n    return false;\n  }\n\n  const matchesAddress = (obj) => {\n    return obj.address.toLowerCase() === address.toLowerCase();\n  };\n\n  return list.some(matchesAddress);\n}\n\nexport function bnGreaterThan(a, b) {\n  if (a === null || a === undefined || b === null || b === undefined) {\n    return null;\n  }\n  return new BigNumber(a, 10).gt(b, 10);\n}\n\nexport function bnLessThan(a, b) {\n  if (a === null || a === undefined || b === null || b === undefined) {\n    return null;\n  }\n  return new BigNumber(a, 10).lt(b, 10);\n}\n\nexport function bnGreaterThanEqualTo(a, b) {\n  if (a === null || a === undefined || b === null || b === undefined) {\n    return null;\n  }\n  return new BigNumber(a, 10).gte(b, 10);\n}\n\nexport function bnLessThanEqualTo(a, b) {\n  if (a === null || a === undefined || b === null || b === undefined) {\n    return null;\n  }\n  return new BigNumber(a, 10).lte(b, 10);\n}\n\nexport function getURL(url) {\n  try {\n    return new URL(url);\n  } catch (err) {\n    return '';\n  }\n}\n\nexport function getIsBrowserDeprecated(\n  browser = bowser.getParser(window.navigator.userAgent),\n) {\n  return browser.satisfies(OUTDATED_BROWSER_VERSIONS) ?? false;\n}\n\nexport function getURLHost(url) {\n  return getURL(url)?.host || '';\n}\n\nexport function getURLHostName(url) {\n  return getURL(url)?.hostname || '';\n}\n\n// Once we reach this threshold, we switch to higher unit\nconst MINUTE_CUTOFF = 90 * 60;\nconst SECOND_CUTOFF = 90;\n\nexport const toHumanReadableTime = (t, milliseconds) => {\n  if (milliseconds === undefined || milliseconds === null) {\n    return '';\n  }\n  const seconds = Math.ceil(milliseconds / 1000);\n  if (seconds <= SECOND_CUTOFF) {\n    return t('gasTimingSecondsShort', [seconds]);\n  }\n  if (seconds <= MINUTE_CUTOFF) {\n    return t('gasTimingMinutesShort', [Math.ceil(seconds / 60)]);\n  }\n  return t('gasTimingHoursShort', [Math.ceil(seconds / 3600)]);\n};\n\nexport function clearClipboard() {\n  window.navigator.clipboard.writeText('');\n}\n\nconst solidityTypes = () => {\n  const types = [\n    'bool',\n    'address',\n    'string',\n    'bytes',\n    'int',\n    'uint',\n    'fixed',\n    'ufixed',\n  ];\n\n  const ints = Array.from(new Array(32)).map(\n    (_, index) => `int${(index + 1) * 8}`,\n  );\n  const uints = Array.from(new Array(32)).map(\n    (_, index) => `uint${(index + 1) * 8}`,\n  );\n  const bytes = Array.from(new Array(32)).map(\n    (_, index) => `bytes${index + 1}`,\n  );\n\n  /**\n   * fixed and ufixed\n   * This value type also can be declared keywords such as ufixedMxN and fixedMxN.\n   * The M represents the amount of bits that the type takes,\n   * with N representing the number of decimal points that are available.\n   *  M has to be divisible by 8, and a number from 8 to 256.\n   * N has to be a value between 0 and 80, also being inclusive.\n   */\n  const fixedM = Array.from(new Array(32)).map(\n    (_, index) => `fixed${(index + 1) * 8}`,\n  );\n  const ufixedM = Array.from(new Array(32)).map(\n    (_, index) => `ufixed${(index + 1) * 8}`,\n  );\n  const fixed = Array.from(new Array(80)).map((_, index) =>\n    fixedM.map((aFixedM) => `${aFixedM}x${index + 1}`),\n  );\n  const ufixed = Array.from(new Array(80)).map((_, index) =>\n    ufixedM.map((auFixedM) => `${auFixedM}x${index + 1}`),\n  );\n\n  return [\n    ...types,\n    ...ints,\n    ...uints,\n    ...bytes,\n    ...fixed.flat(),\n    ...ufixed.flat(),\n  ];\n};\n\nconst SOLIDITY_TYPES = solidityTypes();\n\nconst stripArrayType = (potentialArrayType) =>\n  potentialArrayType.replace(/\\[[[0-9]*\\]*/gu, '');\n\nexport const stripOneLayerofNesting = (potentialArrayType) =>\n  potentialArrayType.replace(/\\[(\\d*)\\]/u, '');\n\nconst isArrayType = (potentialArrayType) =>\n  potentialArrayType.match(/\\[[[0-9]*\\]*/u) !== null;\n\nconst isSolidityType = (type) => SOLIDITY_TYPES.includes(type);\n\nexport const sanitizeMessage = (msg, primaryType, types) => {\n  if (!types) {\n    throw new Error(`Invalid types definition`);\n  }\n\n  // Primary type can be an array.\n  const isArray = primaryType && isArrayType(primaryType);\n  if (isArray) {\n    return {\n      value: msg.map((value) =>\n        sanitizeMessage(value, stripOneLayerofNesting(primaryType), types),\n      ),\n      type: primaryType,\n    };\n  } else if (isSolidityType(primaryType)) {\n    return { value: msg, type: primaryType };\n  }\n\n  // If not, assume to be struct\n  const baseType = isArray ? stripArrayType(primaryType) : primaryType;\n\n  const baseTypeDefinitions = types[baseType];\n  if (!baseTypeDefinitions) {\n    throw new Error(`Invalid primary type definition`);\n  }\n\n  const sanitizedStruct = {};\n  const msgKeys = Object.keys(msg);\n  msgKeys.forEach((msgKey) => {\n    const definedType = Object.values(baseTypeDefinitions).find(\n      (baseTypeDefinition) => baseTypeDefinition.name === msgKey,\n    );\n\n    if (!definedType) {\n      return;\n    }\n\n    sanitizedStruct[msgKey] = sanitizeMessage(\n      msg[msgKey],\n      definedType.type,\n      types,\n    );\n  });\n  return { value: sanitizedStruct, type: primaryType };\n};\n\nexport async function getAssetImageURL(image, ipfsGateway) {\n  if (!image || typeof image !== 'string') {\n    return '';\n  }\n\n  if (ipfsGateway && image.startsWith('ipfs://')) {\n    // With v11.1.0, we started seeing errors thrown that included this\n    // line in the stack trace. The cause is that the `getIpfsCIDv1AndPath`\n    // method within assets-controllers/src/assetsUtil.ts can throw\n    // if part of the ipfsUrl, i.e. the `image` variable within this function,\n    // contains characters not in the Base58 alphabet. Details on that are\n    // here https://digitalbazaar.github.io/base58-spec/#alphabet. This happens\n    // with some NFTs, when we attempt to parse part of their IPFS image address\n    // with the `CID.parse` function (CID is part of the multiform package)\n    //\n    // Before v11.1.0 `getFormattedIpfsUrl` was not used in the extension codebase.\n    // Its use within assets-controllers always ensures that errors are caught\n    // and ignored. So while we were handling NFTs that can cause this error before,\n    // we were always catching and ignoring the error. As of PR #20172, we started\n    // passing all NFTs image URLs to `getAssetImageURL` from nft-items.js, which is\n    // why we started seeing these errors cause crashes for users in v11.1.0\n    //\n    // For the sake of a quick fix, we are wrapping this call in a try-catch, which\n    // the assets-controllers already do in some form in all cases where this function\n    // is called. This probably does not affect user experience, as we would not have\n    // correctly rendered these NFTs before v11.1.0 either (due to the same error\n    // disuccessed in this code comment).\n    //\n    // In the future, we can look into solving the root cause, which might require\n    // no longer using multiform's CID.parse() method within the assets-controller\n    try {\n      return await getFormattedIpfsUrl(ipfsGateway, image, true);\n    } catch (e) {\n      logErrorWithMessage(e);\n      return '';\n    }\n  }\n  return image;\n}\n\nexport function roundToDecimalPlacesRemovingExtraZeroes(\n  numberish,\n  numberOfDecimalPlaces,\n) {\n  if (numberish === undefined || numberish === null) {\n    return '';\n  }\n  return new Numeric(\n    new Numeric(numberish, 10).toFixed(numberOfDecimalPlaces),\n    10,\n  ).toNumber();\n}\n\n/**\n * Tests \"nullishness\". Used to guard a section of a component from being\n * rendered based on a value.\n *\n * @param {any} value - A value (literally anything).\n * @returns `true` if the value is null or undefined, `false` otherwise.\n */\nexport function isNullish(value) {\n  return value === null || value === undefined;\n}\n\nexport const getSnapName = (snapsMetadata) => {\n  return (snapId) => {\n    return snapsMetadata[snapId]?.name ?? stripSnapPrefix(snapId);\n  };\n};\n\nexport const getSnapRoute = (snapId) => {\n  return `${SNAPS_VIEW_ROUTE}/${encodeURIComponent(snapId)}`;\n};\n\nexport const getDedupedSnaps = (request, permissions) => {\n  const permission = request?.permissions?.[WALLET_SNAP_PERMISSION_KEY];\n  const requestedSnaps = permission?.caveats[0].value;\n  const currentSnaps =\n    permissions?.[WALLET_SNAP_PERMISSION_KEY]?.caveats[0].value;\n\n  if (!isObject(currentSnaps) && requestedSnaps) {\n    return Object.keys(requestedSnaps);\n  }\n\n  const requestedSnapKeys = requestedSnaps ? Object.keys(requestedSnaps) : [];\n  const currentSnapKeys = currentSnaps ? Object.keys(currentSnaps) : [];\n  const dedupedSnaps = requestedSnapKeys.filter(\n    (snapId) => !currentSnapKeys.includes(snapId),\n  );\n\n  return dedupedSnaps.length > 0 ? dedupedSnaps : requestedSnapKeys;\n};\n\nexport const IS_FLASK = process.env.METAMASK_BUILD_TYPE === 'flask';\n\n/**\n * The method escape RTL character in string\n *\n * @param {*} value\n * @returns {(string|*)} escaped string or original param value\n */\nexport const sanitizeString = (value) => {\n  if (!value) {\n    return value;\n  }\n  if (!lodash.isString(value)) {\n    return value;\n  }\n  const regex = /\\u202E/giu;\n  return value.replace(regex, '\\\\u202E');\n};\n\n/**\n * This method checks current provider type and returns its string representation\n *\n * @param {*} provider\n * @param {*} t\n * @returns\n */\n\nexport const getNetworkNameFromProviderType = (providerName) => {\n  if (providerName === NETWORK_TYPES.RPC) {\n    return '';\n  }\n  return providerName;\n};\n\n/**\n * Checks if the given keyring type is able to export an account.\n *\n * @param keyringType - The type of the keyring.\n * @returns {boolean} `false` if the keyring type includes 'Hardware' or 'Snap', `true` otherwise.\n */\nexport const isAbleToExportAccount = (keyringType = '') => {\n  return !keyringType.includes('Hardware') && !keyringType.includes('Snap');\n};\n\n/**\n * Checks if a tokenId in Hex or decimal format already exists in an object.\n *\n * @param {string} address - collection address.\n * @param {string} tokenId - tokenId to search for\n * @param {*} obj - object to look into\n * @returns {boolean} `false` if tokenId does not already exist.\n */\nexport const checkTokenIdExists = (address, tokenId, obj) => {\n  // check if input tokenId is hexadecimal\n  // If it is convert to decimal and compare with existing tokens\n  const isHex = isStrictHexString(tokenId);\n  let convertedTokenId = tokenId;\n  if (isHex) {\n    // Convert to decimal\n    convertedTokenId = hexToDecimal(tokenId);\n  }\n  // Convert the input address to checksum address\n  const checkSumAdr = toChecksumHexAddress(address);\n  if (obj[checkSumAdr]) {\n    const value = obj[checkSumAdr];\n    return lodash.some(value.nfts, (nft) => {\n      return (\n        nft.address === checkSumAdr &&\n        (isEqualCaseInsensitive(nft.tokenId, tokenId) ||\n          isEqualCaseInsensitive(nft.tokenId, convertedTokenId.toString()))\n      );\n    });\n  }\n  return false;\n};\n\n/**\n * Retrieves token prices\n *\n * @param {string} nativeCurrency - native currency to fetch prices for.\n * @param {Hex[]} tokenAddresses - set of contract addresses\n * @param {Hex} chainId - current chainId\n * @returns The prices for the requested tokens.\n */\nexport const fetchTokenExchangeRates = async (\n  nativeCurrency,\n  tokenAddresses,\n  chainId,\n) => {\n  try {\n    return await fetchTokenContractExchangeRates({\n      tokenPricesService: new CodefiTokenPricesServiceV2(),\n      nativeCurrency,\n      tokenAddresses,\n      chainId,\n    });\n  } catch (err) {\n    return {};\n  }\n};\n\nexport const hexToText = (hex) => {\n  if (!hex) {\n    return hex;\n  }\n  try {\n    const stripped = stripHexPrefix(hex);\n    const buff = Buffer.from(stripped, 'hex');\n    return buff.length === 32 ? hex : buff.toString('utf8');\n  } catch (e) {\n    return hex;\n  }\n};\n\n/**\n * Extract and return first character (letter or number) of a provided string.\n * If not possible, return question mark.\n * Note: This function is used for generating fallback avatars for different entities (websites, Snaps, etc.)\n * Note: Only letters and numbers will be returned if possible (special characters are ignored).\n *\n * @param {string} subjectName - Name of a subject.\n * @returns Single character, chosen from the first character or number, question mark otherwise.\n */\nexport const getAvatarFallbackLetter = (subjectName) => {\n  return subjectName?.match(/[a-z0-9]/iu)?.[0] ?? '?';\n};\n\n/**\n * Get abstracted Snap permissions filtered by weight.\n *\n * @param weightedPermissions - Set of Snap permissions that have 'weight' property assigned.\n * @param weightThreshold - Number that represents weight threshold for filtering.\n * @param minPermissionCount - Minimum number of permissions to show,\n * if filtered permissions count are less than the value specified.\n * @returns Subset of permissions passing weight criteria.\n */\nexport const getFilteredSnapPermissions = (\n  weightedPermissions,\n  weightThreshold = Infinity,\n  minPermissionCount = 3,\n) => {\n  const filteredPermissions = weightedPermissions.filter(\n    (permission) => permission.weight <= weightThreshold,\n  );\n\n  // If there are not enough permissions that fall into desired set filtered by weight,\n  // then fill the gap, no matter what the weight is\n  if (minPermissionCount && filteredPermissions.length < minPermissionCount) {\n    const remainingPermissions = weightedPermissions.filter(\n      (permission) => permission.weight > weightThreshold,\n    );\n    // Add permissions until desired count is reached\n    return filteredPermissions.concat(\n      remainingPermissions.slice(\n        0,\n        minPermissionCount - filteredPermissions.length,\n      ),\n    );\n  }\n\n  return filteredPermissions;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nameprep = exports.parseBytes32String = exports.formatBytes32String = exports.UnicodeNormalizationForm = exports.Utf8ErrorReason = exports.Utf8ErrorFuncs = exports.toUtf8String = exports.toUtf8CodePoints = exports.toUtf8Bytes = exports._toEscapedUtf8String = void 0;\nvar bytes32_1 = require(\"./bytes32\");\nObject.defineProperty(exports, \"formatBytes32String\", { enumerable: true, get: function () { return bytes32_1.formatBytes32String; } });\nObject.defineProperty(exports, \"parseBytes32String\", { enumerable: true, get: function () { return bytes32_1.parseBytes32String; } });\nvar idna_1 = require(\"./idna\");\nObject.defineProperty(exports, \"nameprep\", { enumerable: true, get: function () { return idna_1.nameprep; } });\nvar utf8_1 = require(\"./utf8\");\nObject.defineProperty(exports, \"_toEscapedUtf8String\", { enumerable: true, get: function () { return utf8_1._toEscapedUtf8String; } });\nObject.defineProperty(exports, \"toUtf8Bytes\", { enumerable: true, get: function () { return utf8_1.toUtf8Bytes; } });\nObject.defineProperty(exports, \"toUtf8CodePoints\", { enumerable: true, get: function () { return utf8_1.toUtf8CodePoints; } });\nObject.defineProperty(exports, \"toUtf8String\", { enumerable: true, get: function () { return utf8_1.toUtf8String; } });\nObject.defineProperty(exports, \"UnicodeNormalizationForm\", { enumerable: true, get: function () { return utf8_1.UnicodeNormalizationForm; } });\nObject.defineProperty(exports, \"Utf8ErrorFuncs\", { enumerable: true, get: function () { return utf8_1.Utf8ErrorFuncs; } });\nObject.defineProperty(exports, \"Utf8ErrorReason\", { enumerable: true, get: function () { return utf8_1.Utf8ErrorReason; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toUtf8CodePoints = exports.toUtf8String = exports._toUtf8String = exports._toEscapedUtf8String = exports.toUtf8Bytes = exports.Utf8ErrorFuncs = exports.Utf8ErrorReason = exports.UnicodeNormalizationForm = void 0;\nvar bytes_1 = require(\"@ethersproject/bytes\");\nvar logger_1 = require(\"@ethersproject/logger\");\nvar _version_1 = require(\"./_version\");\nvar logger = new logger_1.Logger(_version_1.version);\n///////////////////////////////\nvar UnicodeNormalizationForm;\n(function (UnicodeNormalizationForm) {\n    UnicodeNormalizationForm[\"current\"] = \"\";\n    UnicodeNormalizationForm[\"NFC\"] = \"NFC\";\n    UnicodeNormalizationForm[\"NFD\"] = \"NFD\";\n    UnicodeNormalizationForm[\"NFKC\"] = \"NFKC\";\n    UnicodeNormalizationForm[\"NFKD\"] = \"NFKD\";\n})(UnicodeNormalizationForm = exports.UnicodeNormalizationForm || (exports.UnicodeNormalizationForm = {}));\n;\nvar Utf8ErrorReason;\n(function (Utf8ErrorReason) {\n    // A continuation byte was present where there was nothing to continue\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"UNEXPECTED_CONTINUE\"] = \"unexpected continuation byte\";\n    // An invalid (non-continuation) byte to start a UTF-8 codepoint was found\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"BAD_PREFIX\"] = \"bad codepoint prefix\";\n    // The string is too short to process the expected codepoint\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"OVERRUN\"] = \"string overrun\";\n    // A missing continuation byte was expected but not found\n    // - offset = the index the continuation byte was expected at\n    Utf8ErrorReason[\"MISSING_CONTINUE\"] = \"missing continuation byte\";\n    // The computed code point is outside the range for UTF-8\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; outside the UTF-8 range\n    Utf8ErrorReason[\"OUT_OF_RANGE\"] = \"out of UTF-8 range\";\n    // UTF-8 strings may not contain UTF-16 surrogate pairs\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; inside the UTF-16 surrogate range\n    Utf8ErrorReason[\"UTF16_SURROGATE\"] = \"UTF-16 surrogate\";\n    // The string is an overlong representation\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; already bounds checked\n    Utf8ErrorReason[\"OVERLONG\"] = \"overlong representation\";\n})(Utf8ErrorReason = exports.Utf8ErrorReason || (exports.Utf8ErrorReason = {}));\n;\nfunction errorFunc(reason, offset, bytes, output, badCodepoint) {\n    return logger.throwArgumentError(\"invalid codepoint at offset \" + offset + \"; \" + reason, \"bytes\", bytes);\n}\nfunction ignoreFunc(reason, offset, bytes, output, badCodepoint) {\n    // If there is an invalid prefix (including stray continuation), skip any additional continuation bytes\n    if (reason === Utf8ErrorReason.BAD_PREFIX || reason === Utf8ErrorReason.UNEXPECTED_CONTINUE) {\n        var i = 0;\n        for (var o = offset + 1; o < bytes.length; o++) {\n            if (bytes[o] >> 6 !== 0x02) {\n                break;\n            }\n            i++;\n        }\n        return i;\n    }\n    // This byte runs us past the end of the string, so just jump to the end\n    // (but the first byte was read already read and therefore skipped)\n    if (reason === Utf8ErrorReason.OVERRUN) {\n        return bytes.length - offset - 1;\n    }\n    // Nothing to skip\n    return 0;\n}\nfunction replaceFunc(reason, offset, bytes, output, badCodepoint) {\n    // Overlong representations are otherwise \"valid\" code points; just non-deistingtished\n    if (reason === Utf8ErrorReason.OVERLONG) {\n        output.push(badCodepoint);\n        return 0;\n    }\n    // Put the replacement character into the output\n    output.push(0xfffd);\n    // Otherwise, process as if ignoring errors\n    return ignoreFunc(reason, offset, bytes, output, badCodepoint);\n}\n// Common error handing strategies\nexports.Utf8ErrorFuncs = Object.freeze({\n    error: errorFunc,\n    ignore: ignoreFunc,\n    replace: replaceFunc\n});\n// http://stackoverflow.com/questions/13356493/decode-utf-8-with-javascript#13691499\nfunction getUtf8CodePoints(bytes, onError) {\n    if (onError == null) {\n        onError = exports.Utf8ErrorFuncs.error;\n    }\n    bytes = (0, bytes_1.arrayify)(bytes);\n    var result = [];\n    var i = 0;\n    // Invalid bytes are ignored\n    while (i < bytes.length) {\n        var c = bytes[i++];\n        // 0xxx xxxx\n        if (c >> 7 === 0) {\n            result.push(c);\n            continue;\n        }\n        // Multibyte; how many bytes left for this character?\n        var extraLength = null;\n        var overlongMask = null;\n        // 110x xxxx 10xx xxxx\n        if ((c & 0xe0) === 0xc0) {\n            extraLength = 1;\n            overlongMask = 0x7f;\n            // 1110 xxxx 10xx xxxx 10xx xxxx\n        }\n        else if ((c & 0xf0) === 0xe0) {\n            extraLength = 2;\n            overlongMask = 0x7ff;\n            // 1111 0xxx 10xx xxxx 10xx xxxx 10xx xxxx\n        }\n        else if ((c & 0xf8) === 0xf0) {\n            extraLength = 3;\n            overlongMask = 0xffff;\n        }\n        else {\n            if ((c & 0xc0) === 0x80) {\n                i += onError(Utf8ErrorReason.UNEXPECTED_CONTINUE, i - 1, bytes, result);\n            }\n            else {\n                i += onError(Utf8ErrorReason.BAD_PREFIX, i - 1, bytes, result);\n            }\n            continue;\n        }\n        // Do we have enough bytes in our data?\n        if (i - 1 + extraLength >= bytes.length) {\n            i += onError(Utf8ErrorReason.OVERRUN, i - 1, bytes, result);\n            continue;\n        }\n        // Remove the length prefix from the char\n        var res = c & ((1 << (8 - extraLength - 1)) - 1);\n        for (var j = 0; j < extraLength; j++) {\n            var nextChar = bytes[i];\n            // Invalid continuation byte\n            if ((nextChar & 0xc0) != 0x80) {\n                i += onError(Utf8ErrorReason.MISSING_CONTINUE, i, bytes, result);\n                res = null;\n                break;\n            }\n            ;\n            res = (res << 6) | (nextChar & 0x3f);\n            i++;\n        }\n        // See above loop for invalid continuation byte\n        if (res === null) {\n            continue;\n        }\n        // Maximum code point\n        if (res > 0x10ffff) {\n            i += onError(Utf8ErrorReason.OUT_OF_RANGE, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        // Reserved for UTF-16 surrogate halves\n        if (res >= 0xd800 && res <= 0xdfff) {\n            i += onError(Utf8ErrorReason.UTF16_SURROGATE, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        // Check for overlong sequences (more bytes than needed)\n        if (res <= overlongMask) {\n            i += onError(Utf8ErrorReason.OVERLONG, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        result.push(res);\n    }\n    return result;\n}\n// http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\nfunction toUtf8Bytes(str, form) {\n    if (form === void 0) { form = UnicodeNormalizationForm.current; }\n    if (form != UnicodeNormalizationForm.current) {\n        logger.checkNormalize();\n        str = str.normalize(form);\n    }\n    var result = [];\n    for (var i = 0; i < str.length; i++) {\n        var c = str.charCodeAt(i);\n        if (c < 0x80) {\n            result.push(c);\n        }\n        else if (c < 0x800) {\n            result.push((c >> 6) | 0xc0);\n            result.push((c & 0x3f) | 0x80);\n        }\n        else if ((c & 0xfc00) == 0xd800) {\n            i++;\n            var c2 = str.charCodeAt(i);\n            if (i >= str.length || (c2 & 0xfc00) !== 0xdc00) {\n                throw new Error(\"invalid utf-8 string\");\n            }\n            // Surrogate Pair\n            var pair = 0x10000 + ((c & 0x03ff) << 10) + (c2 & 0x03ff);\n            result.push((pair >> 18) | 0xf0);\n            result.push(((pair >> 12) & 0x3f) | 0x80);\n            result.push(((pair >> 6) & 0x3f) | 0x80);\n            result.push((pair & 0x3f) | 0x80);\n        }\n        else {\n            result.push((c >> 12) | 0xe0);\n            result.push(((c >> 6) & 0x3f) | 0x80);\n            result.push((c & 0x3f) | 0x80);\n        }\n    }\n    return (0, bytes_1.arrayify)(result);\n}\nexports.toUtf8Bytes = toUtf8Bytes;\n;\nfunction escapeChar(value) {\n    var hex = (\"0000\" + value.toString(16));\n    return \"\\\\u\" + hex.substring(hex.length - 4);\n}\nfunction _toEscapedUtf8String(bytes, onError) {\n    return '\"' + getUtf8CodePoints(bytes, onError).map(function (codePoint) {\n        if (codePoint < 256) {\n            switch (codePoint) {\n                case 8: return \"\\\\b\";\n                case 9: return \"\\\\t\";\n                case 10: return \"\\\\n\";\n                case 13: return \"\\\\r\";\n                case 34: return \"\\\\\\\"\";\n                case 92: return \"\\\\\\\\\";\n            }\n            if (codePoint >= 32 && codePoint < 127) {\n                return String.fromCharCode(codePoint);\n            }\n        }\n        if (codePoint <= 0xffff) {\n            return escapeChar(codePoint);\n        }\n        codePoint -= 0x10000;\n        return escapeChar(((codePoint >> 10) & 0x3ff) + 0xd800) + escapeChar((codePoint & 0x3ff) + 0xdc00);\n    }).join(\"\") + '\"';\n}\nexports._toEscapedUtf8String = _toEscapedUtf8String;\nfunction _toUtf8String(codePoints) {\n    return codePoints.map(function (codePoint) {\n        if (codePoint <= 0xffff) {\n            return String.fromCharCode(codePoint);\n        }\n        codePoint -= 0x10000;\n        return String.fromCharCode((((codePoint >> 10) & 0x3ff) + 0xd800), ((codePoint & 0x3ff) + 0xdc00));\n    }).join(\"\");\n}\nexports._toUtf8String = _toUtf8String;\nfunction toUtf8String(bytes, onError) {\n    return _toUtf8String(getUtf8CodePoints(bytes, onError));\n}\nexports.toUtf8String = toUtf8String;\nfunction toUtf8CodePoints(str, form) {\n    if (form === void 0) { form = UnicodeNormalizationForm.current; }\n    return getUtf8CodePoints(toUtf8Bytes(str, form));\n}\nexports.toUtf8CodePoints = toUtf8CodePoints;\n//# sourceMappingURL=utf8.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.version = void 0;\nexports.version = \"transactions/5.7.0\";\n//# sourceMappingURL=_version.js.map","import { useContext } from 'react';\nimport { I18nContext } from '../contexts/i18n';\n\n/**\n * useI18ncContext\n *\n * A time saving shortcut to using useContext + I18ncontext in many\n * different places.\n *\n * @returns {Function} I18n function from contexts/I18n.js\n */\nexport function useI18nContext() {\n  return useContext(I18nContext);\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = exports.serialize = exports.accessListify = exports.recoverAddress = exports.computeAddress = exports.TransactionTypes = void 0;\nvar address_1 = require(\"@ethersproject/address\");\nvar bignumber_1 = require(\"@ethersproject/bignumber\");\nvar bytes_1 = require(\"@ethersproject/bytes\");\nvar constants_1 = require(\"@ethersproject/constants\");\nvar keccak256_1 = require(\"@ethersproject/keccak256\");\nvar properties_1 = require(\"@ethersproject/properties\");\nvar RLP = __importStar(require(\"@ethersproject/rlp\"));\nvar signing_key_1 = require(\"@ethersproject/signing-key\");\nvar logger_1 = require(\"@ethersproject/logger\");\nvar _version_1 = require(\"./_version\");\nvar logger = new logger_1.Logger(_version_1.version);\nvar TransactionTypes;\n(function (TransactionTypes) {\n    TransactionTypes[TransactionTypes[\"legacy\"] = 0] = \"legacy\";\n    TransactionTypes[TransactionTypes[\"eip2930\"] = 1] = \"eip2930\";\n    TransactionTypes[TransactionTypes[\"eip1559\"] = 2] = \"eip1559\";\n})(TransactionTypes = exports.TransactionTypes || (exports.TransactionTypes = {}));\n;\n///////////////////////////////\nfunction handleAddress(value) {\n    if (value === \"0x\") {\n        return null;\n    }\n    return (0, address_1.getAddress)(value);\n}\nfunction handleNumber(value) {\n    if (value === \"0x\") {\n        return constants_1.Zero;\n    }\n    return bignumber_1.BigNumber.from(value);\n}\n// Legacy Transaction Fields\nvar transactionFields = [\n    { name: \"nonce\", maxLength: 32, numeric: true },\n    { name: \"gasPrice\", maxLength: 32, numeric: true },\n    { name: \"gasLimit\", maxLength: 32, numeric: true },\n    { name: \"to\", length: 20 },\n    { name: \"value\", maxLength: 32, numeric: true },\n    { name: \"data\" },\n];\nvar allowedTransactionKeys = {\n    chainId: true, data: true, gasLimit: true, gasPrice: true, nonce: true, to: true, type: true, value: true\n};\nfunction computeAddress(key) {\n    var publicKey = (0, signing_key_1.computePublicKey)(key);\n    return (0, address_1.getAddress)((0, bytes_1.hexDataSlice)((0, keccak256_1.keccak256)((0, bytes_1.hexDataSlice)(publicKey, 1)), 12));\n}\nexports.computeAddress = computeAddress;\nfunction recoverAddress(digest, signature) {\n    return computeAddress((0, signing_key_1.recoverPublicKey)((0, bytes_1.arrayify)(digest), signature));\n}\nexports.recoverAddress = recoverAddress;\nfunction formatNumber(value, name) {\n    var result = (0, bytes_1.stripZeros)(bignumber_1.BigNumber.from(value).toHexString());\n    if (result.length > 32) {\n        logger.throwArgumentError(\"invalid length for \" + name, (\"transaction:\" + name), value);\n    }\n    return result;\n}\nfunction accessSetify(addr, storageKeys) {\n    return {\n        address: (0, address_1.getAddress)(addr),\n        storageKeys: (storageKeys || []).map(function (storageKey, index) {\n            if ((0, bytes_1.hexDataLength)(storageKey) !== 32) {\n                logger.throwArgumentError(\"invalid access list storageKey\", \"accessList[\" + addr + \":\" + index + \"]\", storageKey);\n            }\n            return storageKey.toLowerCase();\n        })\n    };\n}\nfunction accessListify(value) {\n    if (Array.isArray(value)) {\n        return value.map(function (set, index) {\n            if (Array.isArray(set)) {\n                if (set.length > 2) {\n                    logger.throwArgumentError(\"access list expected to be [ address, storageKeys[] ]\", \"value[\" + index + \"]\", set);\n                }\n                return accessSetify(set[0], set[1]);\n            }\n            return accessSetify(set.address, set.storageKeys);\n        });\n    }\n    var result = Object.keys(value).map(function (addr) {\n        var storageKeys = value[addr].reduce(function (accum, storageKey) {\n            accum[storageKey] = true;\n            return accum;\n        }, {});\n        return accessSetify(addr, Object.keys(storageKeys).sort());\n    });\n    result.sort(function (a, b) { return (a.address.localeCompare(b.address)); });\n    return result;\n}\nexports.accessListify = accessListify;\nfunction formatAccessList(value) {\n    return accessListify(value).map(function (set) { return [set.address, set.storageKeys]; });\n}\nfunction _serializeEip1559(transaction, signature) {\n    // If there is an explicit gasPrice, make sure it matches the\n    // EIP-1559 fees; otherwise they may not understand what they\n    // think they are setting in terms of fee.\n    if (transaction.gasPrice != null) {\n        var gasPrice = bignumber_1.BigNumber.from(transaction.gasPrice);\n        var maxFeePerGas = bignumber_1.BigNumber.from(transaction.maxFeePerGas || 0);\n        if (!gasPrice.eq(maxFeePerGas)) {\n            logger.throwArgumentError(\"mismatch EIP-1559 gasPrice != maxFeePerGas\", \"tx\", {\n                gasPrice: gasPrice,\n                maxFeePerGas: maxFeePerGas\n            });\n        }\n    }\n    var fields = [\n        formatNumber(transaction.chainId || 0, \"chainId\"),\n        formatNumber(transaction.nonce || 0, \"nonce\"),\n        formatNumber(transaction.maxPriorityFeePerGas || 0, \"maxPriorityFeePerGas\"),\n        formatNumber(transaction.maxFeePerGas || 0, \"maxFeePerGas\"),\n        formatNumber(transaction.gasLimit || 0, \"gasLimit\"),\n        ((transaction.to != null) ? (0, address_1.getAddress)(transaction.to) : \"0x\"),\n        formatNumber(transaction.value || 0, \"value\"),\n        (transaction.data || \"0x\"),\n        (formatAccessList(transaction.accessList || []))\n    ];\n    if (signature) {\n        var sig = (0, bytes_1.splitSignature)(signature);\n        fields.push(formatNumber(sig.recoveryParam, \"recoveryParam\"));\n        fields.push((0, bytes_1.stripZeros)(sig.r));\n        fields.push((0, bytes_1.stripZeros)(sig.s));\n    }\n    return (0, bytes_1.hexConcat)([\"0x02\", RLP.encode(fields)]);\n}\nfunction _serializeEip2930(transaction, signature) {\n    var fields = [\n        formatNumber(transaction.chainId || 0, \"chainId\"),\n        formatNumber(transaction.nonce || 0, \"nonce\"),\n        formatNumber(transaction.gasPrice || 0, \"gasPrice\"),\n        formatNumber(transaction.gasLimit || 0, \"gasLimit\"),\n        ((transaction.to != null) ? (0, address_1.getAddress)(transaction.to) : \"0x\"),\n        formatNumber(transaction.value || 0, \"value\"),\n        (transaction.data || \"0x\"),\n        (formatAccessList(transaction.accessList || []))\n    ];\n    if (signature) {\n        var sig = (0, bytes_1.splitSignature)(signature);\n        fields.push(formatNumber(sig.recoveryParam, \"recoveryParam\"));\n        fields.push((0, bytes_1.stripZeros)(sig.r));\n        fields.push((0, bytes_1.stripZeros)(sig.s));\n    }\n    return (0, bytes_1.hexConcat)([\"0x01\", RLP.encode(fields)]);\n}\n// Legacy Transactions and EIP-155\nfunction _serialize(transaction, signature) {\n    (0, properties_1.checkProperties)(transaction, allowedTransactionKeys);\n    var raw = [];\n    transactionFields.forEach(function (fieldInfo) {\n        var value = transaction[fieldInfo.name] || ([]);\n        var options = {};\n        if (fieldInfo.numeric) {\n            options.hexPad = \"left\";\n        }\n        value = (0, bytes_1.arrayify)((0, bytes_1.hexlify)(value, options));\n        // Fixed-width field\n        if (fieldInfo.length && value.length !== fieldInfo.length && value.length > 0) {\n            logger.throwArgumentError(\"invalid length for \" + fieldInfo.name, (\"transaction:\" + fieldInfo.name), value);\n        }\n        // Variable-width (with a maximum)\n        if (fieldInfo.maxLength) {\n            value = (0, bytes_1.stripZeros)(value);\n            if (value.length > fieldInfo.maxLength) {\n                logger.throwArgumentError(\"invalid length for \" + fieldInfo.name, (\"transaction:\" + fieldInfo.name), value);\n            }\n        }\n        raw.push((0, bytes_1.hexlify)(value));\n    });\n    var chainId = 0;\n    if (transaction.chainId != null) {\n        // A chainId was provided; if non-zero we'll use EIP-155\n        chainId = transaction.chainId;\n        if (typeof (chainId) !== \"number\") {\n            logger.throwArgumentError(\"invalid transaction.chainId\", \"transaction\", transaction);\n        }\n    }\n    else if (signature && !(0, bytes_1.isBytesLike)(signature) && signature.v > 28) {\n        // No chainId provided, but the signature is signing with EIP-155; derive chainId\n        chainId = Math.floor((signature.v - 35) / 2);\n    }\n    // We have an EIP-155 transaction (chainId was specified and non-zero)\n    if (chainId !== 0) {\n        raw.push((0, bytes_1.hexlify)(chainId)); // @TODO: hexValue?\n        raw.push(\"0x\");\n        raw.push(\"0x\");\n    }\n    // Requesting an unsigned transaction\n    if (!signature) {\n        return RLP.encode(raw);\n    }\n    // The splitSignature will ensure the transaction has a recoveryParam in the\n    // case that the signTransaction function only adds a v.\n    var sig = (0, bytes_1.splitSignature)(signature);\n    // We pushed a chainId and null r, s on for hashing only; remove those\n    var v = 27 + sig.recoveryParam;\n    if (chainId !== 0) {\n        raw.pop();\n        raw.pop();\n        raw.pop();\n        v += chainId * 2 + 8;\n        // If an EIP-155 v (directly or indirectly; maybe _vs) was provided, check it!\n        if (sig.v > 28 && sig.v !== v) {\n            logger.throwArgumentError(\"transaction.chainId/signature.v mismatch\", \"signature\", signature);\n        }\n    }\n    else if (sig.v !== v) {\n        logger.throwArgumentError(\"transaction.chainId/signature.v mismatch\", \"signature\", signature);\n    }\n    raw.push((0, bytes_1.hexlify)(v));\n    raw.push((0, bytes_1.stripZeros)((0, bytes_1.arrayify)(sig.r)));\n    raw.push((0, bytes_1.stripZeros)((0, bytes_1.arrayify)(sig.s)));\n    return RLP.encode(raw);\n}\nfunction serialize(transaction, signature) {\n    // Legacy and EIP-155 Transactions\n    if (transaction.type == null || transaction.type === 0) {\n        if (transaction.accessList != null) {\n            logger.throwArgumentError(\"untyped transactions do not support accessList; include type: 1\", \"transaction\", transaction);\n        }\n        return _serialize(transaction, signature);\n    }\n    // Typed Transactions (EIP-2718)\n    switch (transaction.type) {\n        case 1:\n            return _serializeEip2930(transaction, signature);\n        case 2:\n            return _serializeEip1559(transaction, signature);\n        default:\n            break;\n    }\n    return logger.throwError(\"unsupported transaction type: \" + transaction.type, logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n        operation: \"serializeTransaction\",\n        transactionType: transaction.type\n    });\n}\nexports.serialize = serialize;\nfunction _parseEipSignature(tx, fields, serialize) {\n    try {\n        var recid = handleNumber(fields[0]).toNumber();\n        if (recid !== 0 && recid !== 1) {\n            throw new Error(\"bad recid\");\n        }\n        tx.v = recid;\n    }\n    catch (error) {\n        logger.throwArgumentError(\"invalid v for transaction type: 1\", \"v\", fields[0]);\n    }\n    tx.r = (0, bytes_1.hexZeroPad)(fields[1], 32);\n    tx.s = (0, bytes_1.hexZeroPad)(fields[2], 32);\n    try {\n        var digest = (0, keccak256_1.keccak256)(serialize(tx));\n        tx.from = recoverAddress(digest, { r: tx.r, s: tx.s, recoveryParam: tx.v });\n    }\n    catch (error) { }\n}\nfunction _parseEip1559(payload) {\n    var transaction = RLP.decode(payload.slice(1));\n    if (transaction.length !== 9 && transaction.length !== 12) {\n        logger.throwArgumentError(\"invalid component count for transaction type: 2\", \"payload\", (0, bytes_1.hexlify)(payload));\n    }\n    var maxPriorityFeePerGas = handleNumber(transaction[2]);\n    var maxFeePerGas = handleNumber(transaction[3]);\n    var tx = {\n        type: 2,\n        chainId: handleNumber(transaction[0]).toNumber(),\n        nonce: handleNumber(transaction[1]).toNumber(),\n        maxPriorityFeePerGas: maxPriorityFeePerGas,\n        maxFeePerGas: maxFeePerGas,\n        gasPrice: null,\n        gasLimit: handleNumber(transaction[4]),\n        to: handleAddress(transaction[5]),\n        value: handleNumber(transaction[6]),\n        data: transaction[7],\n        accessList: accessListify(transaction[8]),\n    };\n    // Unsigned EIP-1559 Transaction\n    if (transaction.length === 9) {\n        return tx;\n    }\n    tx.hash = (0, keccak256_1.keccak256)(payload);\n    _parseEipSignature(tx, transaction.slice(9), _serializeEip1559);\n    return tx;\n}\nfunction _parseEip2930(payload) {\n    var transaction = RLP.decode(payload.slice(1));\n    if (transaction.length !== 8 && transaction.length !== 11) {\n        logger.throwArgumentError(\"invalid component count for transaction type: 1\", \"payload\", (0, bytes_1.hexlify)(payload));\n    }\n    var tx = {\n        type: 1,\n        chainId: handleNumber(transaction[0]).toNumber(),\n        nonce: handleNumber(transaction[1]).toNumber(),\n        gasPrice: handleNumber(transaction[2]),\n        gasLimit: handleNumber(transaction[3]),\n        to: handleAddress(transaction[4]),\n        value: handleNumber(transaction[5]),\n        data: transaction[6],\n        accessList: accessListify(transaction[7])\n    };\n    // Unsigned EIP-2930 Transaction\n    if (transaction.length === 8) {\n        return tx;\n    }\n    tx.hash = (0, keccak256_1.keccak256)(payload);\n    _parseEipSignature(tx, transaction.slice(8), _serializeEip2930);\n    return tx;\n}\n// Legacy Transactions and EIP-155\nfunction _parse(rawTransaction) {\n    var transaction = RLP.decode(rawTransaction);\n    if (transaction.length !== 9 && transaction.length !== 6) {\n        logger.throwArgumentError(\"invalid raw transaction\", \"rawTransaction\", rawTransaction);\n    }\n    var tx = {\n        nonce: handleNumber(transaction[0]).toNumber(),\n        gasPrice: handleNumber(transaction[1]),\n        gasLimit: handleNumber(transaction[2]),\n        to: handleAddress(transaction[3]),\n        value: handleNumber(transaction[4]),\n        data: transaction[5],\n        chainId: 0\n    };\n    // Legacy unsigned transaction\n    if (transaction.length === 6) {\n        return tx;\n    }\n    try {\n        tx.v = bignumber_1.BigNumber.from(transaction[6]).toNumber();\n    }\n    catch (error) {\n        // @TODO: What makes snese to do? The v is too big\n        return tx;\n    }\n    tx.r = (0, bytes_1.hexZeroPad)(transaction[7], 32);\n    tx.s = (0, bytes_1.hexZeroPad)(transaction[8], 32);\n    if (bignumber_1.BigNumber.from(tx.r).isZero() && bignumber_1.BigNumber.from(tx.s).isZero()) {\n        // EIP-155 unsigned transaction\n        tx.chainId = tx.v;\n        tx.v = 0;\n    }\n    else {\n        // Signed Transaction\n        tx.chainId = Math.floor((tx.v - 35) / 2);\n        if (tx.chainId < 0) {\n            tx.chainId = 0;\n        }\n        var recoveryParam = tx.v - 27;\n        var raw = transaction.slice(0, 6);\n        if (tx.chainId !== 0) {\n            raw.push((0, bytes_1.hexlify)(tx.chainId));\n            raw.push(\"0x\");\n            raw.push(\"0x\");\n            recoveryParam -= tx.chainId * 2 + 8;\n        }\n        var digest = (0, keccak256_1.keccak256)(RLP.encode(raw));\n        try {\n            tx.from = recoverAddress(digest, { r: (0, bytes_1.hexlify)(tx.r), s: (0, bytes_1.hexlify)(tx.s), recoveryParam: recoveryParam });\n        }\n        catch (error) { }\n        tx.hash = (0, keccak256_1.keccak256)(rawTransaction);\n    }\n    tx.type = null;\n    return tx;\n}\nfunction parse(rawTransaction) {\n    var payload = (0, bytes_1.arrayify)(rawTransaction);\n    // Legacy and EIP-155 Transactions\n    if (payload[0] > 0x7f) {\n        return _parse(payload);\n    }\n    // Typed Transaction (EIP-2718)\n    switch (payload[0]) {\n        case 1:\n            return _parseEip2930(payload);\n        case 2:\n            return _parseEip1559(payload);\n        default:\n            break;\n    }\n    return logger.throwError(\"unsupported transaction type: \" + payload[0], logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n        operation: \"parseTransaction\",\n        transactionType: payload[0]\n    });\n}\nexports.parse = parse;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.version = void 0;\nexports.version = \"units/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseEther = exports.formatEther = exports.parseUnits = exports.formatUnits = exports.commify = void 0;\nvar bignumber_1 = require(\"@ethersproject/bignumber\");\nvar logger_1 = require(\"@ethersproject/logger\");\nvar _version_1 = require(\"./_version\");\nvar logger = new logger_1.Logger(_version_1.version);\nvar names = [\n    \"wei\",\n    \"kwei\",\n    \"mwei\",\n    \"gwei\",\n    \"szabo\",\n    \"finney\",\n    \"ether\",\n];\n// Some environments have issues with RegEx that contain back-tracking, so we cannot\n// use them.\nfunction commify(value) {\n    var comps = String(value).split(\".\");\n    if (comps.length > 2 || !comps[0].match(/^-?[0-9]*$/) || (comps[1] && !comps[1].match(/^[0-9]*$/)) || value === \".\" || value === \"-.\") {\n        logger.throwArgumentError(\"invalid value\", \"value\", value);\n    }\n    // Make sure we have at least one whole digit (0 if none)\n    var whole = comps[0];\n    var negative = \"\";\n    if (whole.substring(0, 1) === \"-\") {\n        negative = \"-\";\n        whole = whole.substring(1);\n    }\n    // Make sure we have at least 1 whole digit with no leading zeros\n    while (whole.substring(0, 1) === \"0\") {\n        whole = whole.substring(1);\n    }\n    if (whole === \"\") {\n        whole = \"0\";\n    }\n    var suffix = \"\";\n    if (comps.length === 2) {\n        suffix = \".\" + (comps[1] || \"0\");\n    }\n    while (suffix.length > 2 && suffix[suffix.length - 1] === \"0\") {\n        suffix = suffix.substring(0, suffix.length - 1);\n    }\n    var formatted = [];\n    while (whole.length) {\n        if (whole.length <= 3) {\n            formatted.unshift(whole);\n            break;\n        }\n        else {\n            var index = whole.length - 3;\n            formatted.unshift(whole.substring(index));\n            whole = whole.substring(0, index);\n        }\n    }\n    return negative + formatted.join(\",\") + suffix;\n}\nexports.commify = commify;\nfunction formatUnits(value, unitName) {\n    if (typeof (unitName) === \"string\") {\n        var index = names.indexOf(unitName);\n        if (index !== -1) {\n            unitName = 3 * index;\n        }\n    }\n    return (0, bignumber_1.formatFixed)(value, (unitName != null) ? unitName : 18);\n}\nexports.formatUnits = formatUnits;\nfunction parseUnits(value, unitName) {\n    if (typeof (value) !== \"string\") {\n        logger.throwArgumentError(\"value must be a string\", \"value\", value);\n    }\n    if (typeof (unitName) === \"string\") {\n        var index = names.indexOf(unitName);\n        if (index !== -1) {\n            unitName = 3 * index;\n        }\n    }\n    return (0, bignumber_1.parseFixed)(value, (unitName != null) ? unitName : 18);\n}\nexports.parseUnits = parseUnits;\nfunction formatEther(wei) {\n    return formatUnits(wei, 18);\n}\nexports.formatEther = formatEther;\nfunction parseEther(ether) {\n    return parseUnits(ether, 18);\n}\nexports.parseEther = parseEther;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.version = void 0;\nexports.version = \"wallet/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.verifyTypedData = exports.verifyMessage = exports.Wallet = void 0;\nvar address_1 = require(\"@ethersproject/address\");\nvar abstract_provider_1 = require(\"@ethersproject/abstract-provider\");\nvar abstract_signer_1 = require(\"@ethersproject/abstract-signer\");\nvar bytes_1 = require(\"@ethersproject/bytes\");\nvar hash_1 = require(\"@ethersproject/hash\");\nvar hdnode_1 = require(\"@ethersproject/hdnode\");\nvar keccak256_1 = require(\"@ethersproject/keccak256\");\nvar properties_1 = require(\"@ethersproject/properties\");\nvar random_1 = require(\"@ethersproject/random\");\nvar signing_key_1 = require(\"@ethersproject/signing-key\");\nvar json_wallets_1 = require(\"@ethersproject/json-wallets\");\nvar transactions_1 = require(\"@ethersproject/transactions\");\nvar logger_1 = require(\"@ethersproject/logger\");\nvar _version_1 = require(\"./_version\");\nvar logger = new logger_1.Logger(_version_1.version);\nfunction isAccount(value) {\n    return (value != null && (0, bytes_1.isHexString)(value.privateKey, 32) && value.address != null);\n}\nfunction hasMnemonic(value) {\n    var mnemonic = value.mnemonic;\n    return (mnemonic && mnemonic.phrase);\n}\nvar Wallet = /** @class */ (function (_super) {\n    __extends(Wallet, _super);\n    function Wallet(privateKey, provider) {\n        var _this = _super.call(this) || this;\n        if (isAccount(privateKey)) {\n            var signingKey_1 = new signing_key_1.SigningKey(privateKey.privateKey);\n            (0, properties_1.defineReadOnly)(_this, \"_signingKey\", function () { return signingKey_1; });\n            (0, properties_1.defineReadOnly)(_this, \"address\", (0, transactions_1.computeAddress)(_this.publicKey));\n            if (_this.address !== (0, address_1.getAddress)(privateKey.address)) {\n                logger.throwArgumentError(\"privateKey/address mismatch\", \"privateKey\", \"[REDACTED]\");\n            }\n            if (hasMnemonic(privateKey)) {\n                var srcMnemonic_1 = privateKey.mnemonic;\n                (0, properties_1.defineReadOnly)(_this, \"_mnemonic\", function () { return ({\n                    phrase: srcMnemonic_1.phrase,\n                    path: srcMnemonic_1.path || hdnode_1.defaultPath,\n                    locale: srcMnemonic_1.locale || \"en\"\n                }); });\n                var mnemonic = _this.mnemonic;\n                var node = hdnode_1.HDNode.fromMnemonic(mnemonic.phrase, null, mnemonic.locale).derivePath(mnemonic.path);\n                if ((0, transactions_1.computeAddress)(node.privateKey) !== _this.address) {\n                    logger.throwArgumentError(\"mnemonic/address mismatch\", \"privateKey\", \"[REDACTED]\");\n                }\n            }\n            else {\n                (0, properties_1.defineReadOnly)(_this, \"_mnemonic\", function () { return null; });\n            }\n        }\n        else {\n            if (signing_key_1.SigningKey.isSigningKey(privateKey)) {\n                /* istanbul ignore if */\n                if (privateKey.curve !== \"secp256k1\") {\n                    logger.throwArgumentError(\"unsupported curve; must be secp256k1\", \"privateKey\", \"[REDACTED]\");\n                }\n                (0, properties_1.defineReadOnly)(_this, \"_signingKey\", function () { return privateKey; });\n            }\n            else {\n                // A lot of common tools do not prefix private keys with a 0x (see: #1166)\n                if (typeof (privateKey) === \"string\") {\n                    if (privateKey.match(/^[0-9a-f]*$/i) && privateKey.length === 64) {\n                        privateKey = \"0x\" + privateKey;\n                    }\n                }\n                var signingKey_2 = new signing_key_1.SigningKey(privateKey);\n                (0, properties_1.defineReadOnly)(_this, \"_signingKey\", function () { return signingKey_2; });\n            }\n            (0, properties_1.defineReadOnly)(_this, \"_mnemonic\", function () { return null; });\n            (0, properties_1.defineReadOnly)(_this, \"address\", (0, transactions_1.computeAddress)(_this.publicKey));\n        }\n        /* istanbul ignore if */\n        if (provider && !abstract_provider_1.Provider.isProvider(provider)) {\n            logger.throwArgumentError(\"invalid provider\", \"provider\", provider);\n        }\n        (0, properties_1.defineReadOnly)(_this, \"provider\", provider || null);\n        return _this;\n    }\n    Object.defineProperty(Wallet.prototype, \"mnemonic\", {\n        get: function () { return this._mnemonic(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Wallet.prototype, \"privateKey\", {\n        get: function () { return this._signingKey().privateKey; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Wallet.prototype, \"publicKey\", {\n        get: function () { return this._signingKey().publicKey; },\n        enumerable: false,\n        configurable: true\n    });\n    Wallet.prototype.getAddress = function () {\n        return Promise.resolve(this.address);\n    };\n    Wallet.prototype.connect = function (provider) {\n        return new Wallet(this, provider);\n    };\n    Wallet.prototype.signTransaction = function (transaction) {\n        var _this = this;\n        return (0, properties_1.resolveProperties)(transaction).then(function (tx) {\n            if (tx.from != null) {\n                if ((0, address_1.getAddress)(tx.from) !== _this.address) {\n                    logger.throwArgumentError(\"transaction from address mismatch\", \"transaction.from\", transaction.from);\n                }\n                delete tx.from;\n            }\n            var signature = _this._signingKey().signDigest((0, keccak256_1.keccak256)((0, transactions_1.serialize)(tx)));\n            return (0, transactions_1.serialize)(tx, signature);\n        });\n    };\n    Wallet.prototype.signMessage = function (message) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, (0, bytes_1.joinSignature)(this._signingKey().signDigest((0, hash_1.hashMessage)(message)))];\n            });\n        });\n    };\n    Wallet.prototype._signTypedData = function (domain, types, value) {\n        return __awaiter(this, void 0, void 0, function () {\n            var populated;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, hash_1._TypedDataEncoder.resolveNames(domain, types, value, function (name) {\n                            if (_this.provider == null) {\n                                logger.throwError(\"cannot resolve ENS names without a provider\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n                                    operation: \"resolveName\",\n                                    value: name\n                                });\n                            }\n                            return _this.provider.resolveName(name);\n                        })];\n                    case 1:\n                        populated = _a.sent();\n                        return [2 /*return*/, (0, bytes_1.joinSignature)(this._signingKey().signDigest(hash_1._TypedDataEncoder.hash(populated.domain, types, populated.value)))];\n                }\n            });\n        });\n    };\n    Wallet.prototype.encrypt = function (password, options, progressCallback) {\n        if (typeof (options) === \"function\" && !progressCallback) {\n            progressCallback = options;\n            options = {};\n        }\n        if (progressCallback && typeof (progressCallback) !== \"function\") {\n            throw new Error(\"invalid callback\");\n        }\n        if (!options) {\n            options = {};\n        }\n        return (0, json_wallets_1.encryptKeystore)(this, password, options, progressCallback);\n    };\n    /**\n     *  Static methods to create Wallet instances.\n     */\n    Wallet.createRandom = function (options) {\n        var entropy = (0, random_1.randomBytes)(16);\n        if (!options) {\n            options = {};\n        }\n        if (options.extraEntropy) {\n            entropy = (0, bytes_1.arrayify)((0, bytes_1.hexDataSlice)((0, keccak256_1.keccak256)((0, bytes_1.concat)([entropy, options.extraEntropy])), 0, 16));\n        }\n        var mnemonic = (0, hdnode_1.entropyToMnemonic)(entropy, options.locale);\n        return Wallet.fromMnemonic(mnemonic, options.path, options.locale);\n    };\n    Wallet.fromEncryptedJson = function (json, password, progressCallback) {\n        return (0, json_wallets_1.decryptJsonWallet)(json, password, progressCallback).then(function (account) {\n            return new Wallet(account);\n        });\n    };\n    Wallet.fromEncryptedJsonSync = function (json, password) {\n        return new Wallet((0, json_wallets_1.decryptJsonWalletSync)(json, password));\n    };\n    Wallet.fromMnemonic = function (mnemonic, path, wordlist) {\n        if (!path) {\n            path = hdnode_1.defaultPath;\n        }\n        return new Wallet(hdnode_1.HDNode.fromMnemonic(mnemonic, null, wordlist).derivePath(path));\n    };\n    return Wallet;\n}(abstract_signer_1.Signer));\nexports.Wallet = Wallet;\nfunction verifyMessage(message, signature) {\n    return (0, transactions_1.recoverAddress)((0, hash_1.hashMessage)(message), signature);\n}\nexports.verifyMessage = verifyMessage;\nfunction verifyTypedData(domain, types, value, signature) {\n    return (0, transactions_1.recoverAddress)(hash_1._TypedDataEncoder.hash(domain, types, value), signature);\n}\nexports.verifyTypedData = verifyTypedData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.version = void 0;\nexports.version = \"web/5.7.1\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getUrl = void 0;\nvar bytes_1 = require(\"@ethersproject/bytes\");\nfunction getUrl(href, options) {\n    return __awaiter(this, void 0, void 0, function () {\n        var request, opts, response, body, headers;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (options == null) {\n                        options = {};\n                    }\n                    request = {\n                        method: (options.method || \"GET\"),\n                        headers: (options.headers || {}),\n                        body: (options.body || undefined),\n                    };\n                    if (options.skipFetchSetup !== true) {\n                        request.mode = \"cors\"; // no-cors, cors, *same-origin\n                        request.cache = \"no-cache\"; // *default, no-cache, reload, force-cache, only-if-cached\n                        request.credentials = \"same-origin\"; // include, *same-origin, omit\n                        request.redirect = \"follow\"; // manual, *follow, error\n                        request.referrer = \"client\"; // no-referrer, *client\n                    }\n                    ;\n                    if (options.fetchOptions != null) {\n                        opts = options.fetchOptions;\n                        if (opts.mode) {\n                            request.mode = (opts.mode);\n                        }\n                        if (opts.cache) {\n                            request.cache = (opts.cache);\n                        }\n                        if (opts.credentials) {\n                            request.credentials = (opts.credentials);\n                        }\n                        if (opts.redirect) {\n                            request.redirect = (opts.redirect);\n                        }\n                        if (opts.referrer) {\n                            request.referrer = opts.referrer;\n                        }\n                    }\n                    return [4 /*yield*/, fetch(href, request)];\n                case 1:\n                    response = _a.sent();\n                    return [4 /*yield*/, response.arrayBuffer()];\n                case 2:\n                    body = _a.sent();\n                    headers = {};\n                    if (response.headers.forEach) {\n                        response.headers.forEach(function (value, key) {\n                            headers[key.toLowerCase()] = value;\n                        });\n                    }\n                    else {\n                        ((response.headers).keys)().forEach(function (key) {\n                            headers[key.toLowerCase()] = response.headers.get(key);\n                        });\n                    }\n                    return [2 /*return*/, {\n                            headers: headers,\n                            statusCode: response.status,\n                            statusMessage: response.statusText,\n                            body: (0, bytes_1.arrayify)(new Uint8Array(body)),\n                        }];\n            }\n        });\n    });\n}\nexports.getUrl = getUrl;\n//# sourceMappingURL=browser-geturl.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.poll = exports.fetchJson = exports._fetchData = void 0;\nvar base64_1 = require(\"@ethersproject/base64\");\nvar bytes_1 = require(\"@ethersproject/bytes\");\nvar properties_1 = require(\"@ethersproject/properties\");\nvar strings_1 = require(\"@ethersproject/strings\");\nvar logger_1 = require(\"@ethersproject/logger\");\nvar _version_1 = require(\"./_version\");\nvar logger = new logger_1.Logger(_version_1.version);\nvar geturl_1 = require(\"./geturl\");\nfunction staller(duration) {\n    return new Promise(function (resolve) {\n        setTimeout(resolve, duration);\n    });\n}\nfunction bodyify(value, type) {\n    if (value == null) {\n        return null;\n    }\n    if (typeof (value) === \"string\") {\n        return value;\n    }\n    if ((0, bytes_1.isBytesLike)(value)) {\n        if (type && (type.split(\"/\")[0] === \"text\" || type.split(\";\")[0].trim() === \"application/json\")) {\n            try {\n                return (0, strings_1.toUtf8String)(value);\n            }\n            catch (error) { }\n            ;\n        }\n        return (0, bytes_1.hexlify)(value);\n    }\n    return value;\n}\nfunction unpercent(value) {\n    return (0, strings_1.toUtf8Bytes)(value.replace(/%([0-9a-f][0-9a-f])/gi, function (all, code) {\n        return String.fromCharCode(parseInt(code, 16));\n    }));\n}\n// This API is still a work in progress; the future changes will likely be:\n// - ConnectionInfo => FetchDataRequest<T = any>\n// - FetchDataRequest.body? = string | Uint8Array | { contentType: string, data: string | Uint8Array }\n//   - If string => text/plain, Uint8Array => application/octet-stream (if content-type unspecified)\n// - FetchDataRequest.processFunc = (body: Uint8Array, response: FetchDataResponse) => T\n// For this reason, it should be considered internal until the API is finalized\nfunction _fetchData(connection, body, processFunc) {\n    // How many times to retry in the event of a throttle\n    var attemptLimit = (typeof (connection) === \"object\" && connection.throttleLimit != null) ? connection.throttleLimit : 12;\n    logger.assertArgument((attemptLimit > 0 && (attemptLimit % 1) === 0), \"invalid connection throttle limit\", \"connection.throttleLimit\", attemptLimit);\n    var throttleCallback = ((typeof (connection) === \"object\") ? connection.throttleCallback : null);\n    var throttleSlotInterval = ((typeof (connection) === \"object\" && typeof (connection.throttleSlotInterval) === \"number\") ? connection.throttleSlotInterval : 100);\n    logger.assertArgument((throttleSlotInterval > 0 && (throttleSlotInterval % 1) === 0), \"invalid connection throttle slot interval\", \"connection.throttleSlotInterval\", throttleSlotInterval);\n    var errorPassThrough = ((typeof (connection) === \"object\") ? !!(connection.errorPassThrough) : false);\n    var headers = {};\n    var url = null;\n    // @TODO: Allow ConnectionInfo to override some of these values\n    var options = {\n        method: \"GET\",\n    };\n    var allow304 = false;\n    var timeout = 2 * 60 * 1000;\n    if (typeof (connection) === \"string\") {\n        url = connection;\n    }\n    else if (typeof (connection) === \"object\") {\n        if (connection == null || connection.url == null) {\n            logger.throwArgumentError(\"missing URL\", \"connection.url\", connection);\n        }\n        url = connection.url;\n        if (typeof (connection.timeout) === \"number\" && connection.timeout > 0) {\n            timeout = connection.timeout;\n        }\n        if (connection.headers) {\n            for (var key in connection.headers) {\n                headers[key.toLowerCase()] = { key: key, value: String(connection.headers[key]) };\n                if ([\"if-none-match\", \"if-modified-since\"].indexOf(key.toLowerCase()) >= 0) {\n                    allow304 = true;\n                }\n            }\n        }\n        options.allowGzip = !!connection.allowGzip;\n        if (connection.user != null && connection.password != null) {\n            if (url.substring(0, 6) !== \"https:\" && connection.allowInsecureAuthentication !== true) {\n                logger.throwError(\"basic authentication requires a secure https url\", logger_1.Logger.errors.INVALID_ARGUMENT, { argument: \"url\", url: url, user: connection.user, password: \"[REDACTED]\" });\n            }\n            var authorization = connection.user + \":\" + connection.password;\n            headers[\"authorization\"] = {\n                key: \"Authorization\",\n                value: \"Basic \" + (0, base64_1.encode)((0, strings_1.toUtf8Bytes)(authorization))\n            };\n        }\n        if (connection.skipFetchSetup != null) {\n            options.skipFetchSetup = !!connection.skipFetchSetup;\n        }\n        if (connection.fetchOptions != null) {\n            options.fetchOptions = (0, properties_1.shallowCopy)(connection.fetchOptions);\n        }\n    }\n    var reData = new RegExp(\"^data:([^;:]*)?(;base64)?,(.*)$\", \"i\");\n    var dataMatch = ((url) ? url.match(reData) : null);\n    if (dataMatch) {\n        try {\n            var response = {\n                statusCode: 200,\n                statusMessage: \"OK\",\n                headers: { \"content-type\": (dataMatch[1] || \"text/plain\") },\n                body: (dataMatch[2] ? (0, base64_1.decode)(dataMatch[3]) : unpercent(dataMatch[3]))\n            };\n            var result = response.body;\n            if (processFunc) {\n                result = processFunc(response.body, response);\n            }\n            return Promise.resolve(result);\n        }\n        catch (error) {\n            logger.throwError(\"processing response error\", logger_1.Logger.errors.SERVER_ERROR, {\n                body: bodyify(dataMatch[1], dataMatch[2]),\n                error: error,\n                requestBody: null,\n                requestMethod: \"GET\",\n                url: url\n            });\n        }\n    }\n    if (body) {\n        options.method = \"POST\";\n        options.body = body;\n        if (headers[\"content-type\"] == null) {\n            headers[\"content-type\"] = { key: \"Content-Type\", value: \"application/octet-stream\" };\n        }\n        if (headers[\"content-length\"] == null) {\n            headers[\"content-length\"] = { key: \"Content-Length\", value: String(body.length) };\n        }\n    }\n    var flatHeaders = {};\n    Object.keys(headers).forEach(function (key) {\n        var header = headers[key];\n        flatHeaders[header.key] = header.value;\n    });\n    options.headers = flatHeaders;\n    var runningTimeout = (function () {\n        var timer = null;\n        var promise = new Promise(function (resolve, reject) {\n            if (timeout) {\n                timer = setTimeout(function () {\n                    if (timer == null) {\n                        return;\n                    }\n                    timer = null;\n                    reject(logger.makeError(\"timeout\", logger_1.Logger.errors.TIMEOUT, {\n                        requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                        requestMethod: options.method,\n                        timeout: timeout,\n                        url: url\n                    }));\n                }, timeout);\n            }\n        });\n        var cancel = function () {\n            if (timer == null) {\n                return;\n            }\n            clearTimeout(timer);\n            timer = null;\n        };\n        return { promise: promise, cancel: cancel };\n    })();\n    var runningFetch = (function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var attempt, response, location_1, tryAgain, stall, retryAfter, error_1, body_1, result, error_2, tryAgain, timeout_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        attempt = 0;\n                        _a.label = 1;\n                    case 1:\n                        if (!(attempt < attemptLimit)) return [3 /*break*/, 20];\n                        response = null;\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 9, , 10]);\n                        return [4 /*yield*/, (0, geturl_1.getUrl)(url, options)];\n                    case 3:\n                        response = _a.sent();\n                        if (!(attempt < attemptLimit)) return [3 /*break*/, 8];\n                        if (!(response.statusCode === 301 || response.statusCode === 302)) return [3 /*break*/, 4];\n                        location_1 = response.headers.location || \"\";\n                        if (options.method === \"GET\" && location_1.match(/^https:/)) {\n                            url = response.headers.location;\n                            return [3 /*break*/, 19];\n                        }\n                        return [3 /*break*/, 8];\n                    case 4:\n                        if (!(response.statusCode === 429)) return [3 /*break*/, 8];\n                        tryAgain = true;\n                        if (!throttleCallback) return [3 /*break*/, 6];\n                        return [4 /*yield*/, throttleCallback(attempt, url)];\n                    case 5:\n                        tryAgain = _a.sent();\n                        _a.label = 6;\n                    case 6:\n                        if (!tryAgain) return [3 /*break*/, 8];\n                        stall = 0;\n                        retryAfter = response.headers[\"retry-after\"];\n                        if (typeof (retryAfter) === \"string\" && retryAfter.match(/^[1-9][0-9]*$/)) {\n                            stall = parseInt(retryAfter) * 1000;\n                        }\n                        else {\n                            stall = throttleSlotInterval * parseInt(String(Math.random() * Math.pow(2, attempt)));\n                        }\n                        //console.log(\"Stalling 429\");\n                        return [4 /*yield*/, staller(stall)];\n                    case 7:\n                        //console.log(\"Stalling 429\");\n                        _a.sent();\n                        return [3 /*break*/, 19];\n                    case 8: return [3 /*break*/, 10];\n                    case 9:\n                        error_1 = _a.sent();\n                        response = error_1.response;\n                        if (response == null) {\n                            runningTimeout.cancel();\n                            logger.throwError(\"missing response\", logger_1.Logger.errors.SERVER_ERROR, {\n                                requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                                requestMethod: options.method,\n                                serverError: error_1,\n                                url: url\n                            });\n                        }\n                        return [3 /*break*/, 10];\n                    case 10:\n                        body_1 = response.body;\n                        if (allow304 && response.statusCode === 304) {\n                            body_1 = null;\n                        }\n                        else if (!errorPassThrough && (response.statusCode < 200 || response.statusCode >= 300)) {\n                            runningTimeout.cancel();\n                            logger.throwError(\"bad response\", logger_1.Logger.errors.SERVER_ERROR, {\n                                status: response.statusCode,\n                                headers: response.headers,\n                                body: bodyify(body_1, ((response.headers) ? response.headers[\"content-type\"] : null)),\n                                requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                                requestMethod: options.method,\n                                url: url\n                            });\n                        }\n                        if (!processFunc) return [3 /*break*/, 18];\n                        _a.label = 11;\n                    case 11:\n                        _a.trys.push([11, 13, , 18]);\n                        return [4 /*yield*/, processFunc(body_1, response)];\n                    case 12:\n                        result = _a.sent();\n                        runningTimeout.cancel();\n                        return [2 /*return*/, result];\n                    case 13:\n                        error_2 = _a.sent();\n                        if (!(error_2.throttleRetry && attempt < attemptLimit)) return [3 /*break*/, 17];\n                        tryAgain = true;\n                        if (!throttleCallback) return [3 /*break*/, 15];\n                        return [4 /*yield*/, throttleCallback(attempt, url)];\n                    case 14:\n                        tryAgain = _a.sent();\n                        _a.label = 15;\n                    case 15:\n                        if (!tryAgain) return [3 /*break*/, 17];\n                        timeout_1 = throttleSlotInterval * parseInt(String(Math.random() * Math.pow(2, attempt)));\n                        //console.log(\"Stalling callback\");\n                        return [4 /*yield*/, staller(timeout_1)];\n                    case 16:\n                        //console.log(\"Stalling callback\");\n                        _a.sent();\n                        return [3 /*break*/, 19];\n                    case 17:\n                        runningTimeout.cancel();\n                        logger.throwError(\"processing response error\", logger_1.Logger.errors.SERVER_ERROR, {\n                            body: bodyify(body_1, ((response.headers) ? response.headers[\"content-type\"] : null)),\n                            error: error_2,\n                            requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                            requestMethod: options.method,\n                            url: url\n                        });\n                        return [3 /*break*/, 18];\n                    case 18:\n                        runningTimeout.cancel();\n                        // If we had a processFunc, it either returned a T or threw above.\n                        // The \"body\" is now a Uint8Array.\n                        return [2 /*return*/, body_1];\n                    case 19:\n                        attempt++;\n                        return [3 /*break*/, 1];\n                    case 20: return [2 /*return*/, logger.throwError(\"failed response\", logger_1.Logger.errors.SERVER_ERROR, {\n                            requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                            requestMethod: options.method,\n                            url: url\n                        })];\n                }\n            });\n        });\n    })();\n    return Promise.race([runningTimeout.promise, runningFetch]);\n}\nexports._fetchData = _fetchData;\nfunction fetchJson(connection, json, processFunc) {\n    var processJsonFunc = function (value, response) {\n        var result = null;\n        if (value != null) {\n            try {\n                result = JSON.parse((0, strings_1.toUtf8String)(value));\n            }\n            catch (error) {\n                logger.throwError(\"invalid JSON\", logger_1.Logger.errors.SERVER_ERROR, {\n                    body: value,\n                    error: error\n                });\n            }\n        }\n        if (processFunc) {\n            result = processFunc(result, response);\n        }\n        return result;\n    };\n    // If we have json to send, we must\n    // - add content-type of application/json (unless already overridden)\n    // - convert the json to bytes\n    var body = null;\n    if (json != null) {\n        body = (0, strings_1.toUtf8Bytes)(json);\n        // Create a connection with the content-type set for JSON\n        var updated = (typeof (connection) === \"string\") ? ({ url: connection }) : (0, properties_1.shallowCopy)(connection);\n        if (updated.headers) {\n            var hasContentType = (Object.keys(updated.headers).filter(function (k) { return (k.toLowerCase() === \"content-type\"); }).length) !== 0;\n            if (!hasContentType) {\n                updated.headers = (0, properties_1.shallowCopy)(updated.headers);\n                updated.headers[\"content-type\"] = \"application/json\";\n            }\n        }\n        else {\n            updated.headers = { \"content-type\": \"application/json\" };\n        }\n        connection = updated;\n    }\n    return _fetchData(connection, body, processJsonFunc);\n}\nexports.fetchJson = fetchJson;\nfunction poll(func, options) {\n    if (!options) {\n        options = {};\n    }\n    options = (0, properties_1.shallowCopy)(options);\n    if (options.floor == null) {\n        options.floor = 0;\n    }\n    if (options.ceiling == null) {\n        options.ceiling = 10000;\n    }\n    if (options.interval == null) {\n        options.interval = 250;\n    }\n    return new Promise(function (resolve, reject) {\n        var timer = null;\n        var done = false;\n        // Returns true if cancel was successful. Unsuccessful cancel means we're already done.\n        var cancel = function () {\n            if (done) {\n                return false;\n            }\n            done = true;\n            if (timer) {\n                clearTimeout(timer);\n            }\n            return true;\n        };\n        if (options.timeout) {\n            timer = setTimeout(function () {\n                if (cancel()) {\n                    reject(new Error(\"timeout\"));\n                }\n            }, options.timeout);\n        }\n        var retryLimit = options.retryLimit;\n        var attempt = 0;\n        function check() {\n            return func().then(function (result) {\n                // If we have a result, or are allowed null then we're done\n                if (result !== undefined) {\n                    if (cancel()) {\n                        resolve(result);\n                    }\n                }\n                else if (options.oncePoll) {\n                    options.oncePoll.once(\"poll\", check);\n                }\n                else if (options.onceBlock) {\n                    options.onceBlock.once(\"block\", check);\n                    // Otherwise, exponential back-off (up to 10s) our next request\n                }\n                else if (!done) {\n                    attempt++;\n                    if (attempt > retryLimit) {\n                        if (cancel()) {\n                            reject(new Error(\"retry limit reached\"));\n                        }\n                        return;\n                    }\n                    var timeout = options.interval * parseInt(String(Math.random() * Math.pow(2, attempt)));\n                    if (timeout < options.floor) {\n                        timeout = options.floor;\n                    }\n                    if (timeout > options.ceiling) {\n                        timeout = options.ceiling;\n                    }\n                    setTimeout(check, timeout);\n                }\n                return null;\n            }, function (error) {\n                if (cancel()) {\n                    reject(error);\n                }\n            });\n        }\n        check();\n    });\n}\nexports.poll = poll;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.version = void 0;\nexports.version = \"wordlists/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.wordlists = exports.Wordlist = exports.logger = void 0;\n// Wordlists\n// See: https://github.com/bitcoin/bips/blob/master/bip-0039/bip-0039-wordlists.md\nvar wordlist_1 = require(\"./wordlist\");\nObject.defineProperty(exports, \"logger\", { enumerable: true, get: function () { return wordlist_1.logger; } });\nObject.defineProperty(exports, \"Wordlist\", { enumerable: true, get: function () { return wordlist_1.Wordlist; } });\nvar wordlists_1 = require(\"./wordlists\");\nObject.defineProperty(exports, \"wordlists\", { enumerable: true, get: function () { return wordlists_1.wordlists; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.langCz = void 0;\nvar wordlist_1 = require(\"./wordlist\");\nvar words = \"AbdikaceAbecedaAdresaAgreseAkceAktovkaAlejAlkoholAmputaceAnanasAndulkaAnekdotaAnketaAntikaAnulovatArchaAroganceAsfaltAsistentAspiraceAstmaAstronomAtlasAtletikaAtolAutobusAzylBabkaBachorBacilBaculkaBadatelBagetaBagrBahnoBakterieBaladaBaletkaBalkonBalonekBalvanBalzaBambusBankomatBarbarBaretBarmanBarokoBarvaBaterkaBatohBavlnaBazalkaBazilikaBazukaBednaBeranBesedaBestieBetonBezinkaBezmocBeztakBicyklBidloBiftekBikinyBilanceBiografBiologBitvaBizonBlahobytBlatouchBlechaBleduleBleskBlikatBliznaBlokovatBlouditBludBobekBobrBodlinaBodnoutBohatostBojkotBojovatBokorysBolestBorecBoroviceBotaBoubelBouchatBoudaBouleBouratBoxerBradavkaBramboraBrankaBratrBreptaBriketaBrkoBrlohBronzBroskevBrunetkaBrusinkaBrzdaBrzyBublinaBubnovatBuchtaBuditelBudkaBudovaBufetBujarostBukviceBuldokBulvaBundaBunkrBurzaButikBuvolBuzolaBydletBylinaBytovkaBzukotCapartCarevnaCedrCeduleCejchCejnCelaCelerCelkemCelniceCeninaCennostCenovkaCentrumCenzorCestopisCetkaChalupaChapadloCharitaChataChechtatChemieChichotChirurgChladChlebaChlubitChmelChmuraChobotChocholChodbaCholeraChomoutChopitChorobaChovChrapotChrlitChrtChrupChtivostChudinaChutnatChvatChvilkaChvostChybaChystatChytitCibuleCigaretaCihelnaCihlaCinkotCirkusCisternaCitaceCitrusCizinecCizostClonaCokolivCouvatCtitelCtnostCudnostCuketaCukrCupotCvaknoutCvalCvikCvrkotCyklistaDalekoDarebaDatelDatumDceraDebataDechovkaDecibelDeficitDeflaceDeklDekretDemokratDepreseDerbyDeskaDetektivDikobrazDiktovatDiodaDiplomDiskDisplejDivadloDivochDlahaDlouhoDluhopisDnesDobroDobytekDocentDochutitDodnesDohledDohodaDohraDojemDojniceDokladDokolaDoktorDokumentDolarDolevaDolinaDomaDominantDomluvitDomovDonutitDopadDopisDoplnitDoposudDoprovodDopustitDorazitDorostDortDosahDoslovDostatekDosudDosytaDotazDotekDotknoutDoufatDoutnatDovozceDozaduDoznatDozorceDrahotaDrakDramatikDravecDrazeDrdolDrobnostDrogerieDrozdDrsnostDrtitDrzostDubenDuchovnoDudekDuhaDuhovkaDusitDusnoDutostDvojiceDvorecDynamitEkologEkonomieElektronElipsaEmailEmiseEmoceEmpatieEpizodaEpochaEpopejEposEsejEsenceEskortaEskymoEtiketaEuforieEvoluceExekuceExkurzeExpediceExplozeExportExtraktFackaFajfkaFakultaFanatikFantazieFarmacieFavoritFazoleFederaceFejetonFenkaFialkaFigurantFilozofFiltrFinanceFintaFixaceFjordFlanelFlirtFlotilaFondFosforFotbalFotkaFotonFrakceFreskaFrontaFukarFunkceFyzikaGalejeGarantGenetikaGeologGilotinaGlazuraGlejtGolemGolfistaGotikaGrafGramofonGranuleGrepGrilGrogGroteskaGumaHadiceHadrHalaHalenkaHanbaHanopisHarfaHarpunaHavranHebkostHejkalHejnoHejtmanHektarHelmaHematomHerecHernaHesloHezkyHistorikHladovkaHlasivkyHlavaHledatHlenHlodavecHlohHloupostHltatHlubinaHluchotaHmatHmotaHmyzHnisHnojivoHnoutHoblinaHobojHochHodinyHodlatHodnotaHodovatHojnostHokejHolinkaHolkaHolubHomoleHonitbaHonoraceHoralHordaHorizontHorkoHorlivecHormonHorninaHoroskopHorstvoHospodaHostinaHotovostHoubaHoufHoupatHouskaHovorHradbaHraniceHravostHrazdaHrbolekHrdinaHrdloHrdostHrnekHrobkaHromadaHrotHroudaHrozenHrstkaHrubostHryzatHubenostHubnoutHudbaHukotHumrHusitaHustotaHvozdHybnostHydrantHygienaHymnaHysterikIdylkaIhnedIkonaIluzeImunitaInfekceInflaceInkasoInovaceInspekceInternetInvalidaInvestorInzerceIronieJablkoJachtaJahodaJakmileJakostJalovecJantarJarmarkJaroJasanJasnoJatkaJavorJazykJedinecJedleJednatelJehlanJekotJelenJelitoJemnostJenomJepiceJeseterJevitJezdecJezeroJinakJindyJinochJiskraJistotaJitrniceJizvaJmenovatJogurtJurtaKabaretKabelKabinetKachnaKadetKadidloKahanKajakKajutaKakaoKaktusKalamitaKalhotyKalibrKalnostKameraKamkolivKamnaKanibalKanoeKantorKapalinaKapelaKapitolaKapkaKapleKapotaKaprKapustaKapybaraKaramelKarotkaKartonKasaKatalogKatedraKauceKauzaKavalecKazajkaKazetaKazivostKdekolivKdesiKedlubenKempKeramikaKinoKlacekKladivoKlamKlapotKlasikaKlaunKlecKlenbaKlepatKlesnoutKlidKlimaKlisnaKloboukKlokanKlopaKloubKlubovnaKlusatKluzkostKmenKmitatKmotrKnihaKnotKoaliceKoberecKobkaKoblihaKobylaKocourKohoutKojenecKokosKoktejlKolapsKoledaKolizeKoloKomandoKometaKomikKomnataKomoraKompasKomunitaKonatKonceptKondiceKonecKonfeseKongresKoninaKonkursKontaktKonzervaKopanecKopieKopnoutKoprovkaKorbelKorektorKormidloKoroptevKorpusKorunaKorytoKorzetKosatecKostkaKotelKotletaKotoulKoukatKoupelnaKousekKouzloKovbojKozaKozorohKrabiceKrachKrajinaKralovatKrasopisKravataKreditKrejcarKresbaKrevetaKriketKritikKrizeKrkavecKrmelecKrmivoKrocanKrokKronikaKropitKroupaKrovkaKrtekKruhadloKrupiceKrutostKrvinkaKrychleKryptaKrystalKrytKudlankaKufrKujnostKuklaKulajdaKulichKulkaKulometKulturaKunaKupodivuKurtKurzorKutilKvalitaKvasinkaKvestorKynologKyselinaKytaraKyticeKytkaKytovecKyvadloLabradorLachtanLadnostLaikLakomecLamelaLampaLanovkaLasiceLasoLasturaLatinkaLavinaLebkaLeckdyLedenLedniceLedovkaLedvinaLegendaLegieLegraceLehceLehkostLehnoutLektvarLenochodLentilkaLepenkaLepidloLetadloLetecLetmoLetokruhLevhartLevitaceLevobokLibraLichotkaLidojedLidskostLihovinaLijavecLilekLimetkaLinieLinkaLinoleumListopadLitinaLitovatLobistaLodivodLogikaLogopedLokalitaLoketLomcovatLopataLopuchLordLososLotrLoudalLouhLoukaLouskatLovecLstivostLucernaLuciferLumpLuskLustraceLviceLyraLyrikaLysinaMadamMadloMagistrMahagonMajetekMajitelMajoritaMakakMakoviceMakrelaMalbaMalinaMalovatMalviceMaminkaMandleMankoMarnostMasakrMaskotMasopustMaticeMatrikaMaturitaMazanecMazivoMazlitMazurkaMdlobaMechanikMeditaceMedovinaMelasaMelounMentolkaMetlaMetodaMetrMezeraMigraceMihnoutMihuleMikinaMikrofonMilenecMilimetrMilostMimikaMincovnaMinibarMinometMinulostMiskaMistrMixovatMladostMlhaMlhovinaMlokMlsatMluvitMnichMnohemMobilMocnostModelkaModlitbaMohylaMokroMolekulaMomentkaMonarchaMonoklMonstrumMontovatMonzunMosazMoskytMostMotivaceMotorkaMotykaMouchaMoudrostMozaikaMozekMozolMramorMravenecMrkevMrtvolaMrzetMrzutostMstitelMudrcMuflonMulatMumieMuniceMusetMutaceMuzeumMuzikantMyslivecMzdaNabouratNachytatNadaceNadbytekNadhozNadobroNadpisNahlasNahnatNahodileNahraditNaivitaNajednouNajistoNajmoutNaklonitNakonecNakrmitNalevoNamazatNamluvitNanometrNaokoNaopakNaostroNapadatNapevnoNaplnitNapnoutNaposledNaprostoNaroditNarubyNarychloNasaditNasekatNaslepoNastatNatolikNavenekNavrchNavzdoryNazvatNebeNechatNeckyNedalekoNedbatNeduhNegaceNehetNehodaNejenNejprveNeklidNelibostNemilostNemocNeochotaNeonkaNepokojNerostNervNesmyslNesouladNetvorNeuronNevinaNezvykleNicotaNijakNikamNikdyNiklNikterakNitroNoclehNohaviceNominaceNoraNorekNositelNosnostNouzeNovinyNovotaNozdraNudaNudleNugetNutitNutnostNutrieNymfaObalObarvitObavaObdivObecObehnatObejmoutObezitaObhajobaObilniceObjasnitObjektObklopitOblastOblekOblibaOblohaObludaObnosObohatitObojekOboutObrazecObrnaObrubaObrysObsahObsluhaObstaratObuvObvazObvinitObvodObvykleObyvatelObzorOcasOcelOcenitOchladitOchotaOchranaOcitnoutOdbojOdbytOdchodOdcizitOdebratOdeslatOdevzdatOdezvaOdhadceOdhoditOdjetOdjinudOdkazOdkoupitOdlivOdlukaOdmlkaOdolnostOdpadOdpisOdploutOdporOdpustitOdpykatOdrazkaOdsouditOdstupOdsunOdtokOdtudOdvahaOdvetaOdvolatOdvracetOdznakOfinaOfsajdOhlasOhniskoOhradaOhrozitOhryzekOkapOkeniceOklikaOknoOkouzlitOkovyOkrasaOkresOkrsekOkruhOkupantOkurkaOkusitOlejninaOlizovatOmakOmeletaOmezitOmladinaOmlouvatOmluvaOmylOnehdyOpakovatOpasekOperaceOpiceOpilostOpisovatOporaOpoziceOpravduOprotiOrbitalOrchestrOrgieOrliceOrlojOrtelOsadaOschnoutOsikaOsivoOslavaOslepitOslnitOslovitOsnovaOsobaOsolitOspalecOstenOstrahaOstudaOstychOsvojitOteplitOtiskOtopOtrhatOtrlostOtrokOtrubyOtvorOvanoutOvarOvesOvlivnitOvoceOxidOzdobaPachatelPacientPadouchPahorekPaktPalandaPalecPalivoPalubaPamfletPamlsekPanenkaPanikaPannaPanovatPanstvoPantoflePaprikaParketaParodiePartaParukaParybaPasekaPasivitaPastelkaPatentPatronaPavoukPaznehtPazourekPeckaPedagogPejsekPekloPelotonPenaltaPendrekPenzePeriskopPeroPestrostPetardaPeticePetrolejPevninaPexesoPianistaPihaPijavicePiklePiknikPilinaPilnostPilulkaPinzetaPipetaPisatelPistolePitevnaPivnicePivovarPlacentaPlakatPlamenPlanetaPlastikaPlatitPlavidloPlazPlechPlemenoPlentaPlesPletivoPlevelPlivatPlnitPlnoPlochaPlodinaPlombaPloutPlukPlynPobavitPobytPochodPocitPoctivecPodatPodcenitPodepsatPodhledPodivitPodkladPodmanitPodnikPodobaPodporaPodrazPodstataPodvodPodzimPoeziePohankaPohnutkaPohovorPohromaPohybPointaPojistkaPojmoutPokazitPoklesPokojPokrokPokutaPokynPolednePolibekPolknoutPolohaPolynomPomaluPominoutPomlkaPomocPomstaPomysletPonechatPonorkaPonurostPopadatPopelPopisekPoplachPoprositPopsatPopudPoradcePorcePorodPoruchaPoryvPosaditPosedPosilaPoskokPoslanecPosouditPospoluPostavaPosudekPosypPotahPotkanPotleskPotomekPotravaPotupaPotvoraPoukazPoutoPouzdroPovahaPovidlaPovlakPovozPovrchPovstatPovykPovzdechPozdravPozemekPoznatekPozorPozvatPracovatPrahoryPraktikaPralesPraotecPraporekPrasePravdaPrincipPrknoProbuditProcentoProdejProfeseProhraProjektProlomitPromilePronikatPropadProrokProsbaProtonProutekProvazPrskavkaPrstenPrudkostPrutPrvekPrvohoryPsanecPsovodPstruhPtactvoPubertaPuchPudlPukavecPuklinaPukrlePultPumpaPuncPupenPusaPusinkaPustinaPutovatPutykaPyramidaPyskPytelRacekRachotRadiaceRadniceRadonRaftRagbyRaketaRakovinaRamenoRampouchRandeRarachRaritaRasovnaRastrRatolestRazanceRazidloReagovatReakceReceptRedaktorReferentReflexRejnokReklamaRekordRekrutRektorReputaceRevizeRevmaRevolverRezervaRiskovatRizikoRobotikaRodokmenRohovkaRokleRokokoRomanetoRopovodRopuchaRorejsRosolRostlinaRotmistrRotopedRotundaRoubenkaRouchoRoupRouraRovinaRovniceRozborRozchodRozdatRozeznatRozhodceRozinkaRozjezdRozkazRozlohaRozmarRozpadRozruchRozsahRoztokRozumRozvodRubrikaRuchadloRukaviceRukopisRybaRybolovRychlostRydloRypadloRytinaRyzostSadistaSahatSakoSamecSamizdatSamotaSanitkaSardinkaSasankaSatelitSazbaSazeniceSborSchovatSebrankaSeceseSedadloSedimentSedloSehnatSejmoutSekeraSektaSekundaSekvojeSemenoSenoServisSesaditSeshoraSeskokSeslatSestraSesuvSesypatSetbaSetinaSetkatSetnoutSetrvatSeverSeznamShodaShrnoutSifonSilniceSirkaSirotekSirupSituaceSkafandrSkaliskoSkanzenSkautSkeptikSkicaSkladbaSkleniceSkloSkluzSkobaSkokanSkoroSkriptaSkrzSkupinaSkvostSkvrnaSlabikaSladidloSlaninaSlastSlavnostSledovatSlepecSlevaSlezinaSlibSlinaSlizniceSlonSloupekSlovoSluchSluhaSlunceSlupkaSlzaSmaragdSmetanaSmilstvoSmlouvaSmogSmradSmrkSmrtkaSmutekSmyslSnadSnahaSnobSobotaSochaSodovkaSokolSopkaSotvaSoubojSoucitSoudceSouhlasSouladSoumrakSoupravaSousedSoutokSouvisetSpalovnaSpasitelSpisSplavSpodekSpojenecSpoluSponzorSpornostSpoustaSprchaSpustitSrandaSrazSrdceSrnaSrnecSrovnatSrpenSrstSrubStaniceStarostaStatikaStavbaStehnoStezkaStodolaStolekStopaStornoStoupatStrachStresStrhnoutStromStrunaStudnaStupniceStvolStykSubjektSubtropySucharSudostSuknoSundatSunoutSurikataSurovinaSvahSvalstvoSvetrSvatbaSvazekSvisleSvitekSvobodaSvodidloSvorkaSvrabSykavkaSykotSynekSynovecSypatSypkostSyrovostSyselSytostTabletkaTabuleTahounTajemnoTajfunTajgaTajitTajnostTaktikaTamhleTamponTancovatTanecTankerTapetaTaveninaTazatelTechnikaTehdyTekutinaTelefonTemnotaTendenceTenistaTenorTeplotaTepnaTeprveTerapieTermoskaTextilTichoTiskopisTitulekTkadlecTkaninaTlapkaTleskatTlukotTlupaTmelToaletaTopinkaTopolTorzoTouhaToulecTradiceTraktorTrampTrasaTraverzaTrefitTrestTrezorTrhavinaTrhlinaTrochuTrojiceTroskaTroubaTrpceTrpitelTrpkostTrubecTruchlitTruhliceTrusTrvatTudyTuhnoutTuhostTundraTuristaTurnajTuzemskoTvarohTvorbaTvrdostTvrzTygrTykevUbohostUbozeUbratUbrousekUbrusUbytovnaUchoUctivostUdivitUhraditUjednatUjistitUjmoutUkazatelUklidnitUklonitUkotvitUkrojitUliceUlitaUlovitUmyvadloUnavitUniformaUniknoutUpadnoutUplatnitUplynoutUpoutatUpravitUranUrazitUsednoutUsilovatUsmrtitUsnadnitUsnoutUsouditUstlatUstrnoutUtahovatUtkatUtlumitUtonoutUtopenecUtrousitUvalitUvolnitUvozovkaUzdravitUzelUzeninaUzlinaUznatVagonValchaValounVanaVandalVanilkaVaranVarhanyVarovatVcelkuVchodVdovaVedroVegetaceVejceVelbloudVeletrhVelitelVelmocVelrybaVenkovVerandaVerzeVeselkaVeskrzeVesniceVespoduVestaVeterinaVeverkaVibraceVichrVideohraVidinaVidleVilaViniceVisetVitalitaVizeVizitkaVjezdVkladVkusVlajkaVlakVlasecVlevoVlhkostVlivVlnovkaVloupatVnucovatVnukVodaVodivostVodoznakVodstvoVojenskyVojnaVojskoVolantVolbaVolitVolnoVoskovkaVozidloVozovnaVpravoVrabecVracetVrahVrataVrbaVrcholekVrhatVrstvaVrtuleVsaditVstoupitVstupVtipVybavitVybratVychovatVydatVydraVyfotitVyhledatVyhnoutVyhoditVyhraditVyhubitVyjasnitVyjetVyjmoutVyklopitVykonatVylekatVymazatVymezitVymizetVymysletVynechatVynikatVynutitVypadatVyplatitVypravitVypustitVyrazitVyrovnatVyrvatVyslovitVysokoVystavitVysunoutVysypatVytasitVytesatVytratitVyvinoutVyvolatVyvrhelVyzdobitVyznatVzaduVzbuditVzchopitVzdorVzduchVzdychatVzestupVzhledemVzkazVzlykatVznikVzorekVzpouraVztahVztekXylofonZabratZabydletZachovatZadarmoZadusitZafoukatZahltitZahoditZahradaZahynoutZajatecZajetZajistitZaklepatZakoupitZalepitZamezitZamotatZamysletZanechatZanikatZaplatitZapojitZapsatZarazitZastavitZasunoutZatajitZatemnitZatknoutZaujmoutZavalitZaveletZavinitZavolatZavrtatZazvonitZbavitZbrusuZbudovatZbytekZdalekaZdarmaZdatnostZdivoZdobitZdrojZdvihZdymadloZeleninaZemanZeminaZeptatZezaduZezdolaZhatitZhltnoutZhlubokaZhotovitZhrubaZimaZimniceZjemnitZklamatZkoumatZkratkaZkumavkaZlatoZlehkaZlobaZlomZlostZlozvykZmapovatZmarZmatekZmijeZmizetZmocnitZmodratZmrzlinaZmutovatZnakZnalostZnamenatZnovuZobrazitZotavitZoubekZoufaleZploditZpomalitZpravaZprostitZprudkaZprvuZradaZranitZrcadloZrnitostZrnoZrovnaZrychlitZrzavostZtichaZtratitZubovinaZubrZvednoutZvenkuZveselaZvonZvratZvukovodZvyk\";\nvar wordlist = null;\nfunction loadWords(lang) {\n    if (wordlist != null) {\n        return;\n    }\n    wordlist = words.replace(/([A-Z])/g, \" $1\").toLowerCase().substring(1).split(\" \");\n    // Verify the computed list matches the official list\n    /* istanbul ignore if */\n    if (wordlist_1.Wordlist.check(lang) !== \"0x25f44555f4af25b51a711136e1c7d6e50ce9f8917d39d6b1f076b2bb4d2fac1a\") {\n        wordlist = null;\n        throw new Error(\"BIP39 Wordlist for en (English) FAILED\");\n    }\n}\nvar LangCz = /** @class */ (function (_super) {\n    __extends(LangCz, _super);\n    function LangCz() {\n        return _super.call(this, \"cz\") || this;\n    }\n    LangCz.prototype.getWord = function (index) {\n        loadWords(this);\n        return wordlist[index];\n    };\n    LangCz.prototype.getWordIndex = function (word) {\n        loadWords(this);\n        return wordlist.indexOf(word);\n    };\n    return LangCz;\n}(wordlist_1.Wordlist));\nvar langCz = new LangCz();\nexports.langCz = langCz;\nwordlist_1.Wordlist.register(langCz);\n//# sourceMappingURL=lang-cz.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.langEn = void 0;\nvar wordlist_1 = require(\"./wordlist\");\nvar words = \"AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo\";\nvar wordlist = null;\nfunction loadWords(lang) {\n    if (wordlist != null) {\n        return;\n    }\n    wordlist = words.replace(/([A-Z])/g, \" $1\").toLowerCase().substring(1).split(\" \");\n    // Verify the computed list matches the official list\n    /* istanbul ignore if */\n    if (wordlist_1.Wordlist.check(lang) !== \"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60\") {\n        wordlist = null;\n        throw new Error(\"BIP39 Wordlist for en (English) FAILED\");\n    }\n}\nvar LangEn = /** @class */ (function (_super) {\n    __extends(LangEn, _super);\n    function LangEn() {\n        return _super.call(this, \"en\") || this;\n    }\n    LangEn.prototype.getWord = function (index) {\n        loadWords(this);\n        return wordlist[index];\n    };\n    LangEn.prototype.getWordIndex = function (word) {\n        loadWords(this);\n        return wordlist.indexOf(word);\n    };\n    return LangEn;\n}(wordlist_1.Wordlist));\nvar langEn = new LangEn();\nexports.langEn = langEn;\nwordlist_1.Wordlist.register(langEn);\n//# sourceMappingURL=lang-en.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.langEs = void 0;\nvar strings_1 = require(\"@ethersproject/strings\");\nvar wordlist_1 = require(\"./wordlist\");\nvar words = \"A/bacoAbdomenAbejaAbiertoAbogadoAbonoAbortoAbrazoAbrirAbueloAbusoAcabarAcademiaAccesoAccio/nAceiteAcelgaAcentoAceptarA/cidoAclararAcne/AcogerAcosoActivoActoActrizActuarAcudirAcuerdoAcusarAdictoAdmitirAdoptarAdornoAduanaAdultoAe/reoAfectarAficio/nAfinarAfirmarA/gilAgitarAgoni/aAgostoAgotarAgregarAgrioAguaAgudoA/guilaAgujaAhogoAhorroAireAislarAjedrezAjenoAjusteAlacra/nAlambreAlarmaAlbaA/lbumAlcaldeAldeaAlegreAlejarAlertaAletaAlfilerAlgaAlgodo/nAliadoAlientoAlivioAlmaAlmejaAlmi/barAltarAltezaAltivoAltoAlturaAlumnoAlzarAmableAmanteAmapolaAmargoAmasarA/mbarA/mbitoAmenoAmigoAmistadAmorAmparoAmplioAnchoAncianoAnclaAndarAnde/nAnemiaA/nguloAnilloA/nimoAni/sAnotarAntenaAntiguoAntojoAnualAnularAnuncioA~adirA~ejoA~oApagarAparatoApetitoApioAplicarApodoAporteApoyoAprenderAprobarApuestaApuroAradoAra~aArarA/rbitroA/rbolArbustoArchivoArcoArderArdillaArduoA/reaA/ridoAriesArmoni/aArne/sAromaArpaArpo/nArregloArrozArrugaArteArtistaAsaAsadoAsaltoAscensoAsegurarAseoAsesorAsientoAsiloAsistirAsnoAsombroA/speroAstillaAstroAstutoAsumirAsuntoAtajoAtaqueAtarAtentoAteoA/ticoAtletaA/tomoAtraerAtrozAtu/nAudazAudioAugeAulaAumentoAusenteAutorAvalAvanceAvaroAveAvellanaAvenaAvestruzAvio/nAvisoAyerAyudaAyunoAzafra/nAzarAzoteAzu/carAzufreAzulBabaBaborBacheBahi/aBaileBajarBalanzaBalco/nBaldeBambu/BancoBandaBa~oBarbaBarcoBarnizBarroBa/sculaBasto/nBasuraBatallaBateri/aBatirBatutaBau/lBazarBebe/BebidaBelloBesarBesoBestiaBichoBienBingoBlancoBloqueBlusaBoaBobinaBoboBocaBocinaBodaBodegaBoinaBolaBoleroBolsaBombaBondadBonitoBonoBonsa/iBordeBorrarBosqueBoteBoti/nBo/vedaBozalBravoBrazoBrechaBreveBrilloBrincoBrisaBrocaBromaBronceBroteBrujaBruscoBrutoBuceoBucleBuenoBueyBufandaBufo/nBu/hoBuitreBultoBurbujaBurlaBurroBuscarButacaBuzo/nCaballoCabezaCabinaCabraCacaoCada/verCadenaCaerCafe/Cai/daCaima/nCajaCajo/nCalCalamarCalcioCaldoCalidadCalleCalmaCalorCalvoCamaCambioCamelloCaminoCampoCa/ncerCandilCanelaCanguroCanicaCantoCa~aCa~o/nCaobaCaosCapazCapita/nCapoteCaptarCapuchaCaraCarbo/nCa/rcelCaretaCargaCari~oCarneCarpetaCarroCartaCasaCascoCaseroCaspaCastorCatorceCatreCaudalCausaCazoCebollaCederCedroCeldaCe/lebreCelosoCe/lulaCementoCenizaCentroCercaCerdoCerezaCeroCerrarCertezaCe/spedCetroChacalChalecoChampu/ChanclaChapaCharlaChicoChisteChivoChoqueChozaChuletaChuparCiclo/nCiegoCieloCienCiertoCifraCigarroCimaCincoCineCintaCipre/sCircoCiruelaCisneCitaCiudadClamorClanClaroClaseClaveClienteClimaCli/nicaCobreCoccio/nCochinoCocinaCocoCo/digoCodoCofreCogerCoheteCoji/nCojoColaColchaColegioColgarColinaCollarColmoColumnaCombateComerComidaCo/modoCompraCondeConejoCongaConocerConsejoContarCopaCopiaCorazo/nCorbataCorchoCordo/nCoronaCorrerCoserCosmosCostaCra/neoCra/terCrearCrecerCrei/doCremaCri/aCrimenCriptaCrisisCromoCro/nicaCroquetaCrudoCruzCuadroCuartoCuatroCuboCubrirCucharaCuelloCuentoCuerdaCuestaCuevaCuidarCulebraCulpaCultoCumbreCumplirCunaCunetaCuotaCupo/nCu/pulaCurarCuriosoCursoCurvaCutisDamaDanzaDarDardoDa/tilDeberDe/bilDe/cadaDecirDedoDefensaDefinirDejarDelfi/nDelgadoDelitoDemoraDensoDentalDeporteDerechoDerrotaDesayunoDeseoDesfileDesnudoDestinoDesvi/oDetalleDetenerDeudaDi/aDiabloDiademaDiamanteDianaDiarioDibujoDictarDienteDietaDiezDifi/cilDignoDilemaDiluirDineroDirectoDirigirDiscoDise~oDisfrazDivaDivinoDobleDoceDolorDomingoDonDonarDoradoDormirDorsoDosDosisDrago/nDrogaDuchaDudaDueloDue~oDulceDu/oDuqueDurarDurezaDuroE/banoEbrioEcharEcoEcuadorEdadEdicio/nEdificioEditorEducarEfectoEficazEjeEjemploElefanteElegirElementoElevarElipseE/liteElixirElogioEludirEmbudoEmitirEmocio/nEmpateEmpe~oEmpleoEmpresaEnanoEncargoEnchufeEnci/aEnemigoEneroEnfadoEnfermoEnga~oEnigmaEnlaceEnormeEnredoEnsayoEnse~arEnteroEntrarEnvaseEnvi/oE/pocaEquipoErizoEscalaEscenaEscolarEscribirEscudoEsenciaEsferaEsfuerzoEspadaEspejoEspi/aEsposaEspumaEsqui/EstarEsteEstiloEstufaEtapaEternoE/ticaEtniaEvadirEvaluarEventoEvitarExactoExamenExcesoExcusaExentoExigirExilioExistirE/xitoExpertoExplicarExponerExtremoFa/bricaFa/bulaFachadaFa/cilFactorFaenaFajaFaldaFalloFalsoFaltarFamaFamiliaFamosoFarao/nFarmaciaFarolFarsaFaseFatigaFaunaFavorFaxFebreroFechaFelizFeoFeriaFerozFe/rtilFervorFesti/nFiableFianzaFiarFibraFiccio/nFichaFideoFiebreFielFieraFiestaFiguraFijarFijoFilaFileteFilialFiltroFinFincaFingirFinitoFirmaFlacoFlautaFlechaFlorFlotaFluirFlujoFlu/orFobiaFocaFogataFogo/nFolioFolletoFondoFormaForroFortunaForzarFosaFotoFracasoFra/gilFranjaFraseFraudeFrei/rFrenoFresaFri/oFritoFrutaFuegoFuenteFuerzaFugaFumarFuncio/nFundaFurgo/nFuriaFusilFu/tbolFuturoGacelaGafasGaitaGajoGalaGaleri/aGalloGambaGanarGanchoGangaGansoGarajeGarzaGasolinaGastarGatoGavila/nGemeloGemirGenGe/neroGenioGenteGeranioGerenteGermenGestoGiganteGimnasioGirarGiroGlaciarGloboGloriaGolGolfoGolosoGolpeGomaGordoGorilaGorraGotaGoteoGozarGradaGra/ficoGranoGrasaGratisGraveGrietaGrilloGripeGrisGritoGrosorGru/aGruesoGrumoGrupoGuanteGuapoGuardiaGuerraGui/aGui~oGuionGuisoGuitarraGusanoGustarHaberHa/bilHablarHacerHachaHadaHallarHamacaHarinaHazHaza~aHebillaHebraHechoHeladoHelioHembraHerirHermanoHe/roeHervirHieloHierroHi/gadoHigieneHijoHimnoHistoriaHocicoHogarHogueraHojaHombreHongoHonorHonraHoraHormigaHornoHostilHoyoHuecoHuelgaHuertaHuesoHuevoHuidaHuirHumanoHu/medoHumildeHumoHundirHuraca/nHurtoIconoIdealIdiomaI/doloIglesiaIglu/IgualIlegalIlusio/nImagenIma/nImitarImparImperioImponerImpulsoIncapazI/ndiceInerteInfielInformeIngenioInicioInmensoInmuneInnatoInsectoInstanteIntere/sI/ntimoIntuirInu/tilInviernoIraIrisIroni/aIslaIsloteJabali/Jabo/nJamo/nJarabeJardi/nJarraJaulaJazmi/nJefeJeringaJineteJornadaJorobaJovenJoyaJuergaJuevesJuezJugadorJugoJugueteJuicioJuncoJunglaJunioJuntarJu/piterJurarJustoJuvenilJuzgarKiloKoalaLabioLacioLacraLadoLadro/nLagartoLa/grimaLagunaLaicoLamerLa/minaLa/mparaLanaLanchaLangostaLanzaLa/pizLargoLarvaLa/stimaLataLa/texLatirLaurelLavarLazoLealLeccio/nLecheLectorLeerLegio/nLegumbreLejanoLenguaLentoLe~aLeo/nLeopardoLesio/nLetalLetraLeveLeyendaLibertadLibroLicorLi/derLidiarLienzoLigaLigeroLimaLi/miteLimo/nLimpioLinceLindoLi/neaLingoteLinoLinternaLi/quidoLisoListaLiteraLitioLitroLlagaLlamaLlantoLlaveLlegarLlenarLlevarLlorarLloverLluviaLoboLocio/nLocoLocuraLo/gicaLogroLombrizLomoLonjaLoteLuchaLucirLugarLujoLunaLunesLupaLustroLutoLuzMacetaMachoMaderaMadreMaduroMaestroMafiaMagiaMagoMai/zMaldadMaletaMallaMaloMama/MamboMamutMancoMandoManejarMangaManiqui/ManjarManoMansoMantaMa~anaMapaMa/quinaMarMarcoMareaMarfilMargenMaridoMa/rmolMarro/nMartesMarzoMasaMa/scaraMasivoMatarMateriaMatizMatrizMa/ximoMayorMazorcaMechaMedallaMedioMe/dulaMejillaMejorMelenaMelo/nMemoriaMenorMensajeMenteMenu/MercadoMerengueMe/ritoMesMeso/nMetaMeterMe/todoMetroMezclaMiedoMielMiembroMigaMilMilagroMilitarMillo/nMimoMinaMineroMi/nimoMinutoMiopeMirarMisaMiseriaMisilMismoMitadMitoMochilaMocio/nModaModeloMohoMojarMoldeMolerMolinoMomentoMomiaMonarcaMonedaMonjaMontoMo~oMoradaMorderMorenoMorirMorroMorsaMortalMoscaMostrarMotivoMoverMo/vilMozoMuchoMudarMuebleMuelaMuerteMuestraMugreMujerMulaMuletaMultaMundoMu~ecaMuralMuroMu/sculoMuseoMusgoMu/sicaMusloNa/carNacio/nNadarNaipeNaranjaNarizNarrarNasalNatalNativoNaturalNa/useaNavalNaveNavidadNecioNe/ctarNegarNegocioNegroNeo/nNervioNetoNeutroNevarNeveraNichoNidoNieblaNietoNi~ezNi~oNi/tidoNivelNoblezaNocheNo/minaNoriaNormaNorteNotaNoticiaNovatoNovelaNovioNubeNucaNu/cleoNudilloNudoNueraNueveNuezNuloNu/meroNutriaOasisObesoObispoObjetoObraObreroObservarObtenerObvioOcaOcasoOce/anoOchentaOchoOcioOcreOctavoOctubreOcultoOcuparOcurrirOdiarOdioOdiseaOesteOfensaOfertaOficioOfrecerOgroOi/doOi/rOjoOlaOleadaOlfatoOlivoOllaOlmoOlorOlvidoOmbligoOndaOnzaOpacoOpcio/nO/peraOpinarOponerOptarO/pticaOpuestoOracio/nOradorOralO/rbitaOrcaOrdenOrejaO/rganoOrgi/aOrgulloOrienteOrigenOrillaOroOrquestaOrugaOsadi/aOscuroOseznoOsoOstraOto~oOtroOvejaO/vuloO/xidoOxi/genoOyenteOzonoPactoPadrePaellaPa/ginaPagoPai/sPa/jaroPalabraPalcoPaletaPa/lidoPalmaPalomaPalparPanPanalPa/nicoPanteraPa~ueloPapa/PapelPapillaPaquetePararParcelaParedParirParoPa/rpadoParquePa/rrafoPartePasarPaseoPasio/nPasoPastaPataPatioPatriaPausaPautaPavoPayasoPeato/nPecadoPeceraPechoPedalPedirPegarPeinePelarPelda~oPeleaPeligroPellejoPeloPelucaPenaPensarPe~o/nPeo/nPeorPepinoPeque~oPeraPerchaPerderPerezaPerfilPericoPerlaPermisoPerroPersonaPesaPescaPe/simoPesta~aPe/taloPetro/leoPezPezu~aPicarPicho/nPiePiedraPiernaPiezaPijamaPilarPilotoPimientaPinoPintorPinzaPi~aPiojoPipaPirataPisarPiscinaPisoPistaPito/nPizcaPlacaPlanPlataPlayaPlazaPleitoPlenoPlomoPlumaPluralPobrePocoPoderPodioPoemaPoesi/aPoetaPolenPolici/aPolloPolvoPomadaPomeloPomoPompaPonerPorcio/nPortalPosadaPoseerPosiblePostePotenciaPotroPozoPradoPrecozPreguntaPremioPrensaPresoPrevioPrimoPri/ncipePrisio/nPrivarProaProbarProcesoProductoProezaProfesorProgramaProlePromesaProntoPropioPro/ximoPruebaPu/blicoPucheroPudorPuebloPuertaPuestoPulgaPulirPulmo/nPulpoPulsoPumaPuntoPu~alPu~oPupaPupilaPure/QuedarQuejaQuemarQuererQuesoQuietoQui/micaQuinceQuitarRa/banoRabiaRaboRacio/nRadicalRai/zRamaRampaRanchoRangoRapazRa/pidoRaptoRasgoRaspaRatoRayoRazaRazo/nReaccio/nRealidadReba~oReboteRecaerRecetaRechazoRecogerRecreoRectoRecursoRedRedondoReducirReflejoReformaRefra/nRefugioRegaloRegirReglaRegresoRehe/nReinoRei/rRejaRelatoRelevoRelieveRellenoRelojRemarRemedioRemoRencorRendirRentaRepartoRepetirReposoReptilResRescateResinaRespetoRestoResumenRetiroRetornoRetratoReunirReve/sRevistaReyRezarRicoRiegoRiendaRiesgoRifaRi/gidoRigorRinco/nRi~o/nRi/oRiquezaRisaRitmoRitoRizoRobleRoceRociarRodarRodeoRodillaRoerRojizoRojoRomeroRomperRonRoncoRondaRopaRoperoRosaRoscaRostroRotarRubi/RuborRudoRuedaRugirRuidoRuinaRuletaRuloRumboRumorRupturaRutaRutinaSa/badoSaberSabioSableSacarSagazSagradoSalaSaldoSaleroSalirSalmo/nSalo/nSalsaSaltoSaludSalvarSambaSancio/nSandi/aSanearSangreSanidadSanoSantoSapoSaqueSardinaSarte/nSastreSata/nSaunaSaxofo/nSeccio/nSecoSecretoSectaSedSeguirSeisSelloSelvaSemanaSemillaSendaSensorSe~alSe~orSepararSepiaSequi/aSerSerieSermo/nServirSesentaSesio/nSetaSetentaSeveroSexoSextoSidraSiestaSieteSigloSignoSi/labaSilbarSilencioSillaSi/mboloSimioSirenaSistemaSitioSituarSobreSocioSodioSolSolapaSoldadoSoledadSo/lidoSoltarSolucio/nSombraSondeoSonidoSonoroSonrisaSopaSoplarSoporteSordoSorpresaSorteoSoste/nSo/tanoSuaveSubirSucesoSudorSuegraSueloSue~oSuerteSufrirSujetoSulta/nSumarSuperarSuplirSuponerSupremoSurSurcoSure~oSurgirSustoSutilTabacoTabiqueTablaTabu/TacoTactoTajoTalarTalcoTalentoTallaTalo/nTama~oTamborTangoTanqueTapaTapeteTapiaTapo/nTaquillaTardeTareaTarifaTarjetaTarotTarroTartaTatuajeTauroTazaTazo/nTeatroTechoTeclaTe/cnicaTejadoTejerTejidoTelaTele/fonoTemaTemorTemploTenazTenderTenerTenisTensoTeori/aTerapiaTercoTe/rminoTernuraTerrorTesisTesoroTestigoTeteraTextoTezTibioTiburo/nTiempoTiendaTierraTiesoTigreTijeraTildeTimbreTi/midoTimoTintaTi/oTi/picoTipoTiraTiro/nTita/nTi/tereTi/tuloTizaToallaTobilloTocarTocinoTodoTogaToldoTomarTonoTontoToparTopeToqueTo/raxToreroTormentaTorneoToroTorpedoTorreTorsoTortugaTosToscoToserTo/xicoTrabajoTractorTraerTra/ficoTragoTrajeTramoTranceTratoTraumaTrazarTre/bolTreguaTreintaTrenTreparTresTribuTrigoTripaTristeTriunfoTrofeoTrompaTroncoTropaTroteTrozoTrucoTruenoTrufaTuberi/aTuboTuertoTumbaTumorTu/nelTu/nicaTurbinaTurismoTurnoTutorUbicarU/lceraUmbralUnidadUnirUniversoUnoUntarU~aUrbanoUrbeUrgenteUrnaUsarUsuarioU/tilUtopi/aUvaVacaVaci/oVacunaVagarVagoVainaVajillaValeVa/lidoValleValorVa/lvulaVampiroVaraVariarVaro/nVasoVecinoVectorVehi/culoVeinteVejezVelaVeleroVelozVenaVencerVendaVenenoVengarVenirVentaVenusVerVeranoVerboVerdeVeredaVerjaVersoVerterVi/aViajeVibrarVicioVi/ctimaVidaVi/deoVidrioViejoViernesVigorVilVillaVinagreVinoVi~edoVioli/nViralVirgoVirtudVisorVi/speraVistaVitaminaViudoVivazViveroVivirVivoVolca/nVolumenVolverVorazVotarVotoVozVueloVulgarYacerYateYeguaYemaYernoYesoYodoYogaYogurZafiroZanjaZapatoZarzaZonaZorroZumoZurdo\";\nvar lookup = {};\nvar wordlist = null;\nfunction dropDiacritic(word) {\n    wordlist_1.logger.checkNormalize();\n    return (0, strings_1.toUtf8String)(Array.prototype.filter.call((0, strings_1.toUtf8Bytes)(word.normalize(\"NFD\").toLowerCase()), function (c) {\n        return ((c >= 65 && c <= 90) || (c >= 97 && c <= 123));\n    }));\n}\nfunction expand(word) {\n    var output = [];\n    Array.prototype.forEach.call((0, strings_1.toUtf8Bytes)(word), function (c) {\n        // Acute accent\n        if (c === 47) {\n            output.push(204);\n            output.push(129);\n            // n-tilde\n        }\n        else if (c === 126) {\n            output.push(110);\n            output.push(204);\n            output.push(131);\n        }\n        else {\n            output.push(c);\n        }\n    });\n    return (0, strings_1.toUtf8String)(output);\n}\nfunction loadWords(lang) {\n    if (wordlist != null) {\n        return;\n    }\n    wordlist = words.replace(/([A-Z])/g, \" $1\").toLowerCase().substring(1).split(\" \").map(function (w) { return expand(w); });\n    wordlist.forEach(function (word, index) {\n        lookup[dropDiacritic(word)] = index;\n    });\n    // Verify the computed list matches the official list\n    /* istanbul ignore if */\n    if (wordlist_1.Wordlist.check(lang) !== \"0xf74fb7092aeacdfbf8959557de22098da512207fb9f109cb526994938cf40300\") {\n        wordlist = null;\n        throw new Error(\"BIP39 Wordlist for es (Spanish) FAILED\");\n    }\n}\nvar LangEs = /** @class */ (function (_super) {\n    __extends(LangEs, _super);\n    function LangEs() {\n        return _super.call(this, \"es\") || this;\n    }\n    LangEs.prototype.getWord = function (index) {\n        loadWords(this);\n        return wordlist[index];\n    };\n    LangEs.prototype.getWordIndex = function (word) {\n        loadWords(this);\n        return lookup[dropDiacritic(word)];\n    };\n    return LangEs;\n}(wordlist_1.Wordlist));\nvar langEs = new LangEs();\nexports.langEs = langEs;\nwordlist_1.Wordlist.register(langEs);\n//# sourceMappingURL=lang-es.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.langFr = void 0;\nvar strings_1 = require(\"@ethersproject/strings\");\nvar wordlist_1 = require(\"./wordlist\");\nvar words = \"AbaisserAbandonAbdiquerAbeilleAbolirAborderAboutirAboyerAbrasifAbreuverAbriterAbrogerAbruptAbsenceAbsoluAbsurdeAbusifAbyssalAcade/mieAcajouAcarienAccablerAccepterAcclamerAccoladeAccrocheAccuserAcerbeAchatAcheterAcidulerAcierAcompteAcque/rirAcronymeActeurActifActuelAdepteAde/quatAdhe/sifAdjectifAdjugerAdmettreAdmirerAdopterAdorerAdoucirAdresseAdroitAdulteAdverbeAe/rerAe/ronefAffaireAffecterAfficheAffreuxAffublerAgacerAgencerAgileAgiterAgraferAgre/ableAgrumeAiderAiguilleAilierAimableAisanceAjouterAjusterAlarmerAlchimieAlerteAlge-breAlgueAlie/nerAlimentAlle/gerAlliageAllouerAllumerAlourdirAlpagaAltesseAlve/oleAmateurAmbiguAmbreAme/nagerAmertumeAmidonAmiralAmorcerAmourAmovibleAmphibieAmpleurAmusantAnalyseAnaphoreAnarchieAnatomieAncienAne/antirAngleAngoisseAnguleuxAnimalAnnexerAnnonceAnnuelAnodinAnomalieAnonymeAnormalAntenneAntidoteAnxieuxApaiserApe/ritifAplanirApologieAppareilAppelerApporterAppuyerAquariumAqueducArbitreArbusteArdeurArdoiseArgentArlequinArmatureArmementArmoireArmureArpenterArracherArriverArroserArsenicArte/rielArticleAspectAsphalteAspirerAssautAsservirAssietteAssocierAssurerAsticotAstreAstuceAtelierAtomeAtriumAtroceAttaqueAttentifAttirerAttraperAubaineAubergeAudaceAudibleAugurerAuroreAutomneAutrucheAvalerAvancerAvariceAvenirAverseAveugleAviateurAvideAvionAviserAvoineAvouerAvrilAxialAxiomeBadgeBafouerBagageBaguetteBaignadeBalancerBalconBaleineBalisageBambinBancaireBandageBanlieueBannie-reBanquierBarbierBarilBaronBarqueBarrageBassinBastionBatailleBateauBatterieBaudrierBavarderBeletteBe/lierBeloteBe/ne/ficeBerceauBergerBerlineBermudaBesaceBesogneBe/tailBeurreBiberonBicycleBiduleBijouBilanBilingueBillardBinaireBiologieBiopsieBiotypeBiscuitBisonBistouriBitumeBizarreBlafardBlagueBlanchirBlessantBlinderBlondBloquerBlousonBobardBobineBoireBoiserBolideBonbonBondirBonheurBonifierBonusBordureBorneBotteBoucleBoueuxBougieBoulonBouquinBourseBoussoleBoutiqueBoxeurBrancheBrasierBraveBrebisBre-cheBreuvageBricolerBrigadeBrillantBriocheBriqueBrochureBroderBronzerBrousseBroyeurBrumeBrusqueBrutalBruyantBuffleBuissonBulletinBureauBurinBustierButinerButoirBuvableBuvetteCabanonCabineCachetteCadeauCadreCafe/ineCaillouCaissonCalculerCalepinCalibreCalmerCalomnieCalvaireCamaradeCame/raCamionCampagneCanalCanetonCanonCantineCanularCapableCaporalCapriceCapsuleCapterCapucheCarabineCarboneCaresserCaribouCarnageCarotteCarreauCartonCascadeCasierCasqueCassureCauserCautionCavalierCaverneCaviarCe/dilleCeintureCe/lesteCelluleCendrierCensurerCentralCercleCe/re/bralCeriseCernerCerveauCesserChagrinChaiseChaleurChambreChanceChapitreCharbonChasseurChatonChaussonChavirerChemiseChenilleChe/quierChercherChevalChienChiffreChignonChime-reChiotChlorureChocolatChoisirChoseChouetteChromeChuteCigareCigogneCimenterCine/maCintrerCirculerCirerCirqueCiterneCitoyenCitronCivilClaironClameurClaquerClasseClavierClientClignerClimatClivageClocheClonageCloporteCobaltCobraCocasseCocotierCoderCodifierCoffreCognerCohe/sionCoifferCoincerCole-reColibriCollineColmaterColonelCombatCome/dieCommandeCompactConcertConduireConfierCongelerConnoterConsonneContactConvexeCopainCopieCorailCorbeauCordageCornicheCorpusCorrectCorte-geCosmiqueCostumeCotonCoudeCoupureCourageCouteauCouvrirCoyoteCrabeCrainteCravateCrayonCre/atureCre/diterCre/meuxCreuserCrevetteCriblerCrierCristalCrite-reCroireCroquerCrotaleCrucialCruelCrypterCubiqueCueillirCuille-reCuisineCuivreCulminerCultiverCumulerCupideCuratifCurseurCyanureCycleCylindreCyniqueDaignerDamierDangerDanseurDauphinDe/battreDe/biterDe/borderDe/briderDe/butantDe/calerDe/cembreDe/chirerDe/ciderDe/clarerDe/corerDe/crireDe/cuplerDe/daleDe/ductifDe/esseDe/fensifDe/filerDe/frayerDe/gagerDe/givrerDe/glutirDe/graferDe/jeunerDe/liceDe/logerDemanderDemeurerDe/molirDe/nicherDe/nouerDentelleDe/nuderDe/partDe/penserDe/phaserDe/placerDe/poserDe/rangerDe/roberDe/sastreDescenteDe/sertDe/signerDe/sobe/irDessinerDestrierDe/tacherDe/testerDe/tourerDe/tresseDevancerDevenirDevinerDevoirDiableDialogueDiamantDicterDiffe/rerDige/rerDigitalDigneDiluerDimancheDiminuerDioxydeDirectifDirigerDiscuterDisposerDissiperDistanceDivertirDiviserDocileDocteurDogmeDoigtDomaineDomicileDompterDonateurDonjonDonnerDopamineDortoirDorureDosageDoseurDossierDotationDouanierDoubleDouceurDouterDoyenDragonDraperDresserDribblerDroitureDuperieDuplexeDurableDurcirDynastieE/blouirE/carterE/charpeE/chelleE/clairerE/clipseE/cloreE/cluseE/coleE/conomieE/corceE/couterE/craserE/cre/merE/crivainE/crouE/cumeE/cureuilE/difierE/duquerEffacerEffectifEffigieEffortEffrayerEffusionE/galiserE/garerE/jecterE/laborerE/largirE/lectronE/le/gantE/le/phantE/le-veE/ligibleE/litismeE/logeE/luciderE/luderEmballerEmbellirEmbryonE/meraudeE/missionEmmenerE/motionE/mouvoirEmpereurEmployerEmporterEmpriseE/mulsionEncadrerEnche-reEnclaveEncocheEndiguerEndosserEndroitEnduireE/nergieEnfanceEnfermerEnfouirEngagerEnginEngloberE/nigmeEnjamberEnjeuEnleverEnnemiEnnuyeuxEnrichirEnrobageEnseigneEntasserEntendreEntierEntourerEntraverE/nume/rerEnvahirEnviableEnvoyerEnzymeE/olienE/paissirE/pargneE/patantE/pauleE/picerieE/pide/mieE/pierE/pilogueE/pineE/pisodeE/pitapheE/poqueE/preuveE/prouverE/puisantE/querreE/quipeE/rigerE/rosionErreurE/ruptionEscalierEspadonEspe-ceEspie-gleEspoirEspritEsquiverEssayerEssenceEssieuEssorerEstimeEstomacEstradeE/tage-reE/talerE/tancheE/tatiqueE/teindreE/tendoirE/ternelE/thanolE/thiqueEthnieE/tirerE/tofferE/toileE/tonnantE/tourdirE/trangeE/troitE/tudeEuphorieE/valuerE/vasionE/ventailE/videnceE/viterE/volutifE/voquerExactExage/rerExaucerExcellerExcitantExclusifExcuseExe/cuterExempleExercerExhalerExhorterExigenceExilerExisterExotiqueExpe/dierExplorerExposerExprimerExquisExtensifExtraireExulterFableFabuleuxFacetteFacileFactureFaiblirFalaiseFameuxFamilleFarceurFarfeluFarineFaroucheFascinerFatalFatigueFauconFautifFaveurFavoriFe/brileFe/conderFe/de/rerFe/linFemmeFe/murFendoirFe/odalFermerFe/roceFerveurFestivalFeuilleFeutreFe/vrierFiascoFicelerFictifFide-leFigureFilatureFiletageFilie-reFilleulFilmerFilouFiltrerFinancerFinirFioleFirmeFissureFixerFlairerFlammeFlasqueFlatteurFle/auFle-cheFleurFlexionFloconFloreFluctuerFluideFluvialFolieFonderieFongibleFontaineForcerForgeronFormulerFortuneFossileFoudreFouge-reFouillerFoulureFourmiFragileFraiseFranchirFrapperFrayeurFre/gateFreinerFrelonFre/mirFre/ne/sieFre-reFriableFrictionFrissonFrivoleFroidFromageFrontalFrotterFruitFugitifFuiteFureurFurieuxFurtifFusionFuturGagnerGalaxieGalerieGambaderGarantirGardienGarnirGarrigueGazelleGazonGe/antGe/latineGe/luleGendarmeGe/ne/ralGe/nieGenouGentilGe/ologieGe/ome-treGe/raniumGermeGestuelGeyserGibierGiclerGirafeGivreGlaceGlaiveGlisserGlobeGloireGlorieuxGolfeurGommeGonflerGorgeGorilleGoudronGouffreGoulotGoupilleGourmandGoutteGraduelGraffitiGraineGrandGrappinGratuitGravirGrenatGriffureGrillerGrimperGrognerGronderGrotteGroupeGrugerGrutierGruye-reGue/pardGuerrierGuideGuimauveGuitareGustatifGymnasteGyrostatHabitudeHachoirHalteHameauHangarHannetonHaricotHarmonieHarponHasardHe/liumHe/matomeHerbeHe/rissonHermineHe/ronHe/siterHeureuxHibernerHibouHilarantHistoireHiverHomardHommageHomoge-neHonneurHonorerHonteuxHordeHorizonHorlogeHormoneHorribleHouleuxHousseHublotHuileuxHumainHumbleHumideHumourHurlerHydromelHygie-neHymneHypnoseIdylleIgnorerIguaneIlliciteIllusionImageImbiberImiterImmenseImmobileImmuableImpactImpe/rialImplorerImposerImprimerImputerIncarnerIncendieIncidentInclinerIncoloreIndexerIndiceInductifIne/ditIneptieInexactInfiniInfligerInformerInfusionInge/rerInhalerInhiberInjecterInjureInnocentInoculerInonderInscrireInsecteInsigneInsoliteInspirerInstinctInsulterIntactIntenseIntimeIntrigueIntuitifInutileInvasionInventerInviterInvoquerIroniqueIrradierIrre/elIrriterIsolerIvoireIvresseJaguarJaillirJambeJanvierJardinJaugerJauneJavelotJetableJetonJeudiJeunesseJoindreJoncherJonglerJoueurJouissifJournalJovialJoyauJoyeuxJubilerJugementJuniorJuponJuristeJusticeJuteuxJuve/nileKayakKimonoKiosqueLabelLabialLabourerLace/rerLactoseLaguneLaineLaisserLaitierLambeauLamelleLampeLanceurLangageLanterneLapinLargeurLarmeLaurierLavaboLavoirLectureLe/galLe/gerLe/gumeLessiveLettreLevierLexiqueLe/zardLiasseLibe/rerLibreLicenceLicorneLie-geLie-vreLigatureLigoterLigueLimerLimiteLimonadeLimpideLine/aireLingotLionceauLiquideLisie-reListerLithiumLitigeLittoralLivreurLogiqueLointainLoisirLombricLoterieLouerLourdLoutreLouveLoyalLubieLucideLucratifLueurLugubreLuisantLumie-reLunaireLundiLuronLutterLuxueuxMachineMagasinMagentaMagiqueMaigreMaillonMaintienMairieMaisonMajorerMalaxerMale/ficeMalheurMaliceMalletteMammouthMandaterManiableManquantManteauManuelMarathonMarbreMarchandMardiMaritimeMarqueurMarronMartelerMascotteMassifMate/rielMatie-reMatraqueMaudireMaussadeMauveMaximalMe/chantMe/connuMe/dailleMe/decinMe/diterMe/duseMeilleurMe/langeMe/lodieMembreMe/moireMenacerMenerMenhirMensongeMentorMercrediMe/riteMerleMessagerMesureMe/talMe/te/oreMe/thodeMe/tierMeubleMiaulerMicrobeMietteMignonMigrerMilieuMillionMimiqueMinceMine/ralMinimalMinorerMinuteMiracleMiroiterMissileMixteMobileModerneMoelleuxMondialMoniteurMonnaieMonotoneMonstreMontagneMonumentMoqueurMorceauMorsureMortierMoteurMotifMoucheMoufleMoulinMoussonMoutonMouvantMultipleMunitionMurailleMure-neMurmureMuscleMuse/umMusicienMutationMuterMutuelMyriadeMyrtilleMyste-reMythiqueNageurNappeNarquoisNarrerNatationNationNatureNaufrageNautiqueNavireNe/buleuxNectarNe/fasteNe/gationNe/gligerNe/gocierNeigeNerveuxNettoyerNeuroneNeutronNeveuNicheNickelNitrateNiveauNobleNocifNocturneNoirceurNoisetteNomadeNombreuxNommerNormatifNotableNotifierNotoireNourrirNouveauNovateurNovembreNoviceNuageNuancerNuireNuisibleNume/roNuptialNuqueNutritifObe/irObjectifObligerObscurObserverObstacleObtenirObturerOccasionOccuperOce/anOctobreOctroyerOctuplerOculaireOdeurOdorantOffenserOfficierOffrirOgiveOiseauOisillonOlfactifOlivierOmbrageOmettreOnctueuxOndulerOne/reuxOniriqueOpaleOpaqueOpe/rerOpinionOpportunOpprimerOpterOptiqueOrageuxOrangeOrbiteOrdonnerOreilleOrganeOrgueilOrificeOrnementOrqueOrtieOscillerOsmoseOssatureOtarieOuraganOursonOutilOutragerOuvrageOvationOxydeOxyge-neOzonePaisiblePalacePalmare-sPalourdePalperPanachePandaPangolinPaniquerPanneauPanoramaPantalonPapayePapierPapoterPapyrusParadoxeParcelleParesseParfumerParlerParoleParrainParsemerPartagerParureParvenirPassionPaste-quePaternelPatiencePatronPavillonPavoiserPayerPaysagePeignePeintrePelagePe/licanPellePelousePeluchePendulePe/ne/trerPe/niblePensifPe/nuriePe/pitePe/plumPerdrixPerforerPe/riodePermuterPerplexePersilPertePeserPe/talePetitPe/trirPeuplePharaonPhobiePhoquePhotonPhrasePhysiquePianoPicturalPie-cePierrePieuvrePilotePinceauPipettePiquerPiroguePiscinePistonPivoterPixelPizzaPlacardPlafondPlaisirPlanerPlaquePlastronPlateauPleurerPlexusPliagePlombPlongerPluiePlumagePochettePoe/siePoe-tePointePoirierPoissonPoivrePolairePolicierPollenPolygonePommadePompierPonctuelPonde/rerPoneyPortiquePositionPosse/derPosturePotagerPoteauPotionPoucePoulainPoumonPourprePoussinPouvoirPrairiePratiquePre/cieuxPre/direPre/fixePre/ludePre/nomPre/sencePre/textePre/voirPrimitifPrincePrisonPriverProble-meProce/derProdigeProfondProgre-sProieProjeterProloguePromenerPropreProspe-reProte/gerProuesseProverbePrudencePruneauPsychosePublicPuceronPuiserPulpePulsarPunaisePunitifPupitrePurifierPuzzlePyramideQuasarQuerelleQuestionQuie/tudeQuitterQuotientRacineRaconterRadieuxRagondinRaideurRaisinRalentirRallongeRamasserRapideRasageRatisserRavagerRavinRayonnerRe/actifRe/agirRe/aliserRe/animerRecevoirRe/citerRe/clamerRe/colterRecruterReculerRecyclerRe/digerRedouterRefaireRe/flexeRe/formerRefrainRefugeRe/galienRe/gionRe/glageRe/gulierRe/ite/rerRejeterRejouerRelatifReleverReliefRemarqueReme-deRemiseRemonterRemplirRemuerRenardRenfortReniflerRenoncerRentrerRenvoiReplierReporterRepriseReptileRequinRe/serveRe/sineuxRe/soudreRespectResterRe/sultatRe/tablirRetenirRe/ticuleRetomberRetracerRe/unionRe/ussirRevancheRevivreRe/volteRe/vulsifRichesseRideauRieurRigideRigolerRincerRiposterRisibleRisqueRituelRivalRivie-reRocheuxRomanceRompreRonceRondinRoseauRosierRotatifRotorRotuleRougeRouilleRouleauRoutineRoyaumeRubanRubisRucheRuelleRugueuxRuinerRuisseauRuserRustiqueRythmeSablerSaboterSabreSacocheSafariSagesseSaisirSaladeSaliveSalonSaluerSamediSanctionSanglierSarcasmeSardineSaturerSaugrenuSaumonSauterSauvageSavantSavonnerScalpelScandaleSce/le/ratSce/narioSceptreSche/maScienceScinderScoreScrutinSculpterSe/anceSe/cableSe/cherSecouerSe/cre/terSe/datifSe/duireSeigneurSe/jourSe/lectifSemaineSemblerSemenceSe/minalSe/nateurSensibleSentenceSe/parerSe/quenceSereinSergentSe/rieuxSerrureSe/rumServiceSe/sameSe/virSevrageSextupleSide/ralSie-cleSie/gerSifflerSigleSignalSilenceSiliciumSimpleSince-reSinistreSiphonSiropSismiqueSituerSkierSocialSocleSodiumSoigneuxSoldatSoleilSolitudeSolubleSombreSommeilSomnolerSondeSongeurSonnetteSonoreSorcierSortirSosieSottiseSoucieuxSoudureSouffleSouleverSoupapeSourceSoutirerSouvenirSpacieuxSpatialSpe/cialSphe-reSpiralStableStationSternumStimulusStipulerStrictStudieuxStupeurStylisteSublimeSubstratSubtilSubvenirSucce-sSucreSuffixeSugge/rerSuiveurSulfateSuperbeSupplierSurfaceSuricateSurmenerSurpriseSursautSurvieSuspectSyllabeSymboleSyme/trieSynapseSyntaxeSyste-meTabacTablierTactileTaillerTalentTalismanTalonnerTambourTamiserTangibleTapisTaquinerTarderTarifTartineTasseTatamiTatouageTaupeTaureauTaxerTe/moinTemporelTenailleTendreTeneurTenirTensionTerminerTerneTerribleTe/tineTexteThe-meThe/orieThe/rapieThoraxTibiaTie-deTimideTirelireTiroirTissuTitaneTitreTituberTobogganTole/rantTomateToniqueTonneauToponymeTorcheTordreTornadeTorpilleTorrentTorseTortueTotemToucherTournageTousserToxineTractionTraficTragiqueTrahirTrainTrancherTravailTre-fleTremperTre/sorTreuilTriageTribunalTricoterTrilogieTriompheTriplerTriturerTrivialTromboneTroncTropicalTroupeauTuileTulipeTumulteTunnelTurbineTuteurTutoyerTuyauTympanTyphonTypiqueTyranUbuesqueUltimeUltrasonUnanimeUnifierUnionUniqueUnitaireUniversUraniumUrbainUrticantUsageUsineUsuelUsureUtileUtopieVacarmeVaccinVagabondVagueVaillantVaincreVaisseauValableValiseVallonValveVampireVanilleVapeurVarierVaseuxVassalVasteVecteurVedetteVe/ge/talVe/hiculeVeinardVe/loceVendrediVe/ne/rerVengerVenimeuxVentouseVerdureVe/rinVernirVerrouVerserVertuVestonVe/te/ranVe/tusteVexantVexerViaducViandeVictoireVidangeVide/oVignetteVigueurVilainVillageVinaigreViolonVipe-reVirementVirtuoseVirusVisageViseurVisionVisqueuxVisuelVitalVitesseViticoleVitrineVivaceVivipareVocationVoguerVoileVoisinVoitureVolailleVolcanVoltigerVolumeVoraceVortexVoterVouloirVoyageVoyelleWagonXe/nonYachtZe-breZe/nithZesteZoologie\";\nvar wordlist = null;\nvar lookup = {};\nfunction dropDiacritic(word) {\n    wordlist_1.logger.checkNormalize();\n    return (0, strings_1.toUtf8String)(Array.prototype.filter.call((0, strings_1.toUtf8Bytes)(word.normalize(\"NFD\").toLowerCase()), function (c) {\n        return ((c >= 65 && c <= 90) || (c >= 97 && c <= 123));\n    }));\n}\nfunction expand(word) {\n    var output = [];\n    Array.prototype.forEach.call((0, strings_1.toUtf8Bytes)(word), function (c) {\n        // Acute accent\n        if (c === 47) {\n            output.push(204);\n            output.push(129);\n            // Grave accent\n        }\n        else if (c === 45) {\n            output.push(204);\n            output.push(128);\n        }\n        else {\n            output.push(c);\n        }\n    });\n    return (0, strings_1.toUtf8String)(output);\n}\nfunction loadWords(lang) {\n    if (wordlist != null) {\n        return;\n    }\n    wordlist = words.replace(/([A-Z])/g, \" $1\").toLowerCase().substring(1).split(\" \").map(function (w) { return expand(w); });\n    wordlist.forEach(function (word, index) {\n        lookup[dropDiacritic(word)] = index;\n    });\n    // Verify the computed list matches the official list\n    /* istanbul ignore if */\n    if (wordlist_1.Wordlist.check(lang) !== \"0x51deb7ae009149dc61a6bd18a918eb7ac78d2775726c68e598b92d002519b045\") {\n        wordlist = null;\n        throw new Error(\"BIP39 Wordlist for fr (French) FAILED\");\n    }\n}\nvar LangFr = /** @class */ (function (_super) {\n    __extends(LangFr, _super);\n    function LangFr() {\n        return _super.call(this, \"fr\") || this;\n    }\n    LangFr.prototype.getWord = function (index) {\n        loadWords(this);\n        return wordlist[index];\n    };\n    LangFr.prototype.getWordIndex = function (word) {\n        loadWords(this);\n        return lookup[dropDiacritic(word)];\n    };\n    return LangFr;\n}(wordlist_1.Wordlist));\nvar langFr = new LangFr();\nexports.langFr = langFr;\nwordlist_1.Wordlist.register(langFr);\n//# sourceMappingURL=lang-fr.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.langIt = void 0;\nvar wordlist_1 = require(\"./wordlist\");\nvar words = \"AbacoAbbaglioAbbinatoAbeteAbissoAbolireAbrasivoAbrogatoAccadereAccennoAccusatoAcetoneAchilleAcidoAcquaAcreAcrilicoAcrobataAcutoAdagioAddebitoAddomeAdeguatoAderireAdipeAdottareAdulareAffabileAffettoAffissoAffrantoAforismaAfosoAfricanoAgaveAgenteAgevoleAggancioAgireAgitareAgonismoAgricoloAgrumetoAguzzoAlabardaAlatoAlbatroAlberatoAlboAlbumeAlceAlcolicoAlettoneAlfaAlgebraAlianteAlibiAlimentoAllagatoAllegroAllievoAllodolaAllusivoAlmenoAlogenoAlpacaAlpestreAltalenaAlternoAlticcioAltroveAlunnoAlveoloAlzareAmalgamaAmanitaAmarenaAmbitoAmbratoAmebaAmericaAmetistaAmicoAmmassoAmmendaAmmirareAmmonitoAmoreAmpioAmpliareAmuletoAnacardoAnagrafeAnalistaAnarchiaAnatraAncaAncellaAncoraAndareAndreaAnelloAngeloAngolareAngustoAnimaAnnegareAnnidatoAnnoAnnuncioAnonimoAnticipoAnziApaticoAperturaApodeApparireAppetitoAppoggioApprodoAppuntoAprileArabicaArachideAragostaAraldicaArancioAraturaArazzoArbitroArchivioArditoArenileArgentoArgineArgutoAriaArmoniaArneseArredatoArringaArrostoArsenicoArsoArteficeArzilloAsciuttoAscoltoAsepsiAsetticoAsfaltoAsinoAsolaAspiratoAsproAssaggioAsseAssolutoAssurdoAstaAstenutoAsticeAstrattoAtavicoAteismoAtomicoAtonoAttesaAttivareAttornoAttritoAttualeAusilioAustriaAutistaAutonomoAutunnoAvanzatoAvereAvvenireAvvisoAvvolgereAzioneAzotoAzzimoAzzurroBabeleBaccanoBacinoBacoBadessaBadilataBagnatoBaitaBalconeBaldoBalenaBallataBalzanoBambinoBandireBaraondaBarbaroBarcaBaritonoBarlumeBaroccoBasilicoBassoBatostaBattutoBauleBavaBavosaBeccoBeffaBelgioBelvaBendaBenevoleBenignoBenzinaBereBerlinaBetaBibitaBiciBidoneBifidoBigaBilanciaBimboBinocoloBiologoBipedeBipolareBirbanteBirraBiscottoBisestoBisnonnoBisonteBisturiBizzarroBlandoBlattaBollitoBonificoBordoBoscoBotanicoBottinoBozzoloBraccioBradipoBramaBrancaBravuraBretellaBrevettoBrezzaBrigliaBrillanteBrindareBroccoloBrodoBronzinaBrulloBrunoBubboneBucaBudinoBuffoneBuioBulboBuonoBurloneBurrascaBussolaBustaCadettoCaducoCalamaroCalcoloCalesseCalibroCalmoCaloriaCambusaCamerataCamiciaCamminoCamolaCampaleCanapaCandelaCaneCaninoCanottoCantinaCapaceCapelloCapitoloCapogiroCapperoCapraCapsulaCarapaceCarcassaCardoCarismaCarovanaCarrettoCartolinaCasaccioCascataCasermaCasoCassoneCastelloCasualeCatastaCatenaCatrameCautoCavilloCedibileCedrataCefaloCelebreCellulareCenaCenoneCentesimoCeramicaCercareCertoCerumeCervelloCesoiaCespoCetoChelaChiaroChiccaChiedereChimeraChinaChirurgoChitarraCiaoCiclismoCifrareCignoCilindroCiottoloCircaCirrosiCitricoCittadinoCiuffoCivettaCivileClassicoClinicaCloroCoccoCodardoCodiceCoerenteCognomeCollareColmatoColoreColposoColtivatoColzaComaCometaCommandoComodoComputerComuneConcisoCondurreConfermaCongelareConiugeConnessoConoscereConsumoContinuoConvegnoCopertoCopioneCoppiaCopricapoCorazzaCordataCoricatoCorniceCorollaCorpoCorredoCorsiaCorteseCosmicoCostanteCotturaCovatoCratereCravattaCreatoCredereCremosoCrescitaCretaCricetoCrinaleCrisiCriticoCroceCronacaCrostataCrucialeCruscaCucireCuculoCuginoCullatoCupolaCuratoreCursoreCurvoCuscinoCustodeDadoDainoDalmataDamerinoDanielaDannosoDanzareDatatoDavantiDavveroDebuttoDecennioDecisoDeclinoDecolloDecretoDedicatoDefinitoDeformeDegnoDelegareDelfinoDelirioDeltaDemenzaDenotatoDentroDepositoDerapataDerivareDerogaDescrittoDesertoDesiderioDesumereDetersivoDevotoDiametroDicembreDiedroDifesoDiffusoDigerireDigitaleDiluvioDinamicoDinnanziDipintoDiplomaDipoloDiradareDireDirottoDirupoDisagioDiscretoDisfareDisgeloDispostoDistanzaDisumanoDitoDivanoDiveltoDividereDivoratoDobloneDocenteDoganaleDogmaDolceDomatoDomenicaDominareDondoloDonoDormireDoteDottoreDovutoDozzinaDragoDruidoDubbioDubitareDucaleDunaDuomoDupliceDuraturoEbanoEccessoEccoEclissiEconomiaEderaEdicolaEdileEditoriaEducareEgemoniaEgliEgoismoEgregioElaboratoElargireEleganteElencatoElettoElevareElficoElicaElmoElsaElusoEmanatoEmblemaEmessoEmiroEmotivoEmozioneEmpiricoEmuloEndemicoEnduroEnergiaEnfasiEnotecaEntrareEnzimaEpatiteEpilogoEpisodioEpocaleEppureEquatoreErarioErbaErbosoEredeEremitaErigereErmeticoEroeErosivoErranteEsagonoEsameEsanimeEsaudireEscaEsempioEsercitoEsibitoEsigenteEsistereEsitoEsofagoEsortatoEsosoEspansoEspressoEssenzaEssoEstesoEstimareEstoniaEstrosoEsultareEtilicoEtnicoEtruscoEttoEuclideoEuropaEvasoEvidenzaEvitatoEvolutoEvvivaFabbricaFaccendaFachiroFalcoFamigliaFanaleFanfaraFangoFantasmaFareFarfallaFarinosoFarmacoFasciaFastosoFasulloFaticareFatoFavolosoFebbreFecolaFedeFegatoFelpaFeltroFemminaFendereFenomenoFermentoFerroFertileFessuraFestivoFettaFeudoFiabaFiduciaFifaFiguratoFiloFinanzaFinestraFinireFioreFiscaleFisicoFiumeFlaconeFlamencoFleboFlemmaFloridoFluenteFluoroFobicoFocacciaFocosoFoderatoFoglioFolataFolcloreFolgoreFondenteFoneticoFoniaFontanaForbitoForchettaForestaFormicaFornaioForoFortezzaForzareFosfatoFossoFracassoFranaFrassinoFratelloFreccettaFrenataFrescoFrigoFrollinoFrondeFrugaleFruttaFucilataFucsiaFuggenteFulmineFulvoFumanteFumettoFumosoFuneFunzioneFuocoFurboFurgoneFuroreFusoFutileGabbianoGaffeGalateoGallinaGaloppoGamberoGammaGaranziaGarboGarofanoGarzoneGasdottoGasolioGastricoGattoGaudioGazeboGazzellaGecoGelatinaGelsoGemelloGemmatoGeneGenitoreGennaioGenotipoGergoGhepardoGhiaccioGhisaGialloGildaGineproGiocareGioielloGiornoGioveGiratoGironeGittataGiudizioGiuratoGiustoGlobuloGlutineGnomoGobbaGolfGomitoGommoneGonfioGonnaGovernoGracileGradoGraficoGrammoGrandeGrattareGravosoGraziaGrecaGreggeGrifoneGrigioGrinzaGrottaGruppoGuadagnoGuaioGuantoGuardareGufoGuidareIbernatoIconaIdenticoIdillioIdoloIdraIdricoIdrogenoIgieneIgnaroIgnoratoIlareIllesoIllogicoIlludereImballoImbevutoImboccoImbutoImmaneImmersoImmolatoImpaccoImpetoImpiegoImportoImprontaInalareInarcareInattivoIncantoIncendioInchinoIncisivoInclusoIncontroIncrocioIncuboIndagineIndiaIndoleIneditoInfattiInfilareInflittoIngaggioIngegnoIngleseIngordoIngrossoInnescoInodoreInoltrareInondatoInsanoInsettoInsiemeInsonniaInsulinaIntasatoInteroIntonacoIntuitoInumidireInvalidoInveceInvitoIperboleIpnoticoIpotesiIppicaIrideIrlandaIronicoIrrigatoIrrorareIsolatoIsotopoIstericoIstitutoIstriceItaliaIterareLabbroLabirintoLaccaLaceratoLacrimaLacunaLaddoveLagoLampoLancettaLanternaLardosoLargaLaringeLastraLatenzaLatinoLattugaLavagnaLavoroLegaleLeggeroLemboLentezzaLenzaLeoneLepreLesivoLessatoLestoLetteraleLevaLevigatoLiberoLidoLievitoLillaLimaturaLimitareLimpidoLineareLinguaLiquidoLiraLiricaLiscaLiteLitigioLivreaLocandaLodeLogicaLombareLondraLongevoLoquaceLorenzoLotoLotteriaLuceLucidatoLumacaLuminosoLungoLupoLuppoloLusingaLussoLuttoMacabroMacchinaMaceroMacinatoMadamaMagicoMagliaMagneteMagroMaiolicaMalafedeMalgradoMalintesoMalsanoMaltoMalumoreManaManciaMandorlaMangiareManifestoMannaroManovraMansardaMantideManubrioMappaMaratonaMarcireMarettaMarmoMarsupioMascheraMassaiaMastinoMaterassoMatricolaMattoneMaturoMazurcaMeandroMeccanicoMecenateMedesimoMeditareMegaMelassaMelisMelodiaMeningeMenoMensolaMercurioMerendaMerloMeschinoMeseMessereMestoloMetalloMetodoMettereMiagolareMicaMicelioMicheleMicroboMidolloMieleMiglioreMilanoMiliteMimosaMineraleMiniMinoreMirinoMirtilloMiscelaMissivaMistoMisurareMitezzaMitigareMitraMittenteMnemonicoModelloModificaModuloMoganoMogioMoleMolossoMonasteroMoncoMondinaMonetarioMonileMonotonoMonsoneMontatoMonvisoMoraMordereMorsicatoMostroMotivatoMotosegaMottoMovenzaMovimentoMozzoMuccaMucosaMuffaMughettoMugnaioMulattoMulinelloMultiploMummiaMuntoMuovereMuraleMusaMuscoloMusicaMutevoleMutoNababboNaftaNanometroNarcisoNariceNarratoNascereNastrareNaturaleNauticaNaviglioNebulosaNecrosiNegativoNegozioNemmenoNeofitaNerettoNervoNessunoNettunoNeutraleNeveNevroticoNicchiaNinfaNitidoNobileNocivoNodoNomeNominaNordicoNormaleNorvegeseNostranoNotareNotiziaNotturnoNovellaNucleoNullaNumeroNuovoNutrireNuvolaNuzialeOasiObbedireObbligoObeliscoOblioOboloObsoletoOccasioneOcchioOccidenteOccorrereOccultareOcraOculatoOdiernoOdorareOffertaOffrireOffuscatoOggettoOggiOgnunoOlandeseOlfattoOliatoOlivaOlogrammaOltreOmaggioOmbelicoOmbraOmegaOmissioneOndosoOnereOniceOnnivoroOnorevoleOntaOperatoOpinioneOppostoOracoloOrafoOrdineOrecchinoOreficeOrfanoOrganicoOrigineOrizzonteOrmaOrmeggioOrnativoOrologioOrrendoOrribileOrtensiaOrticaOrzataOrzoOsareOscurareOsmosiOspedaleOspiteOssaOssidareOstacoloOsteOtiteOtreOttagonoOttimoOttobreOvaleOvestOvinoOviparoOvocitoOvunqueOvviareOzioPacchettoPacePacificoPadellaPadronePaesePagaPaginaPalazzinaPalesarePallidoPaloPaludePandoroPannelloPaoloPaonazzoPapricaParabolaParcellaParerePargoloPariParlatoParolaPartireParvenzaParzialePassivoPasticcaPataccaPatologiaPattumePavonePeccatoPedalarePedonalePeggioPelosoPenarePendicePenisolaPennutoPenombraPensarePentolaPepePepitaPerbenePercorsoPerdonatoPerforarePergamenaPeriodoPermessoPernoPerplessoPersuasoPertugioPervasoPesatorePesistaPesoPestiferoPetaloPettinePetulantePezzoPiacerePiantaPiattinoPiccinoPicozzaPiegaPietraPifferoPigiamaPigolioPigroPilaPiliferoPillolaPilotaPimpantePinetaPinnaPinoloPioggiaPiomboPiramidePireticoPiritePirolisiPitonePizzicoPlaceboPlanarePlasmaPlatanoPlenarioPochezzaPoderosoPodismoPoesiaPoggiarePolentaPoligonoPollicePolmonitePolpettaPolsoPoltronaPolverePomicePomodoroPontePopolosoPorfidoPorosoPorporaPorrePortataPosaPositivoPossessoPostulatoPotassioPoterePranzoPrassiPraticaPreclusoPredicaPrefissoPregiatoPrelievoPremerePrenotarePreparatoPresenzaPretestoPrevalsoPrimaPrincipePrivatoProblemaProcuraProdurreProfumoProgettoProlungaPromessaPronomePropostaProrogaProtesoProvaPrudentePrugnaPruritoPsichePubblicoPudicaPugilatoPugnoPulcePulitoPulsantePuntarePupazzoPupillaPuroQuadroQualcosaQuasiQuerelaQuotaRaccoltoRaddoppioRadicaleRadunatoRafficaRagazzoRagioneRagnoRamarroRamingoRamoRandagioRantolareRapatoRapinaRappresoRasaturaRaschiatoRasenteRassegnaRastrelloRataRavvedutoRealeRecepireRecintoReclutaReconditoRecuperoRedditoRedimereRegalatoRegistroRegolaRegressoRelazioneRemareRemotoRennaReplicaReprimereReputareResaResidenteResponsoRestauroReteRetinaRetoricaRettificaRevocatoRiassuntoRibadireRibelleRibrezzoRicaricaRiccoRicevereRiciclatoRicordoRicredutoRidicoloRidurreRifasareRiflessoRiformaRifugioRigareRigettatoRighelloRilassatoRilevatoRimanereRimbalzoRimedioRimorchioRinascitaRincaroRinforzoRinnovoRinomatoRinsavitoRintoccoRinunciaRinvenireRiparatoRipetutoRipienoRiportareRipresaRipulireRisataRischioRiservaRisibileRisoRispettoRistoroRisultatoRisvoltoRitardoRitegnoRitmicoRitrovoRiunioneRivaRiversoRivincitaRivoltoRizomaRobaRoboticoRobustoRocciaRocoRodaggioRodereRoditoreRogitoRollioRomanticoRompereRonzioRosolareRospoRotanteRotondoRotulaRovescioRubizzoRubricaRugaRullinoRumineRumorosoRuoloRupeRussareRusticoSabatoSabbiareSabotatoSagomaSalassoSaldaturaSalgemmaSalivareSalmoneSaloneSaltareSalutoSalvoSapereSapidoSaporitoSaracenoSarcasmoSartoSassosoSatelliteSatiraSatolloSaturnoSavanaSavioSaziatoSbadiglioSbalzoSbancatoSbarraSbattereSbavareSbendareSbirciareSbloccatoSbocciatoSbrinareSbruffoneSbuffareScabrosoScadenzaScalaScambiareScandaloScapolaScarsoScatenareScavatoSceltoScenicoScettroSchedaSchienaSciarpaScienzaScindereScippoSciroppoScivoloSclerareScodellaScolpitoScompartoSconfortoScoprireScortaScossoneScozzeseScribaScrollareScrutinioScuderiaScultoreScuolaScuroScusareSdebitareSdoganareSeccaturaSecondoSedanoSeggiolaSegnalatoSegregatoSeguitoSelciatoSelettivoSellaSelvaggioSemaforoSembrareSemeSeminatoSempreSensoSentireSepoltoSequenzaSerataSerbatoSerenoSerioSerpenteSerraglioServireSestinaSetolaSettimanaSfaceloSfaldareSfamatoSfarzosoSfaticatoSferaSfidaSfilatoSfingeSfocatoSfoderareSfogoSfoltireSforzatoSfrattoSfruttatoSfuggitoSfumareSfusoSgabelloSgarbatoSgonfiareSgorbioSgrassatoSguardoSibiloSiccomeSierraSiglaSignoreSilenzioSillabaSimboloSimpaticoSimulatoSinfoniaSingoloSinistroSinoSintesiSinusoideSiparioSismaSistoleSituatoSlittaSlogaturaSlovenoSmarritoSmemoratoSmentitoSmeraldoSmilzoSmontareSmottatoSmussatoSnellireSnervatoSnodoSobbalzoSobrioSoccorsoSocialeSodaleSoffittoSognoSoldatoSolenneSolidoSollazzoSoloSolubileSolventeSomaticoSommaSondaSonettoSonniferoSopireSoppesoSopraSorgereSorpassoSorrisoSorsoSorteggioSorvolatoSospiroSostaSottileSpadaSpallaSpargereSpatolaSpaventoSpazzolaSpecieSpedireSpegnereSpelaturaSperanzaSpessoreSpettraleSpezzatoSpiaSpigolosoSpillatoSpinosoSpiraleSplendidoSportivoSposoSprangaSprecareSpronatoSpruzzoSpuntinoSquilloSradicareSrotolatoStabileStaccoStaffaStagnareStampatoStantioStarnutoStaseraStatutoSteloSteppaSterzoStilettoStimaStirpeStivaleStizzosoStonatoStoricoStrappoStregatoStriduloStrozzareStruttoStuccareStufoStupendoSubentroSuccosoSudoreSuggeritoSugoSultanoSuonareSuperboSupportoSurgelatoSurrogatoSussurroSuturaSvagareSvedeseSveglioSvelareSvenutoSveziaSviluppoSvistaSvizzeraSvoltaSvuotareTabaccoTabulatoTacciareTaciturnoTaleTalismanoTamponeTanninoTaraTardivoTargatoTariffaTarpareTartarugaTastoTatticoTavernaTavolataTazzaTecaTecnicoTelefonoTemerarioTempoTemutoTendoneTeneroTensioneTentacoloTeoremaTermeTerrazzoTerzettoTesiTesseratoTestatoTetroTettoiaTifareTigellaTimbroTintoTipicoTipografoTiraggioTiroTitanioTitoloTitubanteTizioTizzoneToccareTollerareToltoTombolaTomoTonfoTonsillaTopazioTopologiaToppaTorbaTornareTorroneTortoraToscanoTossireTostaturaTotanoTraboccoTracheaTrafilaTragediaTralcioTramontoTransitoTrapanoTrarreTraslocoTrattatoTraveTrecciaTremolioTrespoloTributoTrichecoTrifoglioTrilloTrinceaTrioTristezzaTrituratoTrivellaTrombaTronoTroppoTrottolaTrovareTruccatoTubaturaTuffatoTulipanoTumultoTunisiaTurbareTurchinoTutaTutelaUbicatoUccelloUccisoreUdireUditivoUffaUfficioUgualeUlisseUltimatoUmanoUmileUmorismoUncinettoUngereUnghereseUnicornoUnificatoUnisonoUnitarioUnteUovoUpupaUraganoUrgenzaUrloUsanzaUsatoUscitoUsignoloUsuraioUtensileUtilizzoUtopiaVacanteVaccinatoVagabondoVagliatoValangaValgoValicoVallettaValorosoValutareValvolaVampataVangareVanitosoVanoVantaggioVanveraVaporeVaranoVarcatoVarianteVascaVedettaVedovaVedutoVegetaleVeicoloVelcroVelinaVellutoVeloceVenatoVendemmiaVentoVeraceVerbaleVergognaVerificaVeroVerrucaVerticaleVescicaVessilloVestaleVeteranoVetrinaVetustoViandanteVibranteVicendaVichingoVicinanzaVidimareVigiliaVignetoVigoreVileVillanoViminiVincitoreViolaViperaVirgolaVirologoVirulentoViscosoVisioneVispoVissutoVisuraVitaVitelloVittimaVivandaVividoViziareVoceVogaVolatileVolereVolpeVoragineVulcanoZampognaZannaZappatoZatteraZavorraZefiroZelanteZeloZenzeroZerbinoZibettoZincoZirconeZittoZollaZoticoZuccheroZufoloZuluZuppa\";\nvar wordlist = null;\nfunction loadWords(lang) {\n    if (wordlist != null) {\n        return;\n    }\n    wordlist = words.replace(/([A-Z])/g, \" $1\").toLowerCase().substring(1).split(\" \");\n    // Verify the computed list matches the official list\n    /* istanbul ignore if */\n    if (wordlist_1.Wordlist.check(lang) !== \"0x5c1362d88fd4cf614a96f3234941d29f7d37c08c5292fde03bf62c2db6ff7620\") {\n        wordlist = null;\n        throw new Error(\"BIP39 Wordlist for it (Italian) FAILED\");\n    }\n}\nvar LangIt = /** @class */ (function (_super) {\n    __extends(LangIt, _super);\n    function LangIt() {\n        return _super.call(this, \"it\") || this;\n    }\n    LangIt.prototype.getWord = function (index) {\n        loadWords(this);\n        return wordlist[index];\n    };\n    LangIt.prototype.getWordIndex = function (word) {\n        loadWords(this);\n        return wordlist.indexOf(word);\n    };\n    return LangIt;\n}(wordlist_1.Wordlist));\nvar langIt = new LangIt();\nexports.langIt = langIt;\nwordlist_1.Wordlist.register(langIt);\n//# sourceMappingURL=lang-it.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.langJa = void 0;\nvar bytes_1 = require(\"@ethersproject/bytes\");\nvar strings_1 = require(\"@ethersproject/strings\");\nvar wordlist_1 = require(\"./wordlist\");\nvar data = [\n    // 4-kana words\n    \"AQRASRAGBAGUAIRAHBAghAURAdBAdcAnoAMEAFBAFCBKFBQRBSFBCXBCDBCHBGFBEQBpBBpQBIkBHNBeOBgFBVCBhBBhNBmOBmRBiHBiFBUFBZDBvFBsXBkFBlcBjYBwDBMBBTBBTRBWBBWXXaQXaRXQWXSRXCFXYBXpHXOQXHRXhRXuRXmXXbRXlXXwDXTRXrCXWQXWGaBWaKcaYgasFadQalmaMBacAKaRKKBKKXKKjKQRKDRKCYKCRKIDKeVKHcKlXKjHKrYNAHNBWNaRNKcNIBNIONmXNsXNdXNnBNMBNRBNrXNWDNWMNFOQABQAHQBrQXBQXFQaRQKXQKDQKOQKFQNBQNDQQgQCXQCDQGBQGDQGdQYXQpBQpQQpHQLXQHuQgBQhBQhCQuFQmXQiDQUFQZDQsFQdRQkHQbRQlOQlmQPDQjDQwXQMBQMDQcFQTBQTHQrDDXQDNFDGBDGQDGRDpFDhFDmXDZXDbRDMYDRdDTRDrXSAhSBCSBrSGQSEQSHBSVRShYShkSyQSuFSiBSdcSoESocSlmSMBSFBSFKSFNSFdSFcCByCaRCKcCSBCSRCCrCGbCEHCYXCpBCpQCIBCIHCeNCgBCgFCVECVcCmkCmwCZXCZFCdRClOClmClFCjDCjdCnXCwBCwXCcRCFQCFjGXhGNhGDEGDMGCDGCHGIFGgBGVXGVEGVRGmXGsXGdYGoSGbRGnXGwXGwDGWRGFNGFLGFOGFdGFkEABEBDEBFEXOEaBEKSENBENDEYXEIgEIkEgBEgQEgHEhFEudEuFEiBEiHEiFEZDEvBEsXEsFEdXEdREkFEbBEbRElFEPCEfkEFNYAEYAhYBNYQdYDXYSRYCEYYoYgQYgRYuRYmCYZTYdBYbEYlXYjQYRbYWRpKXpQopQnpSFpCXpIBpISphNpdBpdRpbRpcZpFBpFNpFDpFopFrLADLBuLXQLXcLaFLCXLEhLpBLpFLHXLeVLhILdHLdRLoDLbRLrXIABIBQIBCIBsIBoIBMIBRIXaIaRIKYIKRINBINuICDIGBIIDIIkIgRIxFIyQIiHIdRIbYIbRIlHIwRIMYIcRIRVITRIFBIFNIFQOABOAFOBQOaFONBONMOQFOSFOCDOGBOEQOpBOLXOIBOIFOgQOgFOyQOycOmXOsXOdIOkHOMEOMkOWWHBNHXNHXWHNXHDuHDRHSuHSRHHoHhkHmRHdRHkQHlcHlRHwBHWcgAEgAggAkgBNgBQgBEgXOgYcgLXgHjgyQgiBgsFgdagMYgWSgFQgFEVBTVXEVKBVKNVKDVKYVKRVNBVNYVDBVDxVSBVSRVCjVGNVLXVIFVhBVhcVsXVdRVbRVlRhBYhKYhDYhGShxWhmNhdahdkhbRhjohMXhTRxAXxXSxKBxNBxEQxeNxeQxhXxsFxdbxlHxjcxFBxFNxFQxFOxFoyNYyYoybcyMYuBQuBRuBruDMuCouHBudQukkuoBulVuMXuFEmCYmCRmpRmeDmiMmjdmTFmFQiADiBOiaRiKRiNBiNRiSFiGkiGFiERipRiLFiIFihYibHijBijEiMXiWBiFBiFCUBQUXFUaRUNDUNcUNRUNFUDBUSHUCDUGBUGFUEqULNULoUIRUeEUeYUgBUhFUuRUiFUsXUdFUkHUbBUjSUjYUwXUMDUcHURdUTBUrBUrXUrQZAFZXZZaRZKFZNBZQFZCXZGBZYdZpBZLDZIFZHXZHNZeQZVRZVFZmXZiBZvFZdFZkFZbHZbFZwXZcCZcRZRBvBQvBGvBLvBWvCovMYsAFsBDsaRsKFsNFsDrsSHsSFsCXsCRsEBsEHsEfspBsLBsLDsIgsIRseGsbRsFBsFQsFSdNBdSRdCVdGHdYDdHcdVbdySduDdsXdlRdwXdWYdWcdWRkBMkXOkaRkNIkNFkSFkCFkYBkpRkeNkgBkhVkmXksFklVkMBkWDkFNoBNoaQoaFoNBoNXoNaoNEoSRoEroYXoYCoYbopRopFomXojkowXorFbBEbEIbdBbjYlaRlDElMXlFDjKjjSRjGBjYBjYkjpRjLXjIBjOFjeVjbRjwBnXQnSHnpFnLXnINnMBnTRwXBwXNwXYwNFwQFwSBwGFwLXwLDweNwgBwuHwjDwnXMBXMpFMIBMeNMTHcaQcNBcDHcSFcCXcpBcLXcLDcgFcuFcnXcwXccDcTQcrFTQErXNrCHrpFrgFrbFrTHrFcWNYWNbWEHWMXWTR\",\n    // 5-kana words\n    \"ABGHABIJAEAVAYJQALZJAIaRAHNXAHdcAHbRAZJMAZJRAZTRAdVJAklmAbcNAjdRAMnRAMWYAWpRAWgRAFgBAFhBAFdcBNJBBNJDBQKBBQhcBQlmBDEJBYJkBYJTBpNBBpJFBIJBBIJDBIcABOKXBOEJBOVJBOiJBOZJBepBBeLXBeIFBegBBgGJBVJXBuocBiJRBUJQBlXVBlITBwNFBMYVBcqXBTlmBWNFBWiJBWnRBFGHBFwXXKGJXNJBXNZJXDTTXSHSXSVRXSlHXCJDXGQJXEhXXYQJXYbRXOfXXeNcXVJFXhQJXhEJXdTRXjdXXMhBXcQTXRGBXTEBXTnQXFCXXFOFXFgFaBaFaBNJaBCJaBpBaBwXaNJKaNJDaQIBaDpRaEPDaHMFamDJalEJaMZJaFaFaFNBaFQJaFLDaFVHKBCYKBEBKBHDKXaFKXGdKXEJKXpHKXIBKXZDKXwXKKwLKNacKNYJKNJoKNWcKDGdKDTRKChXKGaRKGhBKGbRKEBTKEaRKEPTKLMDKLWRKOHDKVJcKdBcKlIBKlOPKFSBKFEPKFpFNBNJNJBQNBGHNBEPNBHXNBgFNBVXNBZDNBsXNBwXNNaRNNJDNNJENNJkNDCJNDVDNGJRNJiDNZJNNsCJNJFNNFSBNFCXNFEPNFLXNFIFQJBFQCaRQJEQQLJDQLJFQIaRQOqXQHaFQHHQQVJXQVJDQhNJQmEIQZJFQsJXQJrFQWbRDJABDBYJDXNFDXCXDXLXDXZDDXsJDQqXDSJFDJCXDEPkDEqXDYmQDpSJDOCkDOGQDHEIDVJDDuDuDWEBDJFgSBNDSBSFSBGHSBIBSBTQSKVYSJQNSJQiSJCXSEqXSJYVSIiJSOMYSHAHSHaQSeCFSepQSegBSHdHSHrFShSJSJuHSJUFSkNRSrSrSWEBSFaHSJFQSFCXSFGDSFYXSFODSFgBSFVXSFhBSFxFSFkFSFbBSFMFCADdCJXBCXaFCXKFCXNFCXCXCXGBCXEJCXYBCXLDCXIBCXOPCXHXCXgBCXhBCXiBCXlDCXcHCJNBCJNFCDCJCDGBCDVXCDhBCDiDCDJdCCmNCpJFCIaRCOqXCHCHCHZJCViJCuCuCmddCJiFCdNBCdHhClEJCnUJCreSCWlgCWTRCFBFCFNBCFYBCFVFCFhFCFdSCFTBCFWDGBNBGBQFGJBCGBEqGBpBGBgQGNBEGNJYGNkOGNJRGDUFGJpQGHaBGJeNGJeEGVBlGVKjGiJDGvJHGsVJGkEBGMIJGWjNGFBFGFCXGFGBGFYXGFpBGFMFEASJEAWpEJNFECJVEIXSEIQJEOqXEOcFEeNcEHEJEHlFEJgFEhlmEmDJEmZJEiMBEUqXEoSREPBFEPXFEPKFEPSFEPEFEPpFEPLXEPIBEJPdEPcFEPTBEJnXEqlHEMpREFCXEFODEFcFYASJYJAFYBaBYBVXYXpFYDhBYCJBYJGFYYbRYeNcYJeVYiIJYZJcYvJgYvJRYJsXYsJFYMYMYreVpBNHpBEJpBwXpQxFpYEJpeNDpJeDpeSFpeCHpHUJpHbBpHcHpmUJpiiJpUJrpsJuplITpFaBpFQqpFGBpFEfpFYBpFpBpFLJpFIDpFgBpFVXpFyQpFuFpFlFpFjDpFnXpFwXpJFMpFTBLXCJLXEFLXhFLXUJLXbFLalmLNJBLSJQLCLCLGJBLLDJLHaFLeNFLeSHLeCXLepFLhaRLZsJLsJDLsJrLocaLlLlLMdbLFNBLFSBLFEHLFkFIBBFIBXFIBaQIBKXIBSFIBpHIBLXIBgBIBhBIBuHIBmXIBiFIBZXIBvFIBbFIBjQIBwXIBWFIKTRIQUJIDGFICjQIYSRIINXIJeCIVaRImEkIZJFIvJRIsJXIdCJIJoRIbBQIjYBIcqXITFVIreVIFKFIFSFIFCJIFGFIFLDIFIBIJFOIFgBIFVXIJFhIFxFIFmXIFdHIFbBIJFrIJFWOBGBOQfXOOKjOUqXOfXBOqXEOcqXORVJOFIBOFlDHBIOHXiFHNTRHCJXHIaRHHJDHHEJHVbRHZJYHbIBHRsJHRkDHWlmgBKFgBSBgBCDgBGHgBpBgBIBgBVJgBuBgBvFgKDTgQVXgDUJgGSJgOqXgmUMgZIJgTUJgWIEgFBFgFNBgFDJgFSFgFGBgFYXgJFOgFgQgFVXgFhBgFbHgJFWVJABVQKcVDgFVOfXVeDFVhaRVmGdViJYVMaRVFNHhBNDhBCXhBEqhBpFhBLXhNJBhSJRheVXhhKEhxlmhZIJhdBQhkIJhbMNhMUJhMZJxNJgxQUJxDEkxDdFxSJRxplmxeSBxeCXxeGFxeYXxepQxegBxWVcxFEQxFLXxFIBxFgBxFxDxFZtxFdcxFbBxFwXyDJXyDlcuASJuDJpuDIBuCpJuGSJuIJFueEFuZIJusJXudWEuoIBuWGJuFBcuFKEuFNFuFQFuFDJuFGJuFVJuFUtuFdHuFTBmBYJmNJYmQhkmLJDmLJomIdXmiJYmvJRmsJRmklmmMBymMuCmclmmcnQiJABiJBNiJBDiBSFiBCJiBEFiBYBiBpFiBLXiBTHiJNciDEfiCZJiECJiJEqiOkHiHKFieNDiHJQieQcieDHieSFieCXieGFieEFieIHiegFihUJixNoioNXiFaBiFKFiFNDiFEPiFYXitFOitFHiFgBiFVEiFmXiFitiFbBiFMFiFrFUCXQUIoQUIJcUHQJUeCEUHwXUUJDUUqXUdWcUcqXUrnQUFNDUFSHUFCFUFEfUFLXUtFOZBXOZXSBZXpFZXVXZEQJZEJkZpDJZOqXZeNHZeCDZUqXZFBQZFEHZFLXvBAFvBKFvBCXvBEPvBpHvBIDvBgFvBuHvQNJvFNFvFGBvFIBvJFcsXCDsXLXsXsXsXlFsXcHsQqXsJQFsEqXseIFsFEHsFjDdBxOdNpRdNJRdEJbdpJRdhZJdnSJdrjNdFNJdFQHdFhNkNJDkYaRkHNRkHSRkVbRkuMRkjSJkcqDoSJFoEiJoYZJoOfXohEBoMGQocqXbBAFbBXFbBaFbBNDbBGBbBLXbBTBbBWDbGJYbIJHbFQqbFpQlDgQlOrFlVJRjGEBjZJRnXvJnXbBnEfHnOPDngJRnxfXnUJWwXEJwNpJwDpBwEfXwrEBMDCJMDGHMDIJMLJDcQGDcQpHcqXccqNFcqCXcFCJRBSBRBGBRBEJRBpQTBNFTBQJTBpBTBVXTFABTFSBTFCFTFGBTFMDrXCJrXLDrDNJrEfHrFQJrFitWNjdWNTR\",\n    // 6-kana words\n    \"AKLJMANOPFASNJIAEJWXAYJNRAIIbRAIcdaAeEfDAgidRAdjNYAMYEJAMIbRAFNJBAFpJFBBIJYBDZJFBSiJhBGdEBBEJfXBEJqXBEJWRBpaUJBLXrXBIYJMBOcfXBeEfFBestXBjNJRBcDJOBFEqXXNvJRXDMBhXCJNYXOAWpXONJWXHDEBXeIaRXhYJDXZJSJXMDJOXcASJXFVJXaBQqXaBZJFasXdQaFSJQaFEfXaFpJHaFOqXKBNSRKXvJBKQJhXKEJQJKEJGFKINJBKIJjNKgJNSKVElmKVhEBKiJGFKlBgJKjnUJKwsJYKMFIJKFNJDKFIJFKFOfXNJBSFNJBCXNBpJFNJBvQNJBMBNJLJXNJOqXNJeCXNJeGFNdsJCNbTKFNwXUJQNFEPQDiJcQDMSJQSFpBQGMQJQJeOcQyCJEQUJEBQJFBrQFEJqDXDJFDJXpBDJXIMDGiJhDIJGRDJeYcDHrDJDVXgFDkAWpDkIgRDjDEqDMvJRDJFNFDJFIBSKclmSJQOFSJQVHSJQjDSJGJBSJGJFSECJoSHEJqSJHTBSJVJDSViJYSZJNBSJsJDSFSJFSFEfXSJFLXCBUJVCJXSBCJXpBCXVJXCJXsXCJXdFCJNJHCLIJgCHiJFCVNJMChCJhCUHEJCsJTRCJdYcCoQJCCFEfXCFIJgCFUJxCFstFGJBaQGJBIDGQJqXGYJNRGJHKFGeQqDGHEJFGJeLXGHIiJGHdBlGUJEBGkIJTGFQPDGJFEqEAGegEJIJBEJVJXEhQJTEiJNcEJZJFEJoEqEjDEqEPDsXEPGJBEPOqXEPeQFEfDiDEJfEFEfepQEfMiJEqXNBEqDIDEqeSFEqVJXEMvJRYXNJDYXEJHYKVJcYYJEBYJeEcYJUqXYFpJFYFstXpAZJMpBSJFpNBNFpeQPDpHLJDpHIJFpHgJFpeitFpHZJFpJFADpFSJFpJFCJpFOqXpFitBpJFZJLXIJFLIJgRLVNJWLVHJMLwNpJLFGJBLFLJDLFOqXLJFUJIBDJXIBGJBIJBYQIJBIBIBOqXIBcqDIEGJFILNJTIIJEBIOiJhIJeNBIJeIBIhiJIIWoTRIJFAHIJFpBIJFuHIFUtFIJFTHOSBYJOEcqXOHEJqOvBpFOkVJrObBVJOncqDOcNJkHhNJRHuHJuHdMhBgBUqXgBsJXgONJBgHNJDgHHJQgJeitgHsJXgJyNagyDJBgZJDrgsVJQgkEJNgkjSJgJFAHgFCJDgFZtMVJXNFVXQfXVJXDJVXoQJVQVJQVDEfXVDvJHVEqNFVeQfXVHpJFVHxfXVVJSRVVmaRVlIJOhCXVJhHjYkhxCJVhWVUJhWiJcxBNJIxeEqDxfXBFxcFEPxFSJFxFYJXyBDQJydaUJyFOPDuYCJYuLvJRuHLJXuZJLDuFOPDuFZJHuFcqXmKHJdmCQJcmOsVJiJAGFitLCFieOfXiestXiZJMEikNJQirXzFiFQqXiFIJFiFZJFiFvtFUHpJFUteIcUteOcUVCJkUhdHcUbEJEUJqXQUMNJhURjYkUFitFZDGJHZJIxDZJVJXZJFDJZJFpQvBNJBvBSJFvJxBrseQqDsVFVJdFLJDkEJNBkmNJYkFLJDoQJOPoGsJRoEAHBoEJfFbBQqDbBZJHbFVJXlFIJBjYIrXjeitcjjCEBjWMNBwXQfXwXOaFwDsJXwCJTRwrCZJMDNJQcDDJFcqDOPRYiJFTBsJXTQIJBTFEfXTFLJDrXEJFrEJXMrFZJFWEJdEWYTlm\",\n    // 7-kana words\n    \"ABCDEFACNJTRAMBDJdAcNJVXBLNJEBXSIdWRXErNJkXYDJMBXZJCJaXMNJaYKKVJKcKDEJqXKDcNJhKVJrNYKbgJVXKFVJSBNBYBwDNJeQfXNJeEqXNhGJWENJFiJRQlIJbEQJfXxDQqXcfXQFNDEJQFwXUJDYcnUJDJIBgQDIUJTRDJFEqDSJQSJFSJQIJFSOPeZtSJFZJHCJXQfXCTDEqFGJBSJFGJBOfXGJBcqXGJHNJDGJRLiJEJfXEqEJFEJPEFpBEJYJBZJFYBwXUJYiJMEBYJZJyTYTONJXpQMFXFpeGIDdpJFstXpJFcPDLBVSJRLHQJqXLJFZJFIJBNJDIJBUqXIBkFDJIJEJPTIYJGWRIJeQPDIJeEfHIJFsJXOqGDSFHXEJqXgJCsJCgGQJqXgdQYJEgFMFNBgJFcqDVJwXUJVJFZJchIgJCCxOEJqXxOwXUJyDJBVRuscisciJBiJBieUtqXiJFDJkiFsJXQUGEZJcUJFsJXZtXIrXZDZJDrZJFNJDZJFstXvJFQqXvJFCJEsJXQJqkhkNGBbDJdTRbYJMEBlDwXUJMEFiJFcfXNJDRcNJWMTBLJXC\",\n    // 8-kana words\n    \"BraFUtHBFSJFdbNBLJXVJQoYJNEBSJBEJfHSJHwXUJCJdAZJMGjaFVJXEJPNJBlEJfFiJFpFbFEJqIJBVJCrIBdHiJhOPFChvJVJZJNJWxGFNIFLueIBQJqUHEJfUFstOZJDrlXEASJRlXVJXSFwVJNJWD\",\n    // 9-kana words\n    \"QJEJNNJDQJEJIBSFQJEJxegBQJEJfHEPSJBmXEJFSJCDEJqXLXNJFQqXIcQsFNJFIFEJqXUJgFsJXIJBUJEJfHNFvJxEqXNJnXUJFQqD\",\n    // 10-kana words\n    \"IJBEJqXZJ\"\n];\n// Maps each character into its kana value (the index)\nvar mapping = \"~~AzB~X~a~KN~Q~D~S~C~G~E~Y~p~L~I~O~eH~g~V~hxyumi~~U~~Z~~v~~s~~dkoblPjfnqwMcRTr~W~~~F~~~~~Jt\";\nvar wordlist = null;\nfunction hex(word) {\n    return (0, bytes_1.hexlify)((0, strings_1.toUtf8Bytes)(word));\n}\nvar KiYoKu = \"0xe3818de38284e3818f\";\nvar KyoKu = \"0xe3818de38283e3818f\";\nfunction loadWords(lang) {\n    if (wordlist !== null) {\n        return;\n    }\n    wordlist = [];\n    // Transforms for normalizing (sort is a not quite UTF-8)\n    var transform = {};\n    // Delete the diacritic marks\n    transform[(0, strings_1.toUtf8String)([227, 130, 154])] = false;\n    transform[(0, strings_1.toUtf8String)([227, 130, 153])] = false;\n    // Some simple transforms that sort out most of the order\n    transform[(0, strings_1.toUtf8String)([227, 130, 133])] = (0, strings_1.toUtf8String)([227, 130, 134]);\n    transform[(0, strings_1.toUtf8String)([227, 129, 163])] = (0, strings_1.toUtf8String)([227, 129, 164]);\n    transform[(0, strings_1.toUtf8String)([227, 130, 131])] = (0, strings_1.toUtf8String)([227, 130, 132]);\n    transform[(0, strings_1.toUtf8String)([227, 130, 135])] = (0, strings_1.toUtf8String)([227, 130, 136]);\n    // Normalize words using the transform\n    function normalize(word) {\n        var result = \"\";\n        for (var i = 0; i < word.length; i++) {\n            var kana = word[i];\n            var target = transform[kana];\n            if (target === false) {\n                continue;\n            }\n            if (target) {\n                kana = target;\n            }\n            result += kana;\n        }\n        return result;\n    }\n    // Sort how the Japanese list is sorted\n    function sortJapanese(a, b) {\n        a = normalize(a);\n        b = normalize(b);\n        if (a < b) {\n            return -1;\n        }\n        if (a > b) {\n            return 1;\n        }\n        return 0;\n    }\n    // Load all the words\n    for (var length_1 = 3; length_1 <= 9; length_1++) {\n        var d = data[length_1 - 3];\n        for (var offset = 0; offset < d.length; offset += length_1) {\n            var word = [];\n            for (var i = 0; i < length_1; i++) {\n                var k = mapping.indexOf(d[offset + i]);\n                word.push(227);\n                word.push((k & 0x40) ? 130 : 129);\n                word.push((k & 0x3f) + 128);\n            }\n            wordlist.push((0, strings_1.toUtf8String)(word));\n        }\n    }\n    wordlist.sort(sortJapanese);\n    // For some reason kyoku and kiyoku are flipped in node (!!).\n    // The order SHOULD be:\n    //   - kyoku\n    //   - kiyoku\n    // This should ignore \"if\", but that doesn't work here??\n    /* istanbul ignore next */\n    if (hex(wordlist[442]) === KiYoKu && hex(wordlist[443]) === KyoKu) {\n        var tmp = wordlist[442];\n        wordlist[442] = wordlist[443];\n        wordlist[443] = tmp;\n    }\n    // Verify the computed list matches the official list\n    /* istanbul ignore if */\n    if (wordlist_1.Wordlist.check(lang) !== \"0xcb36b09e6baa935787fd762ce65e80b0c6a8dabdfbc3a7f86ac0e2c4fd111600\") {\n        wordlist = null;\n        throw new Error(\"BIP39 Wordlist for ja (Japanese) FAILED\");\n    }\n}\nvar LangJa = /** @class */ (function (_super) {\n    __extends(LangJa, _super);\n    function LangJa() {\n        return _super.call(this, \"ja\") || this;\n    }\n    LangJa.prototype.getWord = function (index) {\n        loadWords(this);\n        return wordlist[index];\n    };\n    LangJa.prototype.getWordIndex = function (word) {\n        loadWords(this);\n        return wordlist.indexOf(word);\n    };\n    LangJa.prototype.split = function (mnemonic) {\n        wordlist_1.logger.checkNormalize();\n        return mnemonic.split(/(?:\\u3000| )+/g);\n    };\n    LangJa.prototype.join = function (words) {\n        return words.join(\"\\u3000\");\n    };\n    return LangJa;\n}(wordlist_1.Wordlist));\nvar langJa = new LangJa();\nexports.langJa = langJa;\nwordlist_1.Wordlist.register(langJa);\n//# sourceMappingURL=lang-ja.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.langKo = void 0;\nvar strings_1 = require(\"@ethersproject/strings\");\nvar wordlist_1 = require(\"./wordlist\");\nvar data = [\n    \"OYAa\",\n    \"ATAZoATBl3ATCTrATCl8ATDloATGg3ATHT8ATJT8ATJl3ATLlvATLn4ATMT8ATMX8ATMboATMgoAToLbAToMTATrHgATvHnAT3AnAT3JbAT3MTAT8DbAT8JTAT8LmAT8MYAT8MbAT#LnAUHT8AUHZvAUJXrAUJX8AULnrAXJnvAXLUoAXLgvAXMn6AXRg3AXrMbAX3JTAX3QbAYLn3AZLgvAZrSUAZvAcAZ8AaAZ8AbAZ8AnAZ8HnAZ8LgAZ8MYAZ8MgAZ8OnAaAboAaDTrAaFTrAaJTrAaJboAaLVoAaMXvAaOl8AaSeoAbAUoAbAg8AbAl4AbGnrAbMT8AbMXrAbMn4AbQb8AbSV8AbvRlAb8AUAb8AnAb8HgAb8JTAb8NTAb8RbAcGboAcLnvAcMT8AcMX8AcSToAcrAaAcrFnAc8AbAc8MgAfGgrAfHboAfJnvAfLV8AfLkoAfMT8AfMnoAfQb8AfScrAfSgrAgAZ8AgFl3AgGX8AgHZvAgHgrAgJXoAgJX8AgJboAgLZoAgLn4AgOX8AgoATAgoAnAgoCUAgoJgAgoLXAgoMYAgoSeAgrDUAgrJTAhrFnAhrLjAhrQgAjAgoAjJnrAkMX8AkOnoAlCTvAlCV8AlClvAlFg4AlFl6AlFn3AloSnAlrAXAlrAfAlrFUAlrFbAlrGgAlrOXAlvKnAlvMTAl3AbAl3MnAnATrAnAcrAnCZ3AnCl8AnDg8AnFboAnFl3AnHX4AnHbrAnHgrAnIl3AnJgvAnLXoAnLX4AnLbrAnLgrAnLhrAnMXoAnMgrAnOn3AnSbrAnSeoAnvLnAn3OnCTGgvCTSlvCTvAUCTvKnCTvNTCT3CZCT3GUCT3MTCT8HnCUCZrCULf8CULnvCU3HnCU3JUCY6NUCbDb8CbFZoCbLnrCboOTCboScCbrFnCbvLnCb8AgCb8HgCb$LnCkLfoClBn3CloDUDTHT8DTLl3DTSU8DTrAaDTrLXDTrLjDTrOYDTrOgDTvFXDTvFnDT3HUDT3LfDUCT9DUDT4DUFVoDUFV8DUFkoDUGgrDUJnrDULl8DUMT8DUMXrDUMX4DUMg8DUOUoDUOgvDUOg8DUSToDUSZ8DbDXoDbDgoDbGT8DbJn3DbLg3DbLn4DbMXrDbMg8DbOToDboJXGTClvGTDT8GTFZrGTLVoGTLlvGTLl3GTMg8GTOTvGTSlrGToCUGTrDgGTrJYGTrScGTtLnGTvAnGTvQgGUCZrGUDTvGUFZoGUHXrGULnvGUMT8GUoMgGXoLnGXrMXGXrMnGXvFnGYLnvGZOnvGZvOnGZ8LaGZ8LmGbAl3GbDYvGbDlrGbHX3GbJl4GbLV8GbLn3GbMn4GboJTGboRfGbvFUGb3GUGb4JnGgDX3GgFl$GgJlrGgLX6GgLZoGgLf8GgOXoGgrAgGgrJXGgrMYGgrScGgvATGgvOYGnAgoGnJgvGnLZoGnLg3GnLnrGnQn8GnSbrGnrMgHTClvHTDToHTFT3HTQT8HToJTHToJgHTrDUHTrMnHTvFYHTvRfHT8MnHT8SUHUAZ8HUBb4HUDTvHUoMYHXFl6HXJX6HXQlrHXrAUHXrMnHXrSbHXvFYHXvKXHX3LjHX3MeHYvQlHZrScHZvDbHbAcrHbFT3HbFl3HbJT8HbLTrHbMT8HbMXrHbMbrHbQb8HbSX3HboDbHboJTHbrFUHbrHgHbrJTHb8JTHb8MnHb8QgHgAlrHgDT3HgGgrHgHgrHgJTrHgJT8HgLX@HgLnrHgMT8HgMX8HgMboHgOnrHgQToHgRg3HgoHgHgrCbHgrFnHgrLVHgvAcHgvAfHnAloHnCTrHnCnvHnGTrHnGZ8HnGnvHnJT8HnLf8HnLkvHnMg8HnRTrITvFUITvFnJTAXrJTCV8JTFT3JTFT8JTFn4JTGgvJTHT8JTJT8JTJXvJTJl3JTJnvJTLX4JTLf8JTLhvJTMT8JTMXrJTMnrJTObrJTQT8JTSlvJT8DUJT8FkJT8MTJT8OXJT8OgJT8QUJT8RfJUHZoJXFT4JXFlrJXGZ8JXGnrJXLV8JXLgvJXMXoJXMX3JXNboJXPlvJXoJTJXoLkJXrAXJXrHUJXrJgJXvJTJXvOnJX4KnJYAl3JYJT8JYLhvJYQToJYrQXJY6NUJbAl3JbCZrJbDloJbGT8JbGgrJbJXvJbJboJbLf8JbLhrJbLl3JbMnvJbRg8JbSZ8JboDbJbrCZJbrSUJb3KnJb8LnJfRn8JgAXrJgCZrJgDTrJgGZrJgGZ8JgHToJgJT8JgJXoJgJgvJgLX4JgLZ3JgLZ8JgLn4JgMgrJgMn4JgOgvJgPX6JgRnvJgSToJgoCZJgoJbJgoMYJgrJXJgrJgJgrLjJg6MTJlCn3JlGgvJlJl8Jl4AnJl8FnJl8HgJnAToJnATrJnAbvJnDUoJnGnrJnJXrJnJXvJnLhvJnLnrJnLnvJnMToJnMT8JnMXvJnMX3JnMg8JnMlrJnMn4JnOX8JnST4JnSX3JnoAgJnoAnJnoJTJnoObJnrAbJnrAkJnrHnJnrJTJnrJYJnrOYJnrScJnvCUJnvFaJnvJgJnvJnJnvOYJnvQUJnvRUJn3FnJn3JTKnFl3KnLT6LTDlvLTMnoLTOn3LTRl3LTSb4LTSlrLToAnLToJgLTrAULTrAcLTrCULTrHgLTrMgLT3JnLULnrLUMX8LUoJgLVATrLVDTrLVLb8LVoJgLV8MgLV8RTLXDg3LXFlrLXrCnLXrLXLX3GTLX4GgLX4OYLZAXrLZAcrLZAgrLZAhrLZDXyLZDlrLZFbrLZFl3LZJX6LZJX8LZLc8LZLnrLZSU8LZoJTLZoJnLZrAgLZrAnLZrJYLZrLULZrMgLZrSkLZvAnLZvGULZvJeLZvOTLZ3FZLZ4JXLZ8STLZ8ScLaAT3LaAl3LaHT8LaJTrLaJT8LaJXrLaJgvLaJl4LaLVoLaMXrLaMXvLaMX8LbClvLbFToLbHlrLbJn4LbLZ3LbLhvLbMXrLbMnoLbvSULcLnrLc8HnLc8MTLdrMnLeAgoLeOgvLeOn3LfAl3LfLnvLfMl3LfOX8Lf8AnLf8JXLf8LXLgJTrLgJXrLgJl8LgMX8LgRZrLhCToLhrAbLhrFULhrJXLhvJYLjHTrLjHX4LjJX8LjLhrLjSX3LjSZ4LkFX4LkGZ8LkGgvLkJTrLkMXoLkSToLkSU8LkSZ8LkoOYLl3FfLl3MgLmAZrLmCbrLmGgrLmHboLmJnoLmJn3LmLfoLmLhrLmSToLnAX6LnAb6LnCZ3LnCb3LnDTvLnDb8LnFl3LnGnrLnHZvLnHgvLnITvLnJT8LnJX8LnJlvLnLf8LnLg6LnLhvLnLnoLnMXrLnMg8LnQlvLnSbrLnrAgLnrAnLnrDbLnrFkLnrJdLnrMULnrOYLnrSTLnvAnLnvDULnvHgLnvOYLnvOnLn3GgLn4DULn4JTLn4JnMTAZoMTAloMTDb8MTFT8MTJnoMTJnrMTLZrMTLhrMTLkvMTMX8MTRTrMToATMTrDnMTrOnMT3JnMT4MnMT8FUMT8FaMT8FlMT8GTMT8GbMT8GnMT8HnMT8JTMT8JbMT8OTMUCl8MUJTrMUJU8MUMX8MURTrMUSToMXAX6MXAb6MXCZoMXFXrMXHXrMXLgvMXOgoMXrAUMXrAnMXrHgMXrJYMXrJnMXrMTMXrMgMXrOYMXrSZMXrSgMXvDUMXvOTMX3JgMX3OTMX4JnMX8DbMX8FnMX8HbMX8HgMX8HnMX8LbMX8MnMX8OnMYAb8MYGboMYHTvMYHX4MYLTrMYLnvMYMToMYOgvMYRg3MYSTrMbAToMbAXrMbAl3MbAn8MbGZ8MbJT8MbJXrMbMXvMbMX8MbMnoMbrMUMb8AfMb8FbMb8FkMcJXoMeLnrMgFl3MgGTvMgGXoMgGgrMgGnrMgHT8MgHZrMgJnoMgLnrMgLnvMgMT8MgQUoMgrHnMgvAnMg8HgMg8JYMg8LfMloJnMl8ATMl8AXMl8JYMnAToMnAT4MnAZ8MnAl3MnAl4MnCl8MnHT8MnHg8MnJnoMnLZoMnLhrMnMXoMnMX3MnMnrMnOgvMnrFbMnrFfMnrFnMnrNTMnvJXNTMl8OTCT3OTFV8OTFn3OTHZvOTJXrOTOl3OT3ATOT3JUOT3LZOT3LeOT3MbOT8ATOT8AbOT8AgOT8MbOUCXvOUMX3OXHXvOXLl3OXrMUOXvDbOX6NUOX8JbOYFZoOYLbrOYLkoOYMg8OYSX3ObHTrObHT4ObJgrObLhrObMX3ObOX8Ob8FnOeAlrOeJT8OeJXrOeJnrOeLToOeMb8OgJXoOgLXoOgMnrOgOXrOgOloOgoAgOgoJbOgoMYOgoSTOg8AbOjLX4OjMnoOjSV8OnLVoOnrAgOn3DUPXQlrPXvFXPbvFTPdAT3PlFn3PnvFbQTLn4QToAgQToMTQULV8QURg8QUoJnQXCXvQbFbrQb8AaQb8AcQb8FbQb8MYQb8ScQeAlrQeLhrQjAn3QlFXoQloJgQloSnRTLnvRTrGURTrJTRUJZrRUoJlRUrQnRZrLmRZrMnRZrSnRZ8ATRZ8JbRZ8ScRbMT8RbST3RfGZrRfMX8RfMgrRfSZrRnAbrRnGT8RnvJgRnvLfRnvMTRn8AaSTClvSTJgrSTOXrSTRg3STRnvSToAcSToAfSToAnSToHnSToLjSToMTSTrAaSTrEUST3BYST8AgST8LmSUAZvSUAgrSUDT4SUDT8SUGgvSUJXoSUJXvSULTrSU8JTSU8LjSV8AnSV8JgSXFToSXLf8SYvAnSZrDUSZrMUSZrMnSZ8HgSZ8JTSZ8JgSZ8MYSZ8QUSaQUoSbCT3SbHToSbQYvSbSl4SboJnSbvFbSb8HbSb8JgSb8OTScGZrScHgrScJTvScMT8ScSToScoHbScrMTScvAnSeAZrSeAcrSeHboSeJUoSeLhrSeMT8SeMXrSe6JgSgHTrSkJnoSkLnvSk8CUSlFl3SlrSnSl8GnSmAboSmGT8SmJU8\",\n    \"ATLnDlATrAZoATrJX4ATrMT8ATrMX4ATrRTrATvDl8ATvJUoATvMl8AT3AToAT3MX8AT8CT3AT8DT8AT8HZrAT8HgoAUAgFnAUCTFnAXoMX8AXrAT8AXrGgvAXrJXvAXrOgoAXvLl3AZvAgoAZvFbrAZvJXoAZvJl8AZvJn3AZvMX8AZvSbrAZ8FZoAZ8LZ8AZ8MU8AZ8OTvAZ8SV8AZ8SX3AbAgFZAboJnoAbvGboAb8ATrAb8AZoAb8AgrAb8Al4Ab8Db8Ab8JnoAb8LX4Ab8LZrAb8LhrAb8MT8Ab8OUoAb8Qb8Ab8ST8AcrAUoAcrAc8AcrCZ3AcrFT3AcrFZrAcrJl4AcrJn3AcrMX3AcrOTvAc8AZ8Ac8MT8AfAcJXAgoFn4AgoGgvAgoGnrAgoLc8AgoMXoAgrLnrAkrSZ8AlFXCTAloHboAlrHbrAlrLhrAlrLkoAl3CZrAl3LUoAl3LZrAnrAl4AnrMT8An3HT4BT3IToBX4MnvBb!Ln$CTGXMnCToLZ4CTrHT8CT3JTrCT3RZrCT#GTvCU6GgvCU8Db8CU8GZrCU8HT8CboLl3CbrGgrCbrMU8Cb8DT3Cb8GnrCb8LX4Cb8MT8Cb8ObrCgrGgvCgrKX4Cl8FZoDTrAbvDTrDboDTrGT6DTrJgrDTrMX3DTrRZrDTrRg8DTvAVvDTvFZoDT3DT8DT3Ln3DT4HZrDT4MT8DT8AlrDT8MT8DUAkGbDUDbJnDYLnQlDbDUOYDbMTAnDbMXSnDboAT3DboFn4DboLnvDj6JTrGTCgFTGTGgFnGTJTMnGTLnPlGToJT8GTrCT3GTrLVoGTrLnvGTrMX3GTrMboGTvKl3GZClFnGZrDT3GZ8DTrGZ8FZ8GZ8MXvGZ8On8GZ8ST3GbCnQXGbMbFnGboFboGboJg3GboMXoGb3JTvGb3JboGb3Mn6Gb3Qb8GgDXLjGgMnAUGgrDloGgrHX4GgrSToGgvAXrGgvAZvGgvFbrGgvLl3GgvMnvGnDnLXGnrATrGnrMboGnuLl3HTATMnHTAgCnHTCTCTHTrGTvHTrHTvHTrJX8HTrLl8HTrMT8HTrMgoHTrOTrHTuOn3HTvAZrHTvDTvHTvGboHTvJU8HTvLl3HTvMXrHTvQb4HT4GT6HT4JT8HT4Jb#HT8Al3HT8GZrHT8GgrHT8HX4HT8Jb8HT8JnoHT8LTrHT8LgvHT8SToHT8SV8HUoJUoHUoJX8HUoLnrHXrLZoHXvAl3HX3LnrHX4FkvHX4LhrHX4MXoHX4OnoHZrAZ8HZrDb8HZrGZ8HZrJnrHZvGZ8HZvLnvHZ8JnvHZ8LhrHbCXJlHbMTAnHboJl4HbpLl3HbrJX8HbrLnrHbrMnvHbvRYrHgoSTrHgrFV8HgrGZ8HgrJXoHgrRnvHgvBb!HgvGTrHgvHX4HgvHn!HgvLTrHgvSU8HnDnLbHnFbJbHnvDn8Hn6GgvHn!BTvJTCTLnJTQgFnJTrAnvJTrLX4JTrOUoJTvFn3JTvLnrJTvNToJT3AgoJT3Jn4JT3LhvJT3ObrJT8AcrJT8Al3JT8JT8JT8JnoJT8LX4JT8LnrJT8MX3JT8Rg3JT8Sc8JUoBTvJU8AToJU8GZ8JU8GgvJU8JTrJU8JXrJU8JnrJU8LnvJU8ScvJXHnJlJXrGgvJXrJU8JXrLhrJXrMT8JXrMXrJXrQUoJXvCTvJXvGZ8JXvGgrJXvQT8JX8Ab8JX8DT8JX8GZ8JX8HZvJX8LnrJX8MT8JX8MXoJX8MnvJX8ST3JYGnCTJbAkGbJbCTAnJbLTAcJboDT3JboLb6JbrAnvJbrCn3JbrDl8JbrGboJbrIZoJbrJnvJbrMnvJbrQb4Jb8RZrJeAbAnJgJnFbJgScAnJgrATrJgvHZ8JgvMn4JlJlFbJlLiQXJlLjOnJlRbOlJlvNXoJlvRl3Jl4AcrJl8AUoJl8MnrJnFnMlJnHgGbJnoDT8JnoFV8JnoGgvJnoIT8JnoQToJnoRg3JnrCZ3JnrGgrJnrHTvJnrLf8JnrOX8JnvAT3JnvFZoJnvGT8JnvJl4JnvMT8JnvMX8JnvOXrJnvPX6JnvSX3JnvSZrJn3MT8Jn3MX8Jn3RTrLTATKnLTJnLTLTMXKnLTRTQlLToGb8LTrAZ8LTrCZ8LTrDb8LTrHT8LT3PX6LT4FZoLT$CTvLT$GgrLUvHX3LVoATrLVoAgoLVoJboLVoMX3LVoRg3LV8CZ3LV8FZoLV8GTvLXrDXoLXrFbrLXvAgvLXvFlrLXvLl3LXvRn6LX4Mb8LX8GT8LYCXMnLYrMnrLZoSTvLZrAZvLZrAloLZrFToLZrJXvLZrJboLZrJl4LZrLnrLZrMT8LZrOgvLZrRnvLZrST4LZvMX8LZvSlvLZ8AgoLZ8CT3LZ8JT8LZ8LV8LZ8LZoLZ8Lg8LZ8SV8LZ8SbrLZ$HT8LZ$Mn4La6CTvLbFbMnLbRYFTLbSnFZLboJT8LbrAT9LbrGb3LbrQb8LcrJX8LcrMXrLerHTvLerJbrLerNboLgrDb8LgrGZ8LgrHTrLgrMXrLgrSU8LgvJTrLgvLl3Lg6Ll3LhrLnrLhrMT8LhvAl4LiLnQXLkoAgrLkoJT8LkoJn4LlrSU8Ll3FZoLl3HTrLl3JX8Ll3JnoLl3LToLmLeFbLnDUFbLnLVAnLnrATrLnrAZoLnrAb8LnrAlrLnrGgvLnrJU8LnrLZrLnrLhrLnrMb8LnrOXrLnrSZ8LnvAb4LnvDTrLnvDl8LnvHTrLnvHbrLnvJT8LnvJU8LnvJbrLnvLhvLnvMX8LnvMb8LnvNnoLnvSU8Ln3Al3Ln4FZoLn4GT6Ln4JgvLn4LhrLn4MT8Ln4SToMToCZrMToJX8MToLX4MToLf8MToRg3MTrEloMTvGb6MT3BTrMT3Lb6MT8AcrMT8AgrMT8GZrMT8JnoMT8LnrMT8MX3MUOUAnMXAbFnMXoAloMXoJX8MXoLf8MXoLl8MXrAb8MXrDTvMXrGT8MXrGgrMXrHTrMXrLf8MXrMU8MXrOXvMXrQb8MXvGT8MXvHTrMXvLVoMX3AX3MX3Jn3MX3LhrMX3MX3MX4AlrMX4OboMX8GTvMX8GZrMX8GgrMX8JT8MX8JX8MX8LhrMX8MT8MYDUFbMYMgDbMbGnFfMbvLX4MbvLl3Mb8Mb8Mb8ST4MgGXCnMg8ATrMg8AgoMg8CZrMg8DTrMg8DboMg8HTrMg8JgrMg8LT8MloJXoMl8AhrMl8JT8MnLgAUMnoJXrMnoLX4MnoLhrMnoMT8MnrAl4MnrDb8MnrOTvMnrOgvMnrQb8MnrSU8MnvGgrMnvHZ8Mn3MToMn4DTrMn4LTrMn4Mg8NnBXAnOTFTFnOToAToOTrGgvOTrJX8OT3JXoOT6MTrOT8GgrOT8HTpOT8MToOUoHT8OUoJT8OUoLn3OXrAgoOXrDg8OXrMT8OXvSToOX6CTvOX8CZrOX8OgrOb6HgvOb8AToOb8MT8OcvLZ8OgvAlrOgvHTvOgvJTrOgvJnrOgvLZrOgvLn4OgvMT8OgvRTrOg8AZoOg8DbvOnrOXoOnvJn4OnvLhvOnvRTrOn3GgoOn3JnvOn6JbvOn8OTrPTGYFTPbBnFnPbGnDnPgDYQTPlrAnvPlrETvPlrLnvPlrMXvPlvFX4QTMTAnQTrJU8QYCnJlQYJlQlQbGTQbQb8JnrQb8LZoQb8LnvQb8MT8Qb8Ml8Qb8ST4QloAl4QloHZvQloJX8QloMn8QnJZOlRTrAZvRTrDTrRTvJn4RTvLhvRT4Jb8RZrAZrRZ8AkrRZ8JU8RZ8LV8RZ8LnvRbJlQXRg3GboRg3MnvRg8AZ8Rg8JboRg8Jl4RnLTCbRnvFl3RnvQb8SToAl4SToCZrSToFZoSToHXrSToJU8SToJgvSToJl4SToLhrSToMX3STrAlvSTrCT9STrCgrSTrGgrSTrHXrSTrHboSTrJnoSTrNboSTvLnrST4AZoST8Ab8ST8JT8SUoJn3SU6HZ#SU6JTvSU8Db8SU8HboSU8LgrSV8JT8SZrAcrSZrAl3SZrJT8SZrJnvSZrMT8SZvLUoSZ4FZoSZ8JnoSZ8RZrScoLnrScoMT8ScoMX8ScrAT4ScrAZ8ScrLZ8ScrLkvScvDb8ScvLf8ScvNToSgrFZrShvKnrSloHUoSloLnrSlrMXoSl8HgrSmrJUoSn3BX6\",\n    \"ATFlOn3ATLgrDYAT4MTAnAT8LTMnAYJnRTrAbGgJnrAbLV8LnAbvNTAnAeFbLg3AgOYMXoAlQbFboAnDboAfAnJgoJTBToDgAnBUJbAl3BboDUAnCTDlvLnCTFTrSnCYoQTLnDTwAbAnDUDTrSnDUHgHgrDX8LXFnDbJXAcrETvLTLnGTFTQbrGTMnGToGT3DUFbGUJlPX3GbQg8LnGboJbFnGb3GgAYGgAg8ScGgMbAXrGgvAbAnGnJTLnvGnvATFgHTDT6ATHTrDlJnHYLnMn8HZrSbJTHZ8LTFnHbFTJUoHgSeMT8HgrLjAnHgvAbAnHlFUrDlHnDgvAnHnHTFT3HnQTGnrJTAaMXvJTGbCn3JTOgrAnJXvAXMnJbMg8SnJbMnRg3Jb8LTMnJnAl3OnJnGYrQlJnJlQY3LTDlCn3LTJjLg3LTLgvFXLTMg3GTLV8HUOgLXFZLg3LXNXrMnLX8QXFnLX9AlMYLYLXPXrLZAbJU8LZDUJU8LZMXrSnLZ$AgFnLaPXrDULbFYrMnLbMn8LXLboJgJgLeFbLg3LgLZrSnLgOYAgoLhrRnJlLkCTrSnLkOnLhrLnFX%AYLnFZoJXLnHTvJbLnLloAbMTATLf8MTHgJn3MTMXrAXMT3MTFnMUITvFnMXFX%AYMXMXvFbMXrFTDbMYAcMX3MbLf8SnMb8JbFnMgMXrMTMgvAXFnMgvGgCmMnAloSnMnFnJTrOXvMXSnOX8HTMnObJT8ScObLZFl3ObMXCZoPTLgrQXPUFnoQXPU3RXJlPX3RkQXPbrJXQlPlrJbFnQUAhrDbQXGnCXvQYLnHlvQbLfLnvRTOgvJbRXJYrQlRYLnrQlRbLnrQlRlFT8JlRlFnrQXSTClCn3STHTrAnSTLZQlrSTMnGTrSToHgGbSTrGTDnSTvGXCnST3HgFbSU3HXAXSbAnJn3SbFT8LnScLfLnv\",\n    \"AT3JgJX8AT8FZoSnAT8JgFV8AT8LhrDbAZ8JT8DbAb8GgLhrAb8SkLnvAe8MT8SnAlMYJXLVAl3GYDTvAl3LfLnvBUDTvLl3CTOn3HTrCT3DUGgrCU8MT8AbCbFTrJUoCgrDb8MTDTLV8JX8DTLnLXQlDT8LZrSnDUQb8FZ8DUST4JnvDb8ScOUoDj6GbJl4GTLfCYMlGToAXvFnGboAXvLnGgAcrJn3GgvFnSToGnLf8JnvGn#HTDToHTLnFXJlHTvATFToHTvHTDToHTvMTAgoHT3STClvHT4AlFl6HT8HTDToHUoDgJTrHUoScMX3HbRZrMXoHboJg8LTHgDb8JTrHgMToLf8HgvLnLnoHnHn3HT4Hn6MgvAnJTJU8ScvJT3AaQT8JT8HTrAnJXrRg8AnJbAloMXoJbrATFToJbvMnoSnJgDb6GgvJgDb8MXoJgSX3JU8JguATFToJlPYLnQlJlQkDnLbJlQlFYJlJl8Lf8OTJnCTFnLbJnLTHXMnJnLXGXCnJnoFfRg3JnrMYRg3Jn3HgFl3KT8Dg8LnLTRlFnPTLTvPbLbvLVoSbrCZLXMY6HT3LXNU7DlrLXNXDTATLX8DX8LnLZDb8JU8LZMnoLhrLZSToJU8LZrLaLnrLZvJn3SnLZ8LhrSnLaJnoMT8LbFlrHTvLbrFTLnrLbvATLlvLb6OTFn3LcLnJZOlLeAT6Mn4LeJT3ObrLg6LXFlrLhrJg8LnLhvDlPX4LhvLfLnvLj6JTFT3LnFbrMXoLnQluCTvLnrQXCY6LnvLfLnvLnvMgLnvLnvSeLf8MTMbrJn3MT3JgST3MT8AnATrMT8LULnrMUMToCZrMUScvLf8MXoDT8SnMX6ATFToMX8AXMT8MX8FkMT8MX8HTrDUMX8ScoSnMYJT6CTvMgAcrMXoMg8SToAfMlvAXLg3MnFl3AnvOT3AnFl3OUoATHT8OU3RnLXrOXrOXrSnObPbvFn6Og8HgrSnOg8OX8DbPTvAgoJgPU3RYLnrPXrDnJZrPb8CTGgvPlrLTDlvPlvFUJnoQUvFXrQlQeMnoAl3QlrQlrSnRTFTrJUoSTDlLiLXSTFg6HT3STJgoMn4STrFTJTrSTrLZFl3ST4FnMXoSUrDlHUoScvHTvSnSfLkvMXo\",\n    \"AUoAcrMXoAZ8HboAg8AbOg6ATFgAg8AloMXoAl3AT8JTrAl8MX8MXoCT3SToJU8Cl8Db8MXoDT8HgrATrDboOT8MXoGTOTrATMnGT8LhrAZ8GnvFnGnQXHToGgvAcrHTvAXvLl3HbrAZoMXoHgBlFXLg3HgMnFXrSnHgrSb8JUoHn6HT8LgvITvATrJUoJUoLZrRnvJU8HT8Jb8JXvFX8QT8JXvLToJTrJYrQnGnQXJgrJnoATrJnoJU8ScvJnvMnvMXoLTCTLgrJXLTJlRTvQlLbRnJlQYvLbrMb8LnvLbvFn3RnoLdCVSTGZrLeSTvGXCnLg3MnoLn3MToLlrETvMT8SToAl3MbrDU6GTvMb8LX4LhrPlrLXGXCnSToLf8Rg3STrDb8LTrSTvLTHXMnSb3RYLnMnSgOg6ATFg\",\n    \"HUDlGnrQXrJTrHgLnrAcJYMb8DULc8LTvFgGnCk3Mg8JbAnLX4QYvFYHnMXrRUoJnGnvFnRlvFTJlQnoSTrBXHXrLYSUJgLfoMT8Se8DTrHbDb\",\n    \"AbDl8SToJU8An3RbAb8ST8DUSTrGnrAgoLbFU6Db8LTrMg8AaHT8Jb8ObDl8SToJU8Pb3RlvFYoJl\"\n];\nvar codes = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*\";\nfunction getHangul(code) {\n    if (code >= 40) {\n        code = code + 168 - 40;\n    }\n    else if (code >= 19) {\n        code = code + 97 - 19;\n    }\n    return (0, strings_1.toUtf8String)([225, (code >> 6) + 132, (code & 0x3f) + 128]);\n}\nvar wordlist = null;\nfunction loadWords(lang) {\n    if (wordlist != null) {\n        return;\n    }\n    wordlist = [];\n    data.forEach(function (data, length) {\n        length += 4;\n        for (var i = 0; i < data.length; i += length) {\n            var word = \"\";\n            for (var j = 0; j < length; j++) {\n                word += getHangul(codes.indexOf(data[i + j]));\n            }\n            wordlist.push(word);\n        }\n    });\n    wordlist.sort();\n    // Verify the computed list matches the official list\n    /* istanbul ignore if */\n    if (wordlist_1.Wordlist.check(lang) !== \"0xf9eddeace9c5d3da9c93cf7d3cd38f6a13ed3affb933259ae865714e8a3ae71a\") {\n        wordlist = null;\n        throw new Error(\"BIP39 Wordlist for ko (Korean) FAILED\");\n    }\n}\nvar LangKo = /** @class */ (function (_super) {\n    __extends(LangKo, _super);\n    function LangKo() {\n        return _super.call(this, \"ko\") || this;\n    }\n    LangKo.prototype.getWord = function (index) {\n        loadWords(this);\n        return wordlist[index];\n    };\n    LangKo.prototype.getWordIndex = function (word) {\n        loadWords(this);\n        return wordlist.indexOf(word);\n    };\n    return LangKo;\n}(wordlist_1.Wordlist));\nvar langKo = new LangKo();\nexports.langKo = langKo;\nwordlist_1.Wordlist.register(langKo);\n//# sourceMappingURL=lang-ko.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.langZhTw = exports.langZhCn = void 0;\nvar strings_1 = require(\"@ethersproject/strings\");\nvar wordlist_1 = require(\"./wordlist\");\nvar data = \"}aE#4A=Yv&co#4N#6G=cJ&SM#66|/Z#4t&kn~46#4K~4q%b9=IR#7l,mB#7W_X2*dl}Uo~7s}Uf&Iw#9c&cw~6O&H6&wx&IG%v5=IQ~8a&Pv#47$PR&50%Ko&QM&3l#5f,D9#4L|/H&tQ;v0~6n]nN<di,AM=W5%QO&ka&ua,hM^tm=zV=JA=wR&+X]7P&NB#4J#5L|/b[dA}tJ<Do&6m&u2[U1&Kb.HM&mC=w0&MW<rY,Hq#6M}QG,13&wP}Jp]Ow%ue&Kg<HP<D9~4k~9T&I2_c6$9T#9/[C5~7O~4a=cs&O7=KK=An&l9$6U$8A&uD&QI|/Y&bg}Ux&F2#6b}E2&JN&kW&kp=U/&bb=Xl<Cj}k+~5J#6L&5z&9i}b4&Fo,ho(X0_g3~4O$Fz&QE<HN=Ww]6/%GF-Vw=tj&/D&PN#9g=YO}cL&Of&PI~5I&Ip=vU=IW#9G;0o-wU}ss&QR<BT&R9=tk$PY_dh&Pq-yh]7T,nj.Xu=EP&76=cI&Fs*Xg}z7$Gb&+I=DF,AF=cA}rL#7j=Dz&3y<Aa$52=PQ}b0(iY$Fa}oL&xV#6U=ec=WZ,xh%RY<dp#9N&Fl&44=WH*A7=sh&TB&8P=07;u+&PK}uh}J5#72)V/=xC,AB$k0&f6;1E|+5=1B,3v]6n&wR%b+&xx]7f=Ol}fl;+D^wG]7E;nB;uh^Ir&l5=JL,nS=cf=g5;u6|/Q$Gc=MH%Hg#5d%M6^86=U+$Gz,l/,ir^5y&Ba&/F-IY&FI&be%IZ#77&PW_Nu$kE(Yf&NX]7Z,Jy&FJ(Xo&Nz#/d=y7&MX<Ag}Z+;nE]Dt(iG#4D=13&Pj~4c%v8&Zo%OL&/X#4W<HR&ie~6J_1O(Y2=y5=Ad*cv_eB#6k&PX:BU#7A;uk&Ft&Fx_dD=U2;vB=U5=4F}+O&GN.HH:9s=b0%NV(jO&IH=JT}Z9=VZ<Af,Kx^4m&uJ%c6,6r;9m#+L}cf%Kh&F3~4H=vP}bu,Hz|++,1w]nv}k6;uu$jw*Kl*WX&uM[x7&Fr[m7$NO&QN]hu=JN}nR^8g#/h(ps|KC;vd}xz=V0}p6&FD$G1#7K<bG_4p~8g&cf;u4=tl}+k%5/}fz;uw<cA=u1}gU}VM=LJ=eX&+L&Pr#4U}p2:nC,2K]7H:jF&9x}uX#9O=MB<fz~8X~5m&4D&kN&u5%E/(h7(ZF&VG<de(qM|/e-Wt=3x(a+,/R]f/&ND$Ro&nU}0g=KA%kH&NK$Ke<dS}cB&IX~5g$TN]6m=Uv,Is&Py=Ef%Kz#+/%bi&+A<F4$OG&4C&FL#9V<Zk=2I_eE&6c]nw&kq$HG}y+&A8$P3}OH=XP]70%IS(AJ_gH%GZ&tY&AZ=vb~6y&/r=VI=Wv<Zi=fl=xf&eL}c8}OL=MJ=g8$F7=YT}9u=0+^xC}JH&nL^N0~4T]K2,Cy%OC#6s;vG(AC^xe^cG&MF}Br#9P;wD-7h$O/&xA}Fn^PC]6i]7G&8V$Qs;vl(TB~73~4l<mW&6V=2y&uY&+3)aP}XF;LP&kx$wU=t7;uy<FN&lz)7E=Oo*Y+;wI}9q}le;J6&Ri&4t&Qr#8B=cb&vG=J5|Ql(h5<Yy~4+}QD,Lx=wn%K/&RK=dO&Pw,Q9=co%4u;9u}g0@6a^4I%b0=zo|/c&tX=dQ=OS#+b=yz_AB&wB&Pm=W9$HP_gR=62=AO=ti=hI,oA&jr&dH=tm&b6$P2(x8=zi;nG~7F;05]0n[Ix&3m}rg=Xp=cd&uz]7t;97=cN;vV<jf&FF&F1=6Q&Ik*Kk&P4,2z=fQ]7D&3u,H0=d/}Uw<ZN<7R}Kv;0f$H7,MD]7n$F0#88~9Z%da=by;+T#/u=VF&fO&kr^kf<AB]sU,I5$Ng&Pz;0i&QD&vM=Yl:BM;nJ_xJ]U7&Kf&30,3f|Z9*dC)je_jA&Q4&Kp$NH(Yz#6S&Id%Ib=KX,AD=KV%dP}tW&Pk^+E_Ni=cq,3R}VZ(Si=b+}rv;0j}rZ]uA,/w(Sx&Jv$w9&4d&wE,NJ$Gy=J/]Ls#7k<ZQ<Y/&uj]Ov$PM;v3,2F&+u:up=On&3e,Jv;90=J+&Qm]6q}bK#+d~8Y(h2]hA;99&AS=I/}qB&dQ}yJ-VM}Vl&ui,iB&G3|Dc]7d=eQ%dX%JC_1L~4d^NP;vJ&/1)ZI#7N]9X[bQ&PL=0L(UZ,Lm&kc&IR}n7(iR<AQ<dg=33=vN}ft}au]7I,Ba=x9=dR~6R&Tq=Xi,3d$Nr&Bc}DI&ku&vf]Dn,/F&iD,Ll&Nw=0y&I7=Ls=/A&tU=Qe}Ua&uk&+F=g4=gh=Vj#+1&Qn}Uy*44#5F,Pc&Rz*Xn=oh=5W;0n_Nf(iE<Y7=vr=Zu]oz#5Z%mI=kN=Bv_Jp(T2;vt_Ml<FS&uI=L/&6P]64$M7}86<bo%QX(SI%IY&VK=Al&Ux;vv;ut*E/%uh<ZE|O3,M2(yc]yu=Wk&tp:Ex}hr,Cl&WE)+Z=8U}I2_4Q,hA_si=iw=OM=tM=yZ%Ia=U7;wT}b+;uo=Za}yS!5x}HD}fb#5O_dA;Nv%uB(yB;01(Sf}Fk;v7}Pt#8v<mZ#7L,/r&Pl~4w&f5=Ph$Fw_LF&8m,bL=yJ&BH}p/*Jn}tU~5Q;wB(h6]Df]8p^+B;E4&Wc=d+;Ea&bw$8C&FN,DM=Yf}mP~5w=fT#6V=mC=Fi=AV}jB&AN}lW}aH#/D)dZ;hl;vE}/7,CJ;31&w8,hj%u9_Js=jJ&4M~8k=TN&eC}nL&uc-wi&lX}dj=Mv=e2#6u=cr$uq$6G]8W}Jb:nm=Yg<b3(UA;vX&6n&xF=KT,jC,De&R8&oY=Zv&oB]7/=Z2&Oa}bf,hh(4h^tZ&72&Nx;D2&xL~5h~40)ZG)h+=OJ&RA]Bv$yB=Oq=df,AQ%Jn}OJ;11,3z&Tl&tj;v+^Hv,Dh(id=s+]7N&N3)9Q~8f,S4=uW=w4&uX,LX&3d]CJ&yp&8x<b2_do&lP=y/<cy_dG=Oi=7R(VH(lt_1T,Iq_AA;12^6T%k6#8K[B1{oO<AU[Bt;1b$9S&Ps<8T=St{bY,jB(Zp&63&Uv$9V,PM]6v&Af}zW[bW_oq}sm}nB&Kq&gC&ff_eq_2m&5F&TI}rf}Gf;Zr_z9;ER&jk}iz_sn<BN~+n&vo=Vi%97|ZR=Wc,WE&6t]6z%85(ly#84=KY)6m_5/=aX,N3}Tm&he&6K]tR_B2-I3;u/&hU&lH<AP=iB&IA=XL;/5&Nh=wv<BH#79=vS=zl<AA=0X_RG}Bw&9p$NW,AX&kP_Lp&/Z(Tc]Mu}hs#6I}5B&cI<bq&H9#6m=K9}vH(Y1(Y0#4B&w6,/9&gG<bE,/O=zb}I4_l8<B/;wL%Qo<HO[Mq=XX}0v&BP&F4(mG}0i}nm,EC=9u{I3,xG&/9=JY*DK&hR)BX=EI=cx=b/{6k}yX%A+&wa}Xb=la;wi^lL;0t}jo&Qb=xg=XB}iO<qo{bR=NV&8f=a0&Jy;0v=uK)HK;vN#6h&jB(h/%ud&NI%wY.X7=Pt}Cu-uL&Gs_hl%mH,tm]78=Lb^Q0#7Y=1u<Bt&+Q=Co_RH,w3;1e}ux<aU;ui}U3&Q5%bt]63&UQ|0l&uL}O7&3o,AV&dm|Nj(Xt*5+(Uu&Hh(p7(UF=VR=Bp^Jl&Hd[ix)9/=Iq]C8<67]66}mB%6f}bb}JI]8T$HA}db=YM&pa=2J}tS&Y0=PS&y4=cX$6E,hX,XP&nR;04,FQ&l0&Vm_Dv#5Y~8Z=Bi%MA]6x=JO:+p,Az&9q,Hj~6/}SD=K1:EJ}nA;Qo#/E]9R,Ie&6X%W3]61&v4=xX_MC=0q;06(Xq=fs}IG}Dv=0l}o7$iZ;9v&LH&DP-7a&OY,SZ,Kz,Cv&dh=fx|Nh,F/~7q=XF&w+;9n&Gw;0h}Z7<7O&JK(S7&LS<AD<ac=wo<Dt&zw%4B=4v#8P;9o~6p*vV=Tm,Or&I6=1q}nY=P0=gq&Bl&Uu,Ch%yb}UY=zh}dh}rl(T4_xk(YA#8R*xH,IN}Jn]7V}C4&Ty}j3]7p=cL=3h&wW%Qv<Z3=f0&RI&+S(ic_zq}oN&/Y=z1;Td=LW=0e=OI(Vc,+b^ju(UL;0r:Za%8v=Rp=zw&58&73&wK}qX]6y&8E)a2}WR=wP^ur&nQ<cH}Re=Aq&wk}Q0&+q=PP,Gc|/d^k5,Fw]8Y}Pg]p3=ju=ed}r5_yf&Cs]7z$/G<Cm&Jp&54_1G_gP_Ll}JZ;0u]k8_7k(Sg]65{9i=LN&Sx&WK,iW&fD&Lk{9a}Em-9c#8N&io=sy]8d&nT&IK(lx#7/$lW(Td<s8~49,3o<7Y=MW(T+_Jr&Wd,iL}Ct=xh&5V;v4&8n%Kx=iF&l2_0B{B+,If(J0,Lv;u8=Kx-vB=HC&vS=Z6&fU&vE^xK;3D=4h=MR#45:Jw;0d}iw=LU}I5=I0]gB*im,K9}GU,1k_4U&Tt=Vs(iX&lU(TF#7y,ZO}oA&m5#5P}PN}Uz=hM<B1&FB<aG,e6~7T<tP(UQ_ZT=wu&F8)aQ]iN,1r_Lo&/g:CD}84{J1_Ki&Na&3n$jz&FE=dc;uv;va}in}ll=fv(h1&3h}fp=Cy}BM(+E~8m}lo%v7=hC(T6$cj=BQ=Bw(DR,2j=Ks,NS|F+;00=fU=70}Mb(YU;+G&m7&hr=Sk%Co]t+(X5_Jw}0r}gC(AS-IP&QK<Z2#8Q$WC]WX}T2&pG_Ka,HC=R4&/N;Z+;ch(C7,D4$3p_Mk&B2$8D=n9%Ky#5z(CT&QJ#7B]DC]gW}nf~5M;Iw#80}Tc_1F#4Z-aC}Hl=ph=fz,/3=aW}JM}nn;DG;vm}wn,4P}T3;wx&RG$u+}zK=0b;+J_Ek{re<aZ=AS}yY#5D]7q,Cp}xN=VP*2C}GZ}aG~+m_Cs=OY#6r]6g<GS}LC(UB=3A=Bo}Jy<c4}Is;1P<AG}Op<Z1}ld}nS=1Z,yM&95&98=CJ(4t:2L$Hk=Zo}Vc;+I}np&N1}9y=iv}CO*7p=jL)px]tb^zh&GS&Vl%v/;vR=14=zJ&49|/f]hF}WG;03=8P}o/&Gg&rp;DB,Kv}Ji&Pb;aA^ll(4j%yt}+K$Ht#4y&hY]7Y<F1,eN}bG(Uh%6Z]t5%G7;+F_RE;it}tL=LS&Da=Xx(S+(4f=8G=yI}cJ}WP=37=jS}pX}hd)fp<A8=Jt~+o$HJ=M6}iX=g9}CS=dv=Cj(mP%Kd,xq|+9&LD(4/=Xm&QP=Lc}LX&fL;+K=Op(lu=Qs.qC:+e&L+=Jj#8w;SL]7S(b+#4I=c1&nG_Lf&uH;+R)ZV<bV%B/,TE&0H&Jq&Ah%OF&Ss(p2,Wv&I3=Wl}Vq;1L&lJ#9b_1H=8r=b8=JH(SZ=hD=J2#7U,/U#/X~6P,FU<eL=jx,mG=hG=CE&PU=Se(qX&LY=X6=y4&tk&QQ&tf=4g&xI}W+&mZ=Dc#7w}Lg;DA;wQ_Kb(cJ=hR%yX&Yb,hw{bX_4X;EP;1W_2M}Uc=b5(YF,CM&Tp^OJ{DD]6s=vF=Yo~8q}XH}Fu%P5(SJ=Qt;MO]s8<F3&B3&8T(Ul-BS*dw&dR<87}/8]62$PZ]Lx<Au}9Q]7c=ja=KR,Go,Us&v6(qk}pG&G2=ev^GM%w4&H4]7F&dv]J6}Ew:9w=sj-ZL}Ym$+h(Ut(Um~4n=Xs(U7%eE=Qc_JR<CA#6t<Fv|/I,IS,EG<F2(Xy$/n<Fa(h9}+9_2o&N4#7X<Zq|+f_Dp=dt&na,Ca=NJ)jY=8C=YG=s6&Q+<DO}D3=xB&R1(lw;Qn<bF(Cu|/B}HV=SS&n7,10&u0]Dm%A6^4Q=WR(TD=Xo<GH,Rj(l8)bP&n/=LM&CF,F5&ml=PJ;0k=LG=tq,Rh,D6@4i=1p&+9=YC%er_Mh;nI;0q=Fw]80=xq=FM$Gv;v6&nc;wK%H2&Kj;vs,AA=YP,66}bI(qR~5U=6q~4b$Ni=K5.X3$So&Iu(p+]8G=Cf=RY(TS_O3(iH&57=fE=Dg_Do#9z#7H;FK{qd_2k%JR}en&gh_z8;Rx}9p<cN_Ne,DO;LN_7o~/p=NF=5Y}gN<ce<C1,QE]Wv=3u<BC}GK]yq}DY&u/_hj=II(pz&rC,jV&+Z}ut=NQ;Cg-SR_ZS,+o=u/;Oy_RK_QF(Fx&xP}Wr&TA,Uh&g1=yr{ax[VF$Pg(YB;Ox=Vy;+W(Sp}XV%dd&33(l/]l4#4Y}OE=6c=bw(A7&9t%wd&N/&mo,JH&Qe)fm=Ao}fu=tH\";\nvar deltaData = \"FAZDC6BALcLZCA+GBARCW8wNCcDDZ8LVFBOqqDUiou+M42TFAyERXFb7EjhP+vmBFpFrUpfDV2F7eB+eCltCHJFWLFCED+pWTojEIHFXc3aFn4F68zqjEuKidS1QBVPDEhE7NA4mhMF7oThD49ot3FgtzHFCK0acW1x8DH1EmLoIlrWFBLE+y5+NA3Cx65wJHTaEZVaK1mWAmPGxgYCdxwOjTDIt/faOEhTl1vqNsKtJCOhJWuio2g07KLZEQsFBUpNtwEByBgxFslFheFbiEPvi61msDvApxCzB6rBCzox7joYA5UdDc+Cb4FSgIabpXFAj3bjkmFAxCZE+mD/SFf/0ELecYCt3nLoxC6WEZf2tKDB4oZvrEmqFkKk7BwILA7gtYBpsTq//D4jD0F0wEB9pyQ1BD5Ba0oYHDI+sbDFhvrHXdDHfgFEIJLi5r8qercNFBgFLC4bo5ERJtamWBDFy73KCEb6M8VpmEt330ygCTK58EIIFkYgF84gtGA9Uyh3m68iVrFbWFbcbqiCYHZ9J1jeRPbL8yswhMiDbhEhdNoSwFbZrLT740ABEqgCkO8J1BLd1VhKKR4sD1yUo0z+FF59Mvg71CFbyEhbHSFBKEIKyoQNgQppq9T0KAqePu0ZFGrXOHdKJqkoTFhYvpDNyuuznrN84thJbsCoO6Cu6Xlvntvy0QYuAExQEYtTUBf3CoCqwgGFZ4u1HJFzDVwEy3cjcpV4QvsPaBC3rCGyCF23o4K3pp2gberGgFEJEHo4nHICtyKH2ZqyxhN05KBBJIQlKh/Oujv/DH32VrlqFdIFC7Fz9Ct4kaqFME0UETLprnN9kfy+kFmtQBB0+5CFu0N9Ij8l/VvJDh2oq3hT6EzjTHKFN7ZjZwoTsAZ4Exsko6Fpa6WC+sduz8jyrLpegTv2h1EBeYpLpm2czQW0KoCcS0bCVXCmuWJDBjN1nQNLdF58SFJ0h7i3pC3oEOKy/FjBklL70XvBEEIWp2yZ04xObzAWDDJG7f+DbqBEA7LyiR95j7MDVdDViz2RE5vWlBMv5e4+VfhP3aXNPhvLSynb9O2x4uFBV+3jqu6d5pCG28/sETByvmu/+IJ0L3wb4rj9DNOLBF6XPIODr4L19U9RRofAG6Nxydi8Bki8BhGJbBAJKzbJxkZSlF9Q2Cu8oKqggB9hBArwLLqEBWEtFowy8XK8bEyw9snT+BeyFk1ZCSrdmgfEwFePTgCjELBEnIbjaDDPJm36rG9pztcEzT8dGk23SBhXBB1H4z+OWze0ooFzz8pDBYFvp9j9tvFByf9y4EFdVnz026CGR5qMr7fxMHN8UUdlyJAzlTBDRC28k+L4FB8078ljyD91tUj1ocnTs8vdEf7znbzm+GIjEZnoZE5rnLL700Xc7yHfz05nWxy03vBB9YGHYOWxgMQGBCR24CVYNE1hpfKxN0zKnfJDmmMgMmBWqNbjfSyFCBWSCGCgR8yFXiHyEj+VtD1FB3FpC1zI0kFbzifiKTLm9yq5zFmur+q8FHqjoOBWsBPiDbnCC2ErunV6cJ6TygXFYHYp7MKN9RUlSIS8/xBAGYLzeqUnBF4QbsTuUkUqGs6CaiDWKWjQK9EJkjpkTmNCPYXL\";\n// @TODO: Load lazily\nvar wordlist = {\n    zh_cn: null,\n    zh_tw: null\n};\nvar Checks = {\n    zh_cn: \"0x17bcc4d8547e5a7135e365d1ab443aaae95e76d8230c2782c67305d4f21497a1\",\n    zh_tw: \"0x51e720e90c7b87bec1d70eb6e74a21a449bd3ec9c020b01d3a40ed991b60ce5d\"\n};\nvar codes = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar style = \"~!@#$%^&*_-=[]{}|;:,.()<>?\";\nfunction loadWords(lang) {\n    if (wordlist[lang.locale] !== null) {\n        return;\n    }\n    wordlist[lang.locale] = [];\n    var deltaOffset = 0;\n    for (var i = 0; i < 2048; i++) {\n        var s = style.indexOf(data[i * 3]);\n        var bytes = [\n            228 + (s >> 2),\n            128 + codes.indexOf(data[i * 3 + 1]),\n            128 + codes.indexOf(data[i * 3 + 2]),\n        ];\n        if (lang.locale === \"zh_tw\") {\n            var common = s % 4;\n            for (var i_1 = common; i_1 < 3; i_1++) {\n                bytes[i_1] = codes.indexOf(deltaData[deltaOffset++]) + ((i_1 == 0) ? 228 : 128);\n            }\n        }\n        wordlist[lang.locale].push((0, strings_1.toUtf8String)(bytes));\n    }\n    // Verify the computed list matches the official list\n    /* istanbul ignore if */\n    if (wordlist_1.Wordlist.check(lang) !== Checks[lang.locale]) {\n        wordlist[lang.locale] = null;\n        throw new Error(\"BIP39 Wordlist for \" + lang.locale + \" (Chinese) FAILED\");\n    }\n}\nvar LangZh = /** @class */ (function (_super) {\n    __extends(LangZh, _super);\n    function LangZh(country) {\n        return _super.call(this, \"zh_\" + country) || this;\n    }\n    LangZh.prototype.getWord = function (index) {\n        loadWords(this);\n        return wordlist[this.locale][index];\n    };\n    LangZh.prototype.getWordIndex = function (word) {\n        loadWords(this);\n        return wordlist[this.locale].indexOf(word);\n    };\n    LangZh.prototype.split = function (mnemonic) {\n        mnemonic = mnemonic.replace(/(?:\\u3000| )+/g, \"\");\n        return mnemonic.split(\"\");\n    };\n    return LangZh;\n}(wordlist_1.Wordlist));\nvar langZhCn = new LangZh(\"cn\");\nexports.langZhCn = langZhCn;\nwordlist_1.Wordlist.register(langZhCn);\nwordlist_1.Wordlist.register(langZhCn, \"zh\");\nvar langZhTw = new LangZh(\"tw\");\nexports.langZhTw = langZhTw;\nwordlist_1.Wordlist.register(langZhTw);\n//# sourceMappingURL=lang-zh.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Wordlist = exports.logger = void 0;\n// This gets overridden by rollup\nvar exportWordlist = false;\nvar hash_1 = require(\"@ethersproject/hash\");\nvar properties_1 = require(\"@ethersproject/properties\");\nvar logger_1 = require(\"@ethersproject/logger\");\nvar _version_1 = require(\"./_version\");\nexports.logger = new logger_1.Logger(_version_1.version);\nvar Wordlist = /** @class */ (function () {\n    function Wordlist(locale) {\n        var _newTarget = this.constructor;\n        exports.logger.checkAbstract(_newTarget, Wordlist);\n        (0, properties_1.defineReadOnly)(this, \"locale\", locale);\n    }\n    // Subclasses may override this\n    Wordlist.prototype.split = function (mnemonic) {\n        return mnemonic.toLowerCase().split(/ +/g);\n    };\n    // Subclasses may override this\n    Wordlist.prototype.join = function (words) {\n        return words.join(\" \");\n    };\n    Wordlist.check = function (wordlist) {\n        var words = [];\n        for (var i = 0; i < 2048; i++) {\n            var word = wordlist.getWord(i);\n            /* istanbul ignore if */\n            if (i !== wordlist.getWordIndex(word)) {\n                return \"0x\";\n            }\n            words.push(word);\n        }\n        return (0, hash_1.id)(words.join(\"\\n\") + \"\\n\");\n    };\n    Wordlist.register = function (lang, name) {\n        if (!name) {\n            name = lang.locale;\n        }\n        /* istanbul ignore if */\n        if (exportWordlist) {\n            try {\n                var anyGlobal = window;\n                if (anyGlobal._ethers && anyGlobal._ethers.wordlists) {\n                    if (!anyGlobal._ethers.wordlists[name]) {\n                        (0, properties_1.defineReadOnly)(anyGlobal._ethers.wordlists, name, lang);\n                    }\n                }\n            }\n            catch (error) { }\n        }\n    };\n    return Wordlist;\n}());\nexports.Wordlist = Wordlist;\n//# sourceMappingURL=wordlist.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.wordlists = void 0;\nvar lang_cz_1 = require(\"./lang-cz\");\nvar lang_en_1 = require(\"./lang-en\");\nvar lang_es_1 = require(\"./lang-es\");\nvar lang_fr_1 = require(\"./lang-fr\");\nvar lang_ja_1 = require(\"./lang-ja\");\nvar lang_ko_1 = require(\"./lang-ko\");\nvar lang_it_1 = require(\"./lang-it\");\nvar lang_zh_1 = require(\"./lang-zh\");\nexports.wordlists = {\n    cz: lang_cz_1.langCz,\n    en: lang_en_1.langEn,\n    es: lang_es_1.langEs,\n    fr: lang_fr_1.langFr,\n    it: lang_it_1.langIt,\n    ja: lang_ja_1.langJa,\n    ko: lang_ko_1.langKo,\n    zh: lang_zh_1.langZhCn,\n    zh_cn: lang_zh_1.langZhCn,\n    zh_tw: lang_zh_1.langZhTw\n};\n//# sourceMappingURL=wordlists.js.map","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FirebaseApp,\n  FirebaseOptions,\n  FirebaseServerApp\n} from './public-types';\nimport { Component, Provider, Name } from '@firebase/component';\nimport { logger } from './logger';\nimport { DEFAULT_ENTRY_NAME } from './constants';\nimport { FirebaseAppImpl } from './firebaseApp';\nimport { FirebaseServerAppImpl } from './firebaseServerApp';\n\n/**\n * @internal\n */\nexport const _apps = new Map<string, FirebaseApp>();\n\n/**\n * @internal\n */\nexport const _serverApps = new Map<string, FirebaseServerApp>();\n\n/**\n * Registered components.\n *\n * @internal\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const _components = new Map<string, Component<any>>();\n\n/**\n * @param component - the component being added to this app's container\n *\n * @internal\n */\nexport function _addComponent<T extends Name>(\n  app: FirebaseApp,\n  component: Component<T>\n): void {\n  try {\n    (app as FirebaseAppImpl).container.addComponent(component);\n  } catch (e) {\n    logger.debug(\n      `Component ${component.name} failed to register with FirebaseApp ${app.name}`,\n      e\n    );\n  }\n}\n\n/**\n *\n * @internal\n */\nexport function _addOrOverwriteComponent(\n  app: FirebaseApp,\n  component: Component\n): void {\n  (app as FirebaseAppImpl).container.addOrOverwriteComponent(component);\n}\n\n/**\n *\n * @param component - the component to register\n * @returns whether or not the component is registered successfully\n *\n * @internal\n */\nexport function _registerComponent<T extends Name>(\n  component: Component<T>\n): boolean {\n  const componentName = component.name;\n  if (_components.has(componentName)) {\n    logger.debug(\n      `There were multiple attempts to register component ${componentName}.`\n    );\n\n    return false;\n  }\n\n  _components.set(componentName, component);\n\n  // add the component to existing app instances\n  for (const app of _apps.values()) {\n    _addComponent(app as FirebaseAppImpl, component);\n  }\n\n  for (const serverApp of _serverApps.values()) {\n    _addComponent(serverApp as FirebaseServerAppImpl, component);\n  }\n\n  return true;\n}\n\n/**\n *\n * @param app - FirebaseApp instance\n * @param name - service name\n *\n * @returns the provider for the service with the matching name\n *\n * @internal\n */\nexport function _getProvider<T extends Name>(\n  app: FirebaseApp,\n  name: T\n): Provider<T> {\n  const heartbeatController = (app as FirebaseAppImpl).container\n    .getProvider('heartbeat')\n    .getImmediate({ optional: true });\n  if (heartbeatController) {\n    void heartbeatController.triggerHeartbeat();\n  }\n  return (app as FirebaseAppImpl).container.getProvider(name);\n}\n\n/**\n *\n * @param app - FirebaseApp instance\n * @param name - service name\n * @param instanceIdentifier - service instance identifier in case the service supports multiple instances\n *\n * @internal\n */\nexport function _removeServiceInstance<T extends Name>(\n  app: FirebaseApp,\n  name: T,\n  instanceIdentifier: string = DEFAULT_ENTRY_NAME\n): void {\n  _getProvider(app, name).clearInstance(instanceIdentifier);\n}\n\n/**\n *\n * @param obj - an object of type FirebaseApp or FirebaseOptions.\n *\n * @returns true if the provide object is of type FirebaseApp.\n *\n * @internal\n */\nexport function _isFirebaseApp(\n  obj: FirebaseApp | FirebaseOptions\n): obj is FirebaseApp {\n  return (obj as FirebaseApp).options !== undefined;\n}\n\n/**\n *\n * @param obj - an object of type FirebaseApp.\n *\n * @returns true if the provided object is of type FirebaseServerAppImpl.\n *\n * @internal\n */\nexport function _isFirebaseServerApp(\n  obj: FirebaseApp | FirebaseServerApp\n): obj is FirebaseServerApp {\n  return (obj as FirebaseServerApp).settings !== undefined;\n}\n\n/**\n * Test only\n *\n * @internal\n */\nexport function _clearComponents(): void {\n  _components.clear();\n}\n\n/**\n * Exported in order to be used in app-compat package\n */\nexport { DEFAULT_ENTRY_NAME as _DEFAULT_ENTRY_NAME };\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FirebaseApp,\n  FirebaseServerApp,\n  FirebaseOptions,\n  FirebaseAppSettings,\n  FirebaseServerAppSettings\n} from './public-types';\nimport { DEFAULT_ENTRY_NAME, PLATFORM_LOG_STRING } from './constants';\nimport { ERROR_FACTORY, AppError } from './errors';\nimport {\n  ComponentContainer,\n  Component,\n  Name,\n  ComponentType\n} from '@firebase/component';\nimport { version } from '../../firebase/package.json';\nimport { FirebaseAppImpl } from './firebaseApp';\nimport { FirebaseServerAppImpl } from './firebaseServerApp';\nimport {\n  _apps,\n  _components,\n  _isFirebaseApp,\n  _registerComponent,\n  _serverApps\n} from './internal';\nimport { logger } from './logger';\nimport {\n  LogLevelString,\n  setLogLevel as setLogLevelImpl,\n  LogCallback,\n  LogOptions,\n  setUserLogHandler\n} from '@firebase/logger';\nimport { deepEqual, getDefaultAppConfig, isBrowser } from '@firebase/util';\n\nexport { FirebaseError } from '@firebase/util';\n\n/**\n * The current SDK version.\n *\n * @public\n */\nexport const SDK_VERSION = version;\n\n/**\n * Creates and initializes a {@link @firebase/app#FirebaseApp} instance.\n *\n * See\n * {@link\n *   https://firebase.google.com/docs/web/setup#add_firebase_to_your_app\n *   | Add Firebase to your app} and\n * {@link\n *   https://firebase.google.com/docs/web/setup#multiple-projects\n *   | Initialize multiple projects} for detailed documentation.\n *\n * @example\n * ```javascript\n *\n * // Initialize default app\n * // Retrieve your own options values by adding a web app on\n * // https://console.firebase.google.com\n * initializeApp({\n *   apiKey: \"AIza....\",                             // Auth / General Use\n *   authDomain: \"YOUR_APP.firebaseapp.com\",         // Auth with popup/redirect\n *   databaseURL: \"https://YOUR_APP.firebaseio.com\", // Realtime Database\n *   storageBucket: \"YOUR_APP.appspot.com\",          // Storage\n *   messagingSenderId: \"123456789\"                  // Cloud Messaging\n * });\n * ```\n *\n * @example\n * ```javascript\n *\n * // Initialize another app\n * const otherApp = initializeApp({\n *   databaseURL: \"https://<OTHER_DATABASE_NAME>.firebaseio.com\",\n *   storageBucket: \"<OTHER_STORAGE_BUCKET>.appspot.com\"\n * }, \"otherApp\");\n * ```\n *\n * @param options - Options to configure the app's services.\n * @param name - Optional name of the app to initialize. If no name\n *   is provided, the default is `\"[DEFAULT]\"`.\n *\n * @returns The initialized app.\n *\n * @public\n */\nexport function initializeApp(\n  options: FirebaseOptions,\n  name?: string\n): FirebaseApp;\n/**\n * Creates and initializes a FirebaseApp instance.\n *\n * @param options - Options to configure the app's services.\n * @param config - FirebaseApp Configuration\n *\n * @public\n */\nexport function initializeApp(\n  options: FirebaseOptions,\n  config?: FirebaseAppSettings\n): FirebaseApp;\n/**\n * Creates and initializes a FirebaseApp instance.\n *\n * @public\n */\nexport function initializeApp(): FirebaseApp;\nexport function initializeApp(\n  _options?: FirebaseOptions,\n  rawConfig = {}\n): FirebaseApp {\n  let options = _options;\n\n  if (typeof rawConfig !== 'object') {\n    const name = rawConfig;\n    rawConfig = { name };\n  }\n\n  const config: Required<FirebaseAppSettings> = {\n    name: DEFAULT_ENTRY_NAME,\n    automaticDataCollectionEnabled: false,\n    ...rawConfig\n  };\n  const name = config.name;\n\n  if (typeof name !== 'string' || !name) {\n    throw ERROR_FACTORY.create(AppError.BAD_APP_NAME, {\n      appName: String(name)\n    });\n  }\n\n  options ||= getDefaultAppConfig();\n\n  if (!options) {\n    throw ERROR_FACTORY.create(AppError.NO_OPTIONS);\n  }\n\n  const existingApp = _apps.get(name) as FirebaseAppImpl;\n  if (existingApp) {\n    // return the existing app if options and config deep equal the ones in the existing app.\n    if (\n      deepEqual(options, existingApp.options) &&\n      deepEqual(config, existingApp.config)\n    ) {\n      return existingApp;\n    } else {\n      throw ERROR_FACTORY.create(AppError.DUPLICATE_APP, { appName: name });\n    }\n  }\n\n  const container = new ComponentContainer(name);\n  for (const component of _components.values()) {\n    container.addComponent(component);\n  }\n\n  const newApp = new FirebaseAppImpl(options, config, container);\n\n  _apps.set(name, newApp);\n\n  return newApp;\n}\n\n/**\n * Creates and initializes a {@link @firebase/app#FirebaseServerApp} instance.\n *\n * The `FirebaseServerApp` is similar to `FirebaseApp`, but is intended for execution in\n * server side rendering environments only. Initialization will fail if invoked from a\n * browser environment.\n *\n * See\n * {@link\n *   https://firebase.google.com/docs/web/setup#add_firebase_to_your_app\n *   | Add Firebase to your app} and\n * {@link\n *   https://firebase.google.com/docs/web/setup#multiple-projects\n *   | Initialize multiple projects} for detailed documentation.\n *\n * @example\n * ```javascript\n *\n * // Initialize an instance of `FirebaseServerApp`.\n * // Retrieve your own options values by adding a web app on\n * // https://console.firebase.google.com\n * initializeServerApp({\n *     apiKey: \"AIza....\",                             // Auth / General Use\n *     authDomain: \"YOUR_APP.firebaseapp.com\",         // Auth with popup/redirect\n *     databaseURL: \"https://YOUR_APP.firebaseio.com\", // Realtime Database\n *     storageBucket: \"YOUR_APP.appspot.com\",          // Storage\n *     messagingSenderId: \"123456789\"                  // Cloud Messaging\n *   },\n *   {\n *    authIdToken: \"Your Auth ID Token\"\n *   });\n * ```\n *\n * @param options - `Firebase.AppOptions` to configure the app's services, or a\n *   a `FirebaseApp` instance which contains the `AppOptions` within.\n * @param config - `FirebaseServerApp` configuration.\n *\n * @returns The initialized `FirebaseServerApp`.\n *\n * @public\n */\nexport function initializeServerApp(\n  options: FirebaseOptions | FirebaseApp,\n  config: FirebaseServerAppSettings\n): FirebaseServerApp;\n\nexport function initializeServerApp(\n  _options: FirebaseOptions | FirebaseApp,\n  _serverAppConfig: FirebaseServerAppSettings\n): FirebaseServerApp {\n  if (isBrowser()) {\n    // FirebaseServerApp isn't designed to be run in browsers.\n    throw ERROR_FACTORY.create(AppError.INVALID_SERVER_APP_ENVIRONMENT);\n  }\n\n  if (_serverAppConfig.automaticDataCollectionEnabled === undefined) {\n    _serverAppConfig.automaticDataCollectionEnabled = false;\n  }\n\n  let appOptions: FirebaseOptions;\n  if (_isFirebaseApp(_options)) {\n    appOptions = _options.options;\n  } else {\n    appOptions = _options;\n  }\n\n  // Build an app name based on a hash of the configuration options.\n  const nameObj = {\n    ..._serverAppConfig,\n    ...appOptions\n  };\n\n  // However, Do not mangle the name based on releaseOnDeref, since it will vary between the\n  // construction of FirebaseServerApp instances. For example, if the object is the request headers.\n  if (nameObj.releaseOnDeref !== undefined) {\n    delete nameObj.releaseOnDeref;\n  }\n\n  const hashCode = (s: string): number => {\n    return [...s].reduce(\n      (hash, c) => (Math.imul(31, hash) + c.charCodeAt(0)) | 0,\n      0\n    );\n  };\n\n  if (_serverAppConfig.releaseOnDeref !== undefined) {\n    if (typeof FinalizationRegistry === 'undefined') {\n      throw ERROR_FACTORY.create(\n        AppError.FINALIZATION_REGISTRY_NOT_SUPPORTED,\n        {}\n      );\n    }\n  }\n\n  const nameString = '' + hashCode(JSON.stringify(nameObj));\n  const existingApp = _serverApps.get(nameString) as FirebaseServerApp;\n  if (existingApp) {\n    (existingApp as FirebaseServerAppImpl).incRefCount(\n      _serverAppConfig.releaseOnDeref\n    );\n    return existingApp;\n  }\n\n  const container = new ComponentContainer(nameString);\n  for (const component of _components.values()) {\n    container.addComponent(component);\n  }\n\n  const newApp = new FirebaseServerAppImpl(\n    appOptions,\n    _serverAppConfig,\n    nameString,\n    container\n  );\n\n  _serverApps.set(nameString, newApp);\n\n  return newApp;\n}\n\n/**\n * Retrieves a {@link @firebase/app#FirebaseApp} instance.\n *\n * When called with no arguments, the default app is returned. When an app name\n * is provided, the app corresponding to that name is returned.\n *\n * An exception is thrown if the app being retrieved has not yet been\n * initialized.\n *\n * @example\n * ```javascript\n * // Return the default app\n * const app = getApp();\n * ```\n *\n * @example\n * ```javascript\n * // Return a named app\n * const otherApp = getApp(\"otherApp\");\n * ```\n *\n * @param name - Optional name of the app to return. If no name is\n *   provided, the default is `\"[DEFAULT]\"`.\n *\n * @returns The app corresponding to the provided app name.\n *   If no app name is provided, the default app is returned.\n *\n * @public\n */\nexport function getApp(name: string = DEFAULT_ENTRY_NAME): FirebaseApp {\n  const app = _apps.get(name);\n  if (!app && name === DEFAULT_ENTRY_NAME && getDefaultAppConfig()) {\n    return initializeApp();\n  }\n  if (!app) {\n    throw ERROR_FACTORY.create(AppError.NO_APP, { appName: name });\n  }\n\n  return app;\n}\n\n/**\n * A (read-only) array of all initialized apps.\n * @public\n */\nexport function getApps(): FirebaseApp[] {\n  return Array.from(_apps.values());\n}\n\n/**\n * Renders this app unusable and frees the resources of all associated\n * services.\n *\n * @example\n * ```javascript\n * deleteApp(app)\n *   .then(function() {\n *     console.log(\"App deleted successfully\");\n *   })\n *   .catch(function(error) {\n *     console.log(\"Error deleting app:\", error);\n *   });\n * ```\n *\n * @public\n */\nexport async function deleteApp(app: FirebaseApp): Promise<void> {\n  let cleanupProviders = false;\n  const name = app.name;\n  if (_apps.has(name)) {\n    cleanupProviders = true;\n    _apps.delete(name);\n  } else if (_serverApps.has(name)) {\n    const firebaseServerApp = app as FirebaseServerAppImpl;\n    if (firebaseServerApp.decRefCount() <= 0) {\n      _serverApps.delete(name);\n      cleanupProviders = true;\n    }\n  }\n\n  if (cleanupProviders) {\n    await Promise.all(\n      (app as FirebaseAppImpl).container\n        .getProviders()\n        .map(provider => provider.delete())\n    );\n    (app as FirebaseAppImpl).isDeleted = true;\n  }\n}\n\n/**\n * Registers a library's name and version for platform logging purposes.\n * @param library - Name of 1p or 3p library (e.g. firestore, angularfire)\n * @param version - Current version of that library.\n * @param variant - Bundle variant, e.g., node, rn, etc.\n *\n * @public\n */\nexport function registerVersion(\n  libraryKeyOrName: string,\n  version: string,\n  variant?: string\n): void {\n  // TODO: We can use this check to whitelist strings when/if we set up\n  // a good whitelist system.\n  let library = PLATFORM_LOG_STRING[libraryKeyOrName] ?? libraryKeyOrName;\n  if (variant) {\n    library += `-${variant}`;\n  }\n  const libraryMismatch = library.match(/\\s|\\//);\n  const versionMismatch = version.match(/\\s|\\//);\n  if (libraryMismatch || versionMismatch) {\n    const warning = [\n      `Unable to register library \"${library}\" with version \"${version}\":`\n    ];\n    if (libraryMismatch) {\n      warning.push(\n        `library name \"${library}\" contains illegal characters (whitespace or \"/\")`\n      );\n    }\n    if (libraryMismatch && versionMismatch) {\n      warning.push('and');\n    }\n    if (versionMismatch) {\n      warning.push(\n        `version name \"${version}\" contains illegal characters (whitespace or \"/\")`\n      );\n    }\n    logger.warn(warning.join(' '));\n    return;\n  }\n  _registerComponent(\n    new Component(\n      `${library}-version` as Name,\n      () => ({ library, version }),\n      ComponentType.VERSION\n    )\n  );\n}\n\n/**\n * Sets log handler for all Firebase SDKs.\n * @param logCallback - An optional custom log handler that executes user code whenever\n * the Firebase SDK makes a logging call.\n *\n * @public\n */\nexport function onLog(\n  logCallback: LogCallback | null,\n  options?: LogOptions\n): void {\n  if (logCallback !== null && typeof logCallback !== 'function') {\n    throw ERROR_FACTORY.create(AppError.INVALID_LOG_ARGUMENT);\n  }\n  setUserLogHandler(logCallback, options);\n}\n\n/**\n * Sets log level for all Firebase SDKs.\n *\n * All of the log types above the current log level are captured (i.e. if\n * you set the log level to `info`, errors are logged, but `debug` and\n * `verbose` logs are not).\n *\n * @public\n */\nexport function setLogLevel(logLevel: LogLevelString): void {\n  setLogLevelImpl(logLevel);\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ComponentContainer,\n  ComponentType,\n  Provider,\n  Name\n} from '@firebase/component';\nimport { PlatformLoggerService, VersionService } from './types';\n\nexport class PlatformLoggerServiceImpl implements PlatformLoggerService {\n  constructor(private readonly container: ComponentContainer) {}\n  // In initial implementation, this will be called by installations on\n  // auth token refresh, and installations will send this string.\n  getPlatformInfoString(): string {\n    const providers = this.container.getProviders();\n    // Loop through providers and get library/version pairs from any that are\n    // version components.\n    return providers\n      .map(provider => {\n        if (isVersionServiceProvider(provider)) {\n          const service = provider.getImmediate() as VersionService;\n          return `${service.library}/${service.version}`;\n        } else {\n          return null;\n        }\n      })\n      .filter(logString => logString)\n      .join(' ');\n  }\n}\n/**\n *\n * @param provider check if this provider provides a VersionService\n *\n * NOTE: Using Provider<'app-version'> is a hack to indicate that the provider\n * provides VersionService. The provider is not necessarily a 'app-version'\n * provider.\n */\nfunction isVersionServiceProvider(provider: Provider<Name>): boolean {\n  const component = provider.getComponent();\n  return component?.type === ComponentType.VERSION;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Logger } from '@firebase/logger';\n\nexport const logger = new Logger('@firebase/app');\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { name as appName } from '../package.json';\nimport { name as appCompatName } from '../../app-compat/package.json';\nimport { name as analyticsCompatName } from '../../../packages/analytics-compat/package.json';\nimport { name as analyticsName } from '../../../packages/analytics/package.json';\nimport { name as appCheckCompatName } from '../../../packages/app-check-compat/package.json';\nimport { name as appCheckName } from '../../../packages/app-check/package.json';\nimport { name as authName } from '../../../packages/auth/package.json';\nimport { name as authCompatName } from '../../../packages/auth-compat/package.json';\nimport { name as databaseName } from '../../../packages/database/package.json';\nimport { name as databaseCompatName } from '../../../packages/database-compat/package.json';\nimport { name as functionsName } from '../../../packages/functions/package.json';\nimport { name as functionsCompatName } from '../../../packages/functions-compat/package.json';\nimport { name as installationsName } from '../../../packages/installations/package.json';\nimport { name as installationsCompatName } from '../../../packages/installations-compat/package.json';\nimport { name as messagingName } from '../../../packages/messaging/package.json';\nimport { name as messagingCompatName } from '../../../packages/messaging-compat/package.json';\nimport { name as performanceName } from '../../../packages/performance/package.json';\nimport { name as performanceCompatName } from '../../../packages/performance-compat/package.json';\nimport { name as remoteConfigName } from '../../../packages/remote-config/package.json';\nimport { name as remoteConfigCompatName } from '../../../packages/remote-config-compat/package.json';\nimport { name as storageName } from '../../../packages/storage/package.json';\nimport { name as storageCompatName } from '../../../packages/storage-compat/package.json';\nimport { name as firestoreName } from '../../../packages/firestore/package.json';\nimport { name as firestoreCompatName } from '../../../packages/firestore-compat/package.json';\nimport { name as packageName } from '../../../packages/firebase/package.json';\n\n/**\n * The default app name\n *\n * @internal\n */\nexport const DEFAULT_ENTRY_NAME = '[DEFAULT]';\n\nexport const PLATFORM_LOG_STRING = {\n  [appName]: 'fire-core',\n  [appCompatName]: 'fire-core-compat',\n  [analyticsName]: 'fire-analytics',\n  [analyticsCompatName]: 'fire-analytics-compat',\n  [appCheckName]: 'fire-app-check',\n  [appCheckCompatName]: 'fire-app-check-compat',\n  [authName]: 'fire-auth',\n  [authCompatName]: 'fire-auth-compat',\n  [databaseName]: 'fire-rtdb',\n  [databaseCompatName]: 'fire-rtdb-compat',\n  [functionsName]: 'fire-fn',\n  [functionsCompatName]: 'fire-fn-compat',\n  [installationsName]: 'fire-iid',\n  [installationsCompatName]: 'fire-iid-compat',\n  [messagingName]: 'fire-fcm',\n  [messagingCompatName]: 'fire-fcm-compat',\n  [performanceName]: 'fire-perf',\n  [performanceCompatName]: 'fire-perf-compat',\n  [remoteConfigName]: 'fire-rc',\n  [remoteConfigCompatName]: 'fire-rc-compat',\n  [storageName]: 'fire-gcs',\n  [storageCompatName]: 'fire-gcs-compat',\n  [firestoreName]: 'fire-fst',\n  [firestoreCompatName]: 'fire-fst-compat',\n  'fire-js': 'fire-js', // Platform identifier for JS SDK.\n  [packageName]: 'fire-js-all'\n} as const;\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ErrorFactory, ErrorMap } from '@firebase/util';\n\nexport const enum AppError {\n  NO_APP = 'no-app',\n  BAD_APP_NAME = 'bad-app-name',\n  DUPLICATE_APP = 'duplicate-app',\n  APP_DELETED = 'app-deleted',\n  SERVER_APP_DELETED = 'server-app-deleted',\n  NO_OPTIONS = 'no-options',\n  INVALID_APP_ARGUMENT = 'invalid-app-argument',\n  INVALID_LOG_ARGUMENT = 'invalid-log-argument',\n  IDB_OPEN = 'idb-open',\n  IDB_GET = 'idb-get',\n  IDB_WRITE = 'idb-set',\n  IDB_DELETE = 'idb-delete',\n  FINALIZATION_REGISTRY_NOT_SUPPORTED = 'finalization-registry-not-supported',\n  INVALID_SERVER_APP_ENVIRONMENT = 'invalid-server-app-environment'\n}\n\nconst ERRORS: ErrorMap<AppError> = {\n  [AppError.NO_APP]:\n    \"No Firebase App '{$appName}' has been created - \" +\n    'call initializeApp() first',\n  [AppError.BAD_APP_NAME]: \"Illegal App name: '{$appName}'\",\n  [AppError.DUPLICATE_APP]:\n    \"Firebase App named '{$appName}' already exists with different options or config\",\n  [AppError.APP_DELETED]: \"Firebase App named '{$appName}' already deleted\",\n  [AppError.SERVER_APP_DELETED]: 'Firebase Server App has been deleted',\n  [AppError.NO_OPTIONS]:\n    'Need to provide options, when not being deployed to hosting via source.',\n  [AppError.INVALID_APP_ARGUMENT]:\n    'firebase.{$appName}() takes either no argument or a ' +\n    'Firebase App instance.',\n  [AppError.INVALID_LOG_ARGUMENT]:\n    'First argument to `onLog` must be null or a function.',\n  [AppError.IDB_OPEN]:\n    'Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.',\n  [AppError.IDB_GET]:\n    'Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.',\n  [AppError.IDB_WRITE]:\n    'Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.',\n  [AppError.IDB_DELETE]:\n    'Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.',\n  [AppError.FINALIZATION_REGISTRY_NOT_SUPPORTED]:\n    'FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.',\n  [AppError.INVALID_SERVER_APP_ENVIRONMENT]:\n    'FirebaseServerApp is not for use in browser environments.'\n};\n\ninterface ErrorParams {\n  [AppError.NO_APP]: { appName: string };\n  [AppError.BAD_APP_NAME]: { appName: string };\n  [AppError.DUPLICATE_APP]: { appName: string };\n  [AppError.APP_DELETED]: { appName: string };\n  [AppError.INVALID_APP_ARGUMENT]: { appName: string };\n  [AppError.IDB_OPEN]: { originalErrorMessage?: string };\n  [AppError.IDB_GET]: { originalErrorMessage?: string };\n  [AppError.IDB_WRITE]: { originalErrorMessage?: string };\n  [AppError.IDB_DELETE]: { originalErrorMessage?: string };\n  [AppError.FINALIZATION_REGISTRY_NOT_SUPPORTED]: { appName?: string };\n}\n\nexport const ERROR_FACTORY = new ErrorFactory<AppError, ErrorParams>(\n  'app',\n  'Firebase',\n  ERRORS\n);\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FirebaseApp,\n  FirebaseOptions,\n  FirebaseAppSettings\n} from './public-types';\nimport {\n  ComponentContainer,\n  Component,\n  ComponentType\n} from '@firebase/component';\nimport { ERROR_FACTORY, AppError } from './errors';\n\nexport class FirebaseAppImpl implements FirebaseApp {\n  protected readonly _options: FirebaseOptions;\n  protected readonly _name: string;\n  /**\n   * Original config values passed in as a constructor parameter.\n   * It is only used to compare with another config object to support idempotent initializeApp().\n   *\n   * Updating automaticDataCollectionEnabled on the App instance will not change its value in _config.\n   */\n  private readonly _config: Required<FirebaseAppSettings>;\n  private _automaticDataCollectionEnabled: boolean;\n  protected _isDeleted = false;\n  private readonly _container: ComponentContainer;\n\n  constructor(\n    options: FirebaseOptions,\n    config: Required<FirebaseAppSettings>,\n    container: ComponentContainer\n  ) {\n    this._options = { ...options };\n    this._config = { ...config };\n    this._name = config.name;\n    this._automaticDataCollectionEnabled =\n      config.automaticDataCollectionEnabled;\n    this._container = container;\n    this.container.addComponent(\n      new Component('app', () => this, ComponentType.PUBLIC)\n    );\n  }\n\n  get automaticDataCollectionEnabled(): boolean {\n    this.checkDestroyed();\n    return this._automaticDataCollectionEnabled;\n  }\n\n  set automaticDataCollectionEnabled(val: boolean) {\n    this.checkDestroyed();\n    this._automaticDataCollectionEnabled = val;\n  }\n\n  get name(): string {\n    this.checkDestroyed();\n    return this._name;\n  }\n\n  get options(): FirebaseOptions {\n    this.checkDestroyed();\n    return this._options;\n  }\n\n  get config(): Required<FirebaseAppSettings> {\n    this.checkDestroyed();\n    return this._config;\n  }\n\n  get container(): ComponentContainer {\n    return this._container;\n  }\n\n  get isDeleted(): boolean {\n    return this._isDeleted;\n  }\n\n  set isDeleted(val: boolean) {\n    this._isDeleted = val;\n  }\n\n  /**\n   * This function will throw an Error if the App has already been deleted -\n   * use before performing API actions on the App.\n   */\n  protected checkDestroyed(): void {\n    if (this.isDeleted) {\n      throw ERROR_FACTORY.create(AppError.APP_DELETED, { appName: this._name });\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FirebaseAppSettings,\n  FirebaseServerApp,\n  FirebaseServerAppSettings,\n  FirebaseOptions\n} from './public-types';\nimport { deleteApp, registerVersion } from './api';\nimport { ComponentContainer } from '@firebase/component';\nimport { FirebaseAppImpl } from './firebaseApp';\nimport { ERROR_FACTORY, AppError } from './errors';\nimport { name as packageName, version } from '../package.json';\n\nexport class FirebaseServerAppImpl\n  extends FirebaseAppImpl\n  implements FirebaseServerApp\n{\n  private readonly _serverConfig: FirebaseServerAppSettings;\n  private _finalizationRegistry: FinalizationRegistry<object>;\n  private _refCount: number;\n\n  constructor(\n    options: FirebaseOptions | FirebaseAppImpl,\n    serverConfig: FirebaseServerAppSettings,\n    name: string,\n    container: ComponentContainer\n  ) {\n    // Build configuration parameters for the FirebaseAppImpl base class.\n    const automaticDataCollectionEnabled =\n      serverConfig.automaticDataCollectionEnabled !== undefined\n        ? serverConfig.automaticDataCollectionEnabled\n        : false;\n\n    // Create the FirebaseAppSettings object for the FirebaseAppImp constructor.\n    const config: Required<FirebaseAppSettings> = {\n      name,\n      automaticDataCollectionEnabled\n    };\n\n    if ((options as FirebaseOptions).apiKey !== undefined) {\n      // Construct the parent FirebaseAppImp object.\n      super(options as FirebaseOptions, config, container);\n    } else {\n      const appImpl: FirebaseAppImpl = options as FirebaseAppImpl;\n      super(appImpl.options, config, container);\n    }\n\n    // Now construct the data for the FirebaseServerAppImpl.\n    this._serverConfig = {\n      automaticDataCollectionEnabled,\n      ...serverConfig\n    };\n\n    this._finalizationRegistry = new FinalizationRegistry(() => {\n      this.automaticCleanup();\n    });\n\n    this._refCount = 0;\n    this.incRefCount(this._serverConfig.releaseOnDeref);\n\n    // Do not retain a hard reference to the dref object, otherwise the FinalizationRegisry\n    // will never trigger.\n    this._serverConfig.releaseOnDeref = undefined;\n    serverConfig.releaseOnDeref = undefined;\n\n    registerVersion(packageName, version, 'serverapp');\n  }\n\n  toJSON(): undefined {\n    return undefined;\n  }\n\n  get refCount(): number {\n    return this._refCount;\n  }\n\n  // Increment the reference count of this server app. If an object is provided, register it\n  // with the finalization registry.\n  incRefCount(obj: object | undefined): void {\n    if (this.isDeleted) {\n      return;\n    }\n    this._refCount++;\n    if (obj !== undefined) {\n      this._finalizationRegistry.register(obj, this);\n    }\n  }\n\n  // Decrement the reference count.\n  decRefCount(): number {\n    if (this.isDeleted) {\n      return 0;\n    }\n    return --this._refCount;\n  }\n\n  // Invoked by the FinalizationRegistry callback to note that this app should go through its\n  // reference counts and delete itself if no reference count remain. The coordinating logic that\n  // handles this is in deleteApp(...).\n  private automaticCleanup(): void {\n    void deleteApp(this);\n  }\n\n  get settings(): FirebaseServerAppSettings {\n    this.checkDestroyed();\n    return this._serverConfig;\n  }\n\n  /**\n   * This function will throw an Error if the App has already been deleted -\n   * use before performing API actions on the App.\n   */\n  protected checkDestroyed(): void {\n    if (this.isDeleted) {\n      throw ERROR_FACTORY.create(AppError.SERVER_APP_DELETED);\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseError } from '@firebase/util';\nimport { DBSchema, openDB, IDBPDatabase } from 'idb';\nimport { AppError, ERROR_FACTORY } from './errors';\nimport { FirebaseApp } from './public-types';\nimport { HeartbeatsInIndexedDB } from './types';\nimport { logger } from './logger';\n\nconst DB_NAME = 'firebase-heartbeat-database';\nconst DB_VERSION = 1;\nconst STORE_NAME = 'firebase-heartbeat-store';\n\ninterface AppDB extends DBSchema {\n  'firebase-heartbeat-store': {\n    key: string;\n    value: HeartbeatsInIndexedDB;\n  };\n}\n\nlet dbPromise: Promise<IDBPDatabase<AppDB>> | null = null;\nfunction getDbPromise(): Promise<IDBPDatabase<AppDB>> {\n  if (!dbPromise) {\n    dbPromise = openDB<AppDB>(DB_NAME, DB_VERSION, {\n      upgrade: (db, oldVersion) => {\n        // We don't use 'break' in this switch statement, the fall-through\n        // behavior is what we want, because if there are multiple versions between\n        // the old version and the current version, we want ALL the migrations\n        // that correspond to those versions to run, not only the last one.\n        // eslint-disable-next-line default-case\n        switch (oldVersion) {\n          case 0:\n            try {\n              db.createObjectStore(STORE_NAME);\n            } catch (e) {\n              // Safari/iOS browsers throw occasional exceptions on\n              // db.createObjectStore() that may be a bug. Avoid blocking\n              // the rest of the app functionality.\n              console.warn(e);\n            }\n        }\n      }\n    }).catch(e => {\n      throw ERROR_FACTORY.create(AppError.IDB_OPEN, {\n        originalErrorMessage: e.message\n      });\n    });\n  }\n  return dbPromise;\n}\n\nexport async function readHeartbeatsFromIndexedDB(\n  app: FirebaseApp\n): Promise<HeartbeatsInIndexedDB | undefined> {\n  try {\n    const db = await getDbPromise();\n    const tx = db.transaction(STORE_NAME);\n    const result = await tx.objectStore(STORE_NAME).get(computeKey(app));\n    // We already have the value but tx.done can throw,\n    // so we need to await it here to catch errors\n    await tx.done;\n    return result;\n  } catch (e) {\n    if (e instanceof FirebaseError) {\n      logger.warn(e.message);\n    } else {\n      const idbGetError = ERROR_FACTORY.create(AppError.IDB_GET, {\n        originalErrorMessage: (e as Error)?.message\n      });\n      logger.warn(idbGetError.message);\n    }\n  }\n}\n\nexport async function writeHeartbeatsToIndexedDB(\n  app: FirebaseApp,\n  heartbeatObject: HeartbeatsInIndexedDB\n): Promise<void> {\n  try {\n    const db = await getDbPromise();\n    const tx = db.transaction(STORE_NAME, 'readwrite');\n    const objectStore = tx.objectStore(STORE_NAME);\n    await objectStore.put(heartbeatObject, computeKey(app));\n    await tx.done;\n  } catch (e) {\n    if (e instanceof FirebaseError) {\n      logger.warn(e.message);\n    } else {\n      const idbGetError = ERROR_FACTORY.create(AppError.IDB_WRITE, {\n        originalErrorMessage: (e as Error)?.message\n      });\n      logger.warn(idbGetError.message);\n    }\n  }\n}\n\nfunction computeKey(app: FirebaseApp): string {\n  return `${app.name}!${app.options.appId}`;\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ComponentContainer } from '@firebase/component';\nimport {\n  base64urlEncodeWithoutPadding,\n  isIndexedDBAvailable,\n  validateIndexedDBOpenable\n} from '@firebase/util';\nimport {\n  readHeartbeatsFromIndexedDB,\n  writeHeartbeatsToIndexedDB\n} from './indexeddb';\nimport { FirebaseApp } from './public-types';\nimport {\n  HeartbeatsByUserAgent,\n  HeartbeatService,\n  HeartbeatsInIndexedDB,\n  HeartbeatStorage,\n  SingleDateHeartbeat\n} from './types';\n\nconst MAX_HEADER_BYTES = 1024;\n// 30 days\nconst STORED_HEARTBEAT_RETENTION_MAX_MILLIS = 30 * 24 * 60 * 60 * 1000;\n\nexport class HeartbeatServiceImpl implements HeartbeatService {\n  /**\n   * The persistence layer for heartbeats\n   * Leave public for easier testing.\n   */\n  _storage: HeartbeatStorageImpl;\n\n  /**\n   * In-memory cache for heartbeats, used by getHeartbeatsHeader() to generate\n   * the header string.\n   * Stores one record per date. This will be consolidated into the standard\n   * format of one record per user agent string before being sent as a header.\n   * Populated from indexedDB when the controller is instantiated and should\n   * be kept in sync with indexedDB.\n   * Leave public for easier testing.\n   */\n  _heartbeatsCache: HeartbeatsInIndexedDB | null = null;\n\n  /**\n   * the initialization promise for populating heartbeatCache.\n   * If getHeartbeatsHeader() is called before the promise resolves\n   * (hearbeatsCache == null), it should wait for this promise\n   * Leave public for easier testing.\n   */\n  _heartbeatsCachePromise: Promise<HeartbeatsInIndexedDB>;\n  constructor(private readonly container: ComponentContainer) {\n    const app = this.container.getProvider('app').getImmediate();\n    this._storage = new HeartbeatStorageImpl(app);\n    this._heartbeatsCachePromise = this._storage.read().then(result => {\n      this._heartbeatsCache = result;\n      return result;\n    });\n  }\n\n  /**\n   * Called to report a heartbeat. The function will generate\n   * a HeartbeatsByUserAgent object, update heartbeatsCache, and persist it\n   * to IndexedDB.\n   * Note that we only store one heartbeat per day. So if a heartbeat for today is\n   * already logged, subsequent calls to this function in the same day will be ignored.\n   */\n  async triggerHeartbeat(): Promise<void> {\n    const platformLogger = this.container\n      .getProvider('platform-logger')\n      .getImmediate();\n\n    // This is the \"Firebase user agent\" string from the platform logger\n    // service, not the browser user agent.\n    const agent = platformLogger.getPlatformInfoString();\n    const date = getUTCDateString();\n    if (this._heartbeatsCache?.heartbeats == null) {\n      this._heartbeatsCache = await this._heartbeatsCachePromise;\n      // If we failed to construct a heartbeats cache, then return immediately.\n      if (this._heartbeatsCache?.heartbeats == null) {\n        return;\n      }\n    }\n    // Do not store a heartbeat if one is already stored for this day\n    // or if a header has already been sent today.\n    if (\n      this._heartbeatsCache.lastSentHeartbeatDate === date ||\n      this._heartbeatsCache.heartbeats.some(\n        singleDateHeartbeat => singleDateHeartbeat.date === date\n      )\n    ) {\n      return;\n    } else {\n      // There is no entry for this date. Create one.\n      this._heartbeatsCache.heartbeats.push({ date, agent });\n    }\n    // Remove entries older than 30 days.\n    this._heartbeatsCache.heartbeats = this._heartbeatsCache.heartbeats.filter(\n      singleDateHeartbeat => {\n        const hbTimestamp = new Date(singleDateHeartbeat.date).valueOf();\n        const now = Date.now();\n        return now - hbTimestamp <= STORED_HEARTBEAT_RETENTION_MAX_MILLIS;\n      }\n    );\n    return this._storage.overwrite(this._heartbeatsCache);\n  }\n\n  /**\n   * Returns a base64 encoded string which can be attached to the heartbeat-specific header directly.\n   * It also clears all heartbeats from memory as well as in IndexedDB.\n   *\n   * NOTE: Consuming product SDKs should not send the header if this method\n   * returns an empty string.\n   */\n  async getHeartbeatsHeader(): Promise<string> {\n    if (this._heartbeatsCache === null) {\n      await this._heartbeatsCachePromise;\n    }\n    // If it's still null or the array is empty, there is no data to send.\n    if (\n      this._heartbeatsCache?.heartbeats == null ||\n      this._heartbeatsCache.heartbeats.length === 0\n    ) {\n      return '';\n    }\n    const date = getUTCDateString();\n    // Extract as many heartbeats from the cache as will fit under the size limit.\n    const { heartbeatsToSend, unsentEntries } = extractHeartbeatsForHeader(\n      this._heartbeatsCache.heartbeats\n    );\n    const headerString = base64urlEncodeWithoutPadding(\n      JSON.stringify({ version: 2, heartbeats: heartbeatsToSend })\n    );\n    // Store last sent date to prevent another being logged/sent for the same day.\n    this._heartbeatsCache.lastSentHeartbeatDate = date;\n    if (unsentEntries.length > 0) {\n      // Store any unsent entries if they exist.\n      this._heartbeatsCache.heartbeats = unsentEntries;\n      // This seems more likely than emptying the array (below) to lead to some odd state\n      // since the cache isn't empty and this will be called again on the next request,\n      // and is probably safest if we await it.\n      await this._storage.overwrite(this._heartbeatsCache);\n    } else {\n      this._heartbeatsCache.heartbeats = [];\n      // Do not wait for this, to reduce latency.\n      void this._storage.overwrite(this._heartbeatsCache);\n    }\n    return headerString;\n  }\n}\n\nfunction getUTCDateString(): string {\n  const today = new Date();\n  // Returns date format 'YYYY-MM-DD'\n  return today.toISOString().substring(0, 10);\n}\n\nexport function extractHeartbeatsForHeader(\n  heartbeatsCache: SingleDateHeartbeat[],\n  maxSize = MAX_HEADER_BYTES\n): {\n  heartbeatsToSend: HeartbeatsByUserAgent[];\n  unsentEntries: SingleDateHeartbeat[];\n} {\n  // Heartbeats grouped by user agent in the standard format to be sent in\n  // the header.\n  const heartbeatsToSend: HeartbeatsByUserAgent[] = [];\n  // Single date format heartbeats that are not sent.\n  let unsentEntries = heartbeatsCache.slice();\n  for (const singleDateHeartbeat of heartbeatsCache) {\n    // Look for an existing entry with the same user agent.\n    const heartbeatEntry = heartbeatsToSend.find(\n      hb => hb.agent === singleDateHeartbeat.agent\n    );\n    if (!heartbeatEntry) {\n      // If no entry for this user agent exists, create one.\n      heartbeatsToSend.push({\n        agent: singleDateHeartbeat.agent,\n        dates: [singleDateHeartbeat.date]\n      });\n      if (countBytes(heartbeatsToSend) > maxSize) {\n        // If the header would exceed max size, remove the added heartbeat\n        // entry and stop adding to the header.\n        heartbeatsToSend.pop();\n        break;\n      }\n    } else {\n      heartbeatEntry.dates.push(singleDateHeartbeat.date);\n      // If the header would exceed max size, remove the added date\n      // and stop adding to the header.\n      if (countBytes(heartbeatsToSend) > maxSize) {\n        heartbeatEntry.dates.pop();\n        break;\n      }\n    }\n    // Pop unsent entry from queue. (Skipped if adding the entry exceeded\n    // quota and the loop breaks early.)\n    unsentEntries = unsentEntries.slice(1);\n  }\n  return {\n    heartbeatsToSend,\n    unsentEntries\n  };\n}\n\nexport class HeartbeatStorageImpl implements HeartbeatStorage {\n  private _canUseIndexedDBPromise: Promise<boolean>;\n  constructor(public app: FirebaseApp) {\n    this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck();\n  }\n  async runIndexedDBEnvironmentCheck(): Promise<boolean> {\n    if (!isIndexedDBAvailable()) {\n      return false;\n    } else {\n      return validateIndexedDBOpenable()\n        .then(() => true)\n        .catch(() => false);\n    }\n  }\n  /**\n   * Read all heartbeats.\n   */\n  async read(): Promise<HeartbeatsInIndexedDB> {\n    const canUseIndexedDB = await this._canUseIndexedDBPromise;\n    if (!canUseIndexedDB) {\n      return { heartbeats: [] };\n    } else {\n      const idbHeartbeatObject = await readHeartbeatsFromIndexedDB(this.app);\n      if (idbHeartbeatObject?.heartbeats) {\n        return idbHeartbeatObject;\n      } else {\n        return { heartbeats: [] };\n      }\n    }\n  }\n  // overwrite the storage with the provided heartbeats\n  async overwrite(heartbeatsObject: HeartbeatsInIndexedDB): Promise<void> {\n    const canUseIndexedDB = await this._canUseIndexedDBPromise;\n    if (!canUseIndexedDB) {\n      return;\n    } else {\n      const existingHeartbeatsObject = await this.read();\n      return writeHeartbeatsToIndexedDB(this.app, {\n        lastSentHeartbeatDate:\n          heartbeatsObject.lastSentHeartbeatDate ??\n          existingHeartbeatsObject.lastSentHeartbeatDate,\n        heartbeats: heartbeatsObject.heartbeats\n      });\n    }\n  }\n  // add heartbeats\n  async add(heartbeatsObject: HeartbeatsInIndexedDB): Promise<void> {\n    const canUseIndexedDB = await this._canUseIndexedDBPromise;\n    if (!canUseIndexedDB) {\n      return;\n    } else {\n      const existingHeartbeatsObject = await this.read();\n      return writeHeartbeatsToIndexedDB(this.app, {\n        lastSentHeartbeatDate:\n          heartbeatsObject.lastSentHeartbeatDate ??\n          existingHeartbeatsObject.lastSentHeartbeatDate,\n        heartbeats: [\n          ...existingHeartbeatsObject.heartbeats,\n          ...heartbeatsObject.heartbeats\n        ]\n      });\n    }\n  }\n}\n\n/**\n * Calculate bytes of a HeartbeatsByUserAgent array after being wrapped\n * in a platform logging header JSON object, stringified, and converted\n * to base 64.\n */\nexport function countBytes(heartbeatsCache: HeartbeatsByUserAgent[]): number {\n  // base64 has a restricted set of characters, all of which should be 1 byte.\n  return base64urlEncodeWithoutPadding(\n    // heartbeatsCache wrapper properties\n    JSON.stringify({ version: 2, heartbeats: heartbeatsCache })\n  ).length;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, ComponentType } from '@firebase/component';\nimport { PlatformLoggerServiceImpl } from './platformLoggerService';\nimport { name, version } from '../package.json';\nimport { _registerComponent } from './internal';\nimport { registerVersion } from './api';\nimport { HeartbeatServiceImpl } from './heartbeatService';\n\nexport function registerCoreComponents(variant?: string): void {\n  _registerComponent(\n    new Component(\n      'platform-logger',\n      container => new PlatformLoggerServiceImpl(container),\n      ComponentType.PRIVATE\n    )\n  );\n  _registerComponent(\n    new Component(\n      'heartbeat',\n      container => new HeartbeatServiceImpl(container),\n      ComponentType.PRIVATE\n    )\n  );\n\n  // Register `app` package.\n  registerVersion(name, version, variant);\n  // BUILD_TARGET will be replaced by values like esm5, esm2017, cjs5, etc during the compilation\n  registerVersion(name, version, '__BUILD_TARGET__');\n  // Register platform SDK identifier (no version).\n  registerVersion('fire-js', '');\n}\n","/**\n * Firebase App\n *\n * @remarks This package coordinates the communication between the different Firebase components\n * @packageDocumentation\n */\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { registerCoreComponents } from './registerCoreComponents';\n\nexport * from './api';\nexport * from './internal';\nexport * from './public-types';\n\nregisterCoreComponents('__RUNTIME_ENV__');\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const DEFAULT_ENTRY_NAME = '[DEFAULT]';\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  InstantiationMode,\n  InstanceFactory,\n  ComponentType,\n  Dictionary,\n  Name,\n  onInstanceCreatedCallback\n} from './types';\n\n/**\n * Component for service name T, e.g. `auth`, `auth-internal`\n */\nexport class Component<T extends Name = Name> {\n  multipleInstances = false;\n  /**\n   * Properties to be added to the service namespace\n   */\n  serviceProps: Dictionary = {};\n\n  instantiationMode = InstantiationMode.LAZY;\n\n  onInstanceCreated: onInstanceCreatedCallback<T> | null = null;\n\n  /**\n   *\n   * @param name The public service name, e.g. app, auth, firestore, database\n   * @param instanceFactory Service factory responsible for creating the public interface\n   * @param type whether the service provided by the component is public or private\n   */\n  constructor(\n    readonly name: T,\n    readonly instanceFactory: InstanceFactory<T>,\n    readonly type: ComponentType\n  ) {}\n\n  setInstantiationMode(mode: InstantiationMode): this {\n    this.instantiationMode = mode;\n    return this;\n  }\n\n  setMultipleInstances(multipleInstances: boolean): this {\n    this.multipleInstances = multipleInstances;\n    return this;\n  }\n\n  setServiceProps(props: Dictionary): this {\n    this.serviceProps = props;\n    return this;\n  }\n\n  setInstanceCreatedCallback(callback: onInstanceCreatedCallback<T>): this {\n    this.onInstanceCreated = callback;\n    return this;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Deferred } from '@firebase/util';\nimport { ComponentContainer } from './component_container';\nimport { DEFAULT_ENTRY_NAME } from './constants';\nimport {\n  InitializeOptions,\n  InstantiationMode,\n  Name,\n  NameServiceMapping,\n  OnInitCallBack\n} from './types';\nimport { Component } from './component';\n\n/**\n * Provider for instance for service name T, e.g. 'auth', 'auth-internal'\n * NameServiceMapping[T] is an alias for the type of the instance\n */\nexport class Provider<T extends Name> {\n  private component: Component<T> | null = null;\n  private readonly instances: Map<string, NameServiceMapping[T]> = new Map();\n  private readonly instancesDeferred: Map<\n    string,\n    Deferred<NameServiceMapping[T]>\n  > = new Map();\n  private readonly instancesOptions: Map<string, Record<string, unknown>> =\n    new Map();\n  private onInitCallbacks: Map<string, Set<OnInitCallBack<T>>> = new Map();\n\n  constructor(\n    private readonly name: T,\n    private readonly container: ComponentContainer\n  ) {}\n\n  /**\n   * @param identifier A provider can provide mulitple instances of a service\n   * if this.component.multipleInstances is true.\n   */\n  get(identifier?: string): Promise<NameServiceMapping[T]> {\n    // if multipleInstances is not supported, use the default name\n    const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);\n\n    if (!this.instancesDeferred.has(normalizedIdentifier)) {\n      const deferred = new Deferred<NameServiceMapping[T]>();\n      this.instancesDeferred.set(normalizedIdentifier, deferred);\n\n      if (\n        this.isInitialized(normalizedIdentifier) ||\n        this.shouldAutoInitialize()\n      ) {\n        // initialize the service if it can be auto-initialized\n        try {\n          const instance = this.getOrInitializeService({\n            instanceIdentifier: normalizedIdentifier\n          });\n          if (instance) {\n            deferred.resolve(instance);\n          }\n        } catch (e) {\n          // when the instance factory throws an exception during get(), it should not cause\n          // a fatal error. We just return the unresolved promise in this case.\n        }\n      }\n    }\n\n    return this.instancesDeferred.get(normalizedIdentifier)!.promise;\n  }\n\n  /**\n   *\n   * @param options.identifier A provider can provide mulitple instances of a service\n   * if this.component.multipleInstances is true.\n   * @param options.optional If optional is false or not provided, the method throws an error when\n   * the service is not immediately available.\n   * If optional is true, the method returns null if the service is not immediately available.\n   */\n  getImmediate(options: {\n    identifier?: string;\n    optional: true;\n  }): NameServiceMapping[T] | null;\n  getImmediate(options?: {\n    identifier?: string;\n    optional?: false;\n  }): NameServiceMapping[T];\n  getImmediate(options?: {\n    identifier?: string;\n    optional?: boolean;\n  }): NameServiceMapping[T] | null {\n    // if multipleInstances is not supported, use the default name\n    const normalizedIdentifier = this.normalizeInstanceIdentifier(\n      options?.identifier\n    );\n    const optional = options?.optional ?? false;\n\n    if (\n      this.isInitialized(normalizedIdentifier) ||\n      this.shouldAutoInitialize()\n    ) {\n      try {\n        return this.getOrInitializeService({\n          instanceIdentifier: normalizedIdentifier\n        });\n      } catch (e) {\n        if (optional) {\n          return null;\n        } else {\n          throw e;\n        }\n      }\n    } else {\n      // In case a component is not initialized and should/can not be auto-initialized at the moment, return null if the optional flag is set, or throw\n      if (optional) {\n        return null;\n      } else {\n        throw Error(`Service ${this.name} is not available`);\n      }\n    }\n  }\n\n  getComponent(): Component<T> | null {\n    return this.component;\n  }\n\n  setComponent(component: Component<T>): void {\n    if (component.name !== this.name) {\n      throw Error(\n        `Mismatching Component ${component.name} for Provider ${this.name}.`\n      );\n    }\n\n    if (this.component) {\n      throw Error(`Component for ${this.name} has already been provided`);\n    }\n\n    this.component = component;\n\n    // return early without attempting to initialize the component if the component requires explicit initialization (calling `Provider.initialize()`)\n    if (!this.shouldAutoInitialize()) {\n      return;\n    }\n\n    // if the service is eager, initialize the default instance\n    if (isComponentEager(component)) {\n      try {\n        this.getOrInitializeService({ instanceIdentifier: DEFAULT_ENTRY_NAME });\n      } catch (e) {\n        // when the instance factory for an eager Component throws an exception during the eager\n        // initialization, it should not cause a fatal error.\n        // TODO: Investigate if we need to make it configurable, because some component may want to cause\n        // a fatal error in this case?\n      }\n    }\n\n    // Create service instances for the pending promises and resolve them\n    // NOTE: if this.multipleInstances is false, only the default instance will be created\n    // and all promises with resolve with it regardless of the identifier.\n    for (const [\n      instanceIdentifier,\n      instanceDeferred\n    ] of this.instancesDeferred.entries()) {\n      const normalizedIdentifier =\n        this.normalizeInstanceIdentifier(instanceIdentifier);\n\n      try {\n        // `getOrInitializeService()` should always return a valid instance since a component is guaranteed. use ! to make typescript happy.\n        const instance = this.getOrInitializeService({\n          instanceIdentifier: normalizedIdentifier\n        })!;\n        instanceDeferred.resolve(instance);\n      } catch (e) {\n        // when the instance factory throws an exception, it should not cause\n        // a fatal error. We just leave the promise unresolved.\n      }\n    }\n  }\n\n  clearInstance(identifier: string = DEFAULT_ENTRY_NAME): void {\n    this.instancesDeferred.delete(identifier);\n    this.instancesOptions.delete(identifier);\n    this.instances.delete(identifier);\n  }\n\n  // app.delete() will call this method on every provider to delete the services\n  // TODO: should we mark the provider as deleted?\n  async delete(): Promise<void> {\n    const services = Array.from(this.instances.values());\n\n    await Promise.all([\n      ...services\n        .filter(service => 'INTERNAL' in service) // legacy services\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        .map(service => (service as any).INTERNAL!.delete()),\n      ...services\n        .filter(service => '_delete' in service) // modularized services\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        .map(service => (service as any)._delete())\n    ]);\n  }\n\n  isComponentSet(): boolean {\n    return this.component != null;\n  }\n\n  isInitialized(identifier: string = DEFAULT_ENTRY_NAME): boolean {\n    return this.instances.has(identifier);\n  }\n\n  getOptions(identifier: string = DEFAULT_ENTRY_NAME): Record<string, unknown> {\n    return this.instancesOptions.get(identifier) || {};\n  }\n\n  initialize(opts: InitializeOptions = {}): NameServiceMapping[T] {\n    const { options = {} } = opts;\n    const normalizedIdentifier = this.normalizeInstanceIdentifier(\n      opts.instanceIdentifier\n    );\n    if (this.isInitialized(normalizedIdentifier)) {\n      throw Error(\n        `${this.name}(${normalizedIdentifier}) has already been initialized`\n      );\n    }\n\n    if (!this.isComponentSet()) {\n      throw Error(`Component ${this.name} has not been registered yet`);\n    }\n\n    const instance = this.getOrInitializeService({\n      instanceIdentifier: normalizedIdentifier,\n      options\n    })!;\n\n    // resolve any pending promise waiting for the service instance\n    for (const [\n      instanceIdentifier,\n      instanceDeferred\n    ] of this.instancesDeferred.entries()) {\n      const normalizedDeferredIdentifier =\n        this.normalizeInstanceIdentifier(instanceIdentifier);\n      if (normalizedIdentifier === normalizedDeferredIdentifier) {\n        instanceDeferred.resolve(instance);\n      }\n    }\n\n    return instance;\n  }\n\n  /**\n   *\n   * @param callback - a function that will be invoked  after the provider has been initialized by calling provider.initialize().\n   * The function is invoked SYNCHRONOUSLY, so it should not execute any longrunning tasks in order to not block the program.\n   *\n   * @param identifier An optional instance identifier\n   * @returns a function to unregister the callback\n   */\n  onInit(callback: OnInitCallBack<T>, identifier?: string): () => void {\n    const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);\n    const existingCallbacks =\n      this.onInitCallbacks.get(normalizedIdentifier) ??\n      new Set<OnInitCallBack<T>>();\n    existingCallbacks.add(callback);\n    this.onInitCallbacks.set(normalizedIdentifier, existingCallbacks);\n\n    const existingInstance = this.instances.get(normalizedIdentifier);\n    if (existingInstance) {\n      callback(existingInstance, normalizedIdentifier);\n    }\n\n    return () => {\n      existingCallbacks.delete(callback);\n    };\n  }\n\n  /**\n   * Invoke onInit callbacks synchronously\n   * @param instance the service instance`\n   */\n  private invokeOnInitCallbacks(\n    instance: NameServiceMapping[T],\n    identifier: string\n  ): void {\n    const callbacks = this.onInitCallbacks.get(identifier);\n    if (!callbacks) {\n      return;\n    }\n    for (const callback of callbacks) {\n      try {\n        callback(instance, identifier);\n      } catch {\n        // ignore errors in the onInit callback\n      }\n    }\n  }\n\n  private getOrInitializeService({\n    instanceIdentifier,\n    options = {}\n  }: {\n    instanceIdentifier: string;\n    options?: Record<string, unknown>;\n  }): NameServiceMapping[T] | null {\n    let instance = this.instances.get(instanceIdentifier);\n    if (!instance && this.component) {\n      instance = this.component.instanceFactory(this.container, {\n        instanceIdentifier: normalizeIdentifierForFactory(instanceIdentifier),\n        options\n      });\n      this.instances.set(instanceIdentifier, instance);\n      this.instancesOptions.set(instanceIdentifier, options);\n\n      /**\n       * Invoke onInit listeners.\n       * Note this.component.onInstanceCreated is different, which is used by the component creator,\n       * while onInit listeners are registered by consumers of the provider.\n       */\n      this.invokeOnInitCallbacks(instance, instanceIdentifier);\n\n      /**\n       * Order is important\n       * onInstanceCreated() should be called after this.instances.set(instanceIdentifier, instance); which\n       * makes `isInitialized()` return true.\n       */\n      if (this.component.onInstanceCreated) {\n        try {\n          this.component.onInstanceCreated(\n            this.container,\n            instanceIdentifier,\n            instance\n          );\n        } catch {\n          // ignore errors in the onInstanceCreatedCallback\n        }\n      }\n    }\n\n    return instance || null;\n  }\n\n  private normalizeInstanceIdentifier(\n    identifier: string = DEFAULT_ENTRY_NAME\n  ): string {\n    if (this.component) {\n      return this.component.multipleInstances ? identifier : DEFAULT_ENTRY_NAME;\n    } else {\n      return identifier; // assume multiple instances are supported before the component is provided.\n    }\n  }\n\n  private shouldAutoInitialize(): boolean {\n    return (\n      !!this.component &&\n      this.component.instantiationMode !== InstantiationMode.EXPLICIT\n    );\n  }\n}\n\n// undefined should be passed to the service factory for the default instance\nfunction normalizeIdentifierForFactory(identifier: string): string | undefined {\n  return identifier === DEFAULT_ENTRY_NAME ? undefined : identifier;\n}\n\nfunction isComponentEager<T extends Name>(component: Component<T>): boolean {\n  return component.instantiationMode === InstantiationMode.EAGER;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Provider } from './provider';\nimport { Component } from './component';\nimport { Name } from './types';\n\n/**\n * ComponentContainer that provides Providers for service name T, e.g. `auth`, `auth-internal`\n */\nexport class ComponentContainer {\n  private readonly providers = new Map<string, Provider<Name>>();\n\n  constructor(private readonly name: string) {}\n\n  /**\n   *\n   * @param component Component being added\n   * @param overwrite When a component with the same name has already been registered,\n   * if overwrite is true: overwrite the existing component with the new component and create a new\n   * provider with the new component. It can be useful in tests where you want to use different mocks\n   * for different tests.\n   * if overwrite is false: throw an exception\n   */\n  addComponent<T extends Name>(component: Component<T>): void {\n    const provider = this.getProvider(component.name);\n    if (provider.isComponentSet()) {\n      throw new Error(\n        `Component ${component.name} has already been registered with ${this.name}`\n      );\n    }\n\n    provider.setComponent(component);\n  }\n\n  addOrOverwriteComponent<T extends Name>(component: Component<T>): void {\n    const provider = this.getProvider(component.name);\n    if (provider.isComponentSet()) {\n      // delete the existing provider from the container, so we can register the new component\n      this.providers.delete(component.name);\n    }\n\n    this.addComponent(component);\n  }\n\n  /**\n   * getProvider provides a type safe interface where it can only be called with a field name\n   * present in NameServiceMapping interface.\n   *\n   * Firebase SDKs providing services should extend NameServiceMapping interface to register\n   * themselves.\n   */\n  getProvider<T extends Name>(name: T): Provider<T> {\n    if (this.providers.has(name)) {\n      return this.providers.get(name) as unknown as Provider<T>;\n    }\n\n    // create a Provider for a service that hasn't registered with Firebase\n    const provider = new Provider<T>(name, this);\n    this.providers.set(name, provider as unknown as Provider<Name>);\n\n    return provider as Provider<T>;\n  }\n\n  getProviders(): Array<Provider<Name>> {\n    return Array.from(this.providers.values());\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { deleteInstallationRequest } from '../functions/delete-installation-request';\nimport { remove, update } from '../helpers/idb-manager';\nimport { RequestStatus } from '../interfaces/installation-entry';\nimport { ERROR_FACTORY, ErrorCode } from '../util/errors';\nimport { FirebaseInstallationsImpl } from '../interfaces/installation-impl';\nimport { Installations } from '../interfaces/public-types';\n\n/**\n * Deletes the Firebase Installation and all associated data.\n * @param installations - The `Installations` instance.\n *\n * @public\n */\nexport async function deleteInstallations(\n  installations: Installations\n): Promise<void> {\n  const { appConfig } = installations as FirebaseInstallationsImpl;\n\n  const entry = await update(appConfig, oldEntry => {\n    if (oldEntry && oldEntry.registrationStatus === RequestStatus.NOT_STARTED) {\n      // Delete the unregistered entry without sending a deleteInstallation request.\n      return undefined;\n    }\n    return oldEntry;\n  });\n\n  if (entry) {\n    if (entry.registrationStatus === RequestStatus.IN_PROGRESS) {\n      // Can't delete while trying to register.\n      throw ERROR_FACTORY.create(ErrorCode.DELETE_PENDING_REGISTRATION);\n    } else if (entry.registrationStatus === RequestStatus.COMPLETED) {\n      if (!navigator.onLine) {\n        throw ERROR_FACTORY.create(ErrorCode.APP_OFFLINE);\n      } else {\n        await deleteInstallationRequest(appConfig, entry);\n        await remove(appConfig);\n      }\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AppConfig } from '../interfaces/installation-impl';\nimport { RegisteredInstallationEntry } from '../interfaces/installation-entry';\nimport {\n  getErrorFromResponse,\n  getHeadersWithAuth,\n  getInstallationsEndpoint,\n  retryIfServerError\n} from './common';\n\nexport async function deleteInstallationRequest(\n  appConfig: AppConfig,\n  installationEntry: RegisteredInstallationEntry\n): Promise<void> {\n  const endpoint = getDeleteEndpoint(appConfig, installationEntry);\n\n  const headers = getHeadersWithAuth(appConfig, installationEntry);\n  const request: RequestInit = {\n    method: 'DELETE',\n    headers\n  };\n\n  const response = await retryIfServerError(() => fetch(endpoint, request));\n  if (!response.ok) {\n    throw await getErrorFromResponse('Delete Installation', response);\n  }\n}\n\nfunction getDeleteEndpoint(\n  appConfig: AppConfig,\n  { fid }: RegisteredInstallationEntry\n): string {\n  return `${getInstallationsEndpoint(appConfig)}/${fid}`;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseApp, getApp, _getProvider } from '@firebase/app';\nimport { Installations } from '../interfaces/public-types';\n\n/**\n * Returns an instance of {@link Installations} associated with the given\n * {@link @firebase/app#FirebaseApp} instance.\n * @param app - The {@link @firebase/app#FirebaseApp} instance.\n *\n * @public\n */\nexport function getInstallations(app: FirebaseApp = getApp()): Installations {\n  const installationsImpl = _getProvider(app, 'installations').getImmediate();\n  return installationsImpl;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { addCallback, removeCallback } from '../helpers/fid-changed';\nimport { FirebaseInstallationsImpl } from '../interfaces/installation-impl';\nimport { Installations } from '../interfaces/public-types';\n\n/**\n * An user defined callback function that gets called when Installations ID changes.\n *\n * @public\n */\nexport type IdChangeCallbackFn = (installationId: string) => void;\n/**\n * Unsubscribe a callback function previously added via {@link IdChangeCallbackFn}.\n *\n * @public\n */\nexport type IdChangeUnsubscribeFn = () => void;\n\n/**\n * Sets a new callback that will get called when Installation ID changes.\n * Returns an unsubscribe function that will remove the callback when called.\n * @param installations - The `Installations` instance.\n * @param callback - The callback function that is invoked when FID changes.\n * @returns A function that can be called to unsubscribe.\n *\n * @public\n */\nexport function onIdChange(\n  installations: Installations,\n  callback: IdChangeCallbackFn\n): IdChangeUnsubscribeFn {\n  const { appConfig } = installations as FirebaseInstallationsImpl;\n\n  addCallback(appConfig, callback);\n  return () => {\n    removeCallback(appConfig, callback);\n  };\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getKey } from '../util/get-key';\nimport { AppConfig } from '../interfaces/installation-impl';\nimport { IdChangeCallbackFn } from '../api';\n\nconst fidChangeCallbacks: Map<string, Set<IdChangeCallbackFn>> = new Map();\n\n/**\n * Calls the onIdChange callbacks with the new FID value, and broadcasts the\n * change to other tabs.\n */\nexport function fidChanged(appConfig: AppConfig, fid: string): void {\n  const key = getKey(appConfig);\n\n  callFidChangeCallbacks(key, fid);\n  broadcastFidChange(key, fid);\n}\n\nexport function addCallback(\n  appConfig: AppConfig,\n  callback: IdChangeCallbackFn\n): void {\n  // Open the broadcast channel if it's not already open,\n  // to be able to listen to change events from other tabs.\n  getBroadcastChannel();\n\n  const key = getKey(appConfig);\n\n  let callbackSet = fidChangeCallbacks.get(key);\n  if (!callbackSet) {\n    callbackSet = new Set();\n    fidChangeCallbacks.set(key, callbackSet);\n  }\n  callbackSet.add(callback);\n}\n\nexport function removeCallback(\n  appConfig: AppConfig,\n  callback: IdChangeCallbackFn\n): void {\n  const key = getKey(appConfig);\n\n  const callbackSet = fidChangeCallbacks.get(key);\n\n  if (!callbackSet) {\n    return;\n  }\n\n  callbackSet.delete(callback);\n  if (callbackSet.size === 0) {\n    fidChangeCallbacks.delete(key);\n  }\n\n  // Close broadcast channel if there are no more callbacks.\n  closeBroadcastChannel();\n}\n\nfunction callFidChangeCallbacks(key: string, fid: string): void {\n  const callbacks = fidChangeCallbacks.get(key);\n  if (!callbacks) {\n    return;\n  }\n\n  for (const callback of callbacks) {\n    callback(fid);\n  }\n}\n\nfunction broadcastFidChange(key: string, fid: string): void {\n  const channel = getBroadcastChannel();\n  if (channel) {\n    channel.postMessage({ key, fid });\n  }\n  closeBroadcastChannel();\n}\n\nlet broadcastChannel: BroadcastChannel | null = null;\n/** Opens and returns a BroadcastChannel if it is supported by the browser. */\nfunction getBroadcastChannel(): BroadcastChannel | null {\n  if (!broadcastChannel && 'BroadcastChannel' in self) {\n    broadcastChannel = new BroadcastChannel('[Firebase] FID Change');\n    broadcastChannel.onmessage = e => {\n      callFidChangeCallbacks(e.data.key, e.data.fid);\n    };\n  }\n  return broadcastChannel;\n}\n\nfunction closeBroadcastChannel(): void {\n  if (fidChangeCallbacks.size === 0 && broadcastChannel) {\n    broadcastChannel.close();\n    broadcastChannel = null;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { version } from '../../package.json';\n\nexport const PENDING_TIMEOUT_MS = 10000;\n\nexport const PACKAGE_VERSION = `w:${version}`;\nexport const INTERNAL_AUTH_VERSION = 'FIS_v2';\n\nexport const INSTALLATIONS_API_URL =\n  'https://firebaseinstallations.googleapis.com/v1';\n\nexport const TOKEN_EXPIRATION_BUFFER = 60 * 60 * 1000; // One hour\n\nexport const SERVICE = 'installations';\nexport const SERVICE_NAME = 'Installations';\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ErrorFactory, FirebaseError } from '@firebase/util';\nimport { SERVICE, SERVICE_NAME } from './constants';\n\nexport const enum ErrorCode {\n  MISSING_APP_CONFIG_VALUES = 'missing-app-config-values',\n  NOT_REGISTERED = 'not-registered',\n  INSTALLATION_NOT_FOUND = 'installation-not-found',\n  REQUEST_FAILED = 'request-failed',\n  APP_OFFLINE = 'app-offline',\n  DELETE_PENDING_REGISTRATION = 'delete-pending-registration'\n}\n\nconst ERROR_DESCRIPTION_MAP: { readonly [key in ErrorCode]: string } = {\n  [ErrorCode.MISSING_APP_CONFIG_VALUES]:\n    'Missing App configuration value: \"{$valueName}\"',\n  [ErrorCode.NOT_REGISTERED]: 'Firebase Installation is not registered.',\n  [ErrorCode.INSTALLATION_NOT_FOUND]: 'Firebase Installation not found.',\n  [ErrorCode.REQUEST_FAILED]:\n    '{$requestName} request failed with error \"{$serverCode} {$serverStatus}: {$serverMessage}\"',\n  [ErrorCode.APP_OFFLINE]: 'Could not process request. Application offline.',\n  [ErrorCode.DELETE_PENDING_REGISTRATION]:\n    \"Can't delete installation while there is a pending registration request.\"\n};\n\ninterface ErrorParams {\n  [ErrorCode.MISSING_APP_CONFIG_VALUES]: {\n    valueName: string;\n  };\n  [ErrorCode.REQUEST_FAILED]: {\n    requestName: string;\n    [index: string]: string | number; // to make Typescript 3.8 happy\n  } & ServerErrorData;\n}\n\nexport const ERROR_FACTORY = new ErrorFactory<ErrorCode, ErrorParams>(\n  SERVICE,\n  SERVICE_NAME,\n  ERROR_DESCRIPTION_MAP\n);\n\nexport interface ServerErrorData {\n  serverCode: number;\n  serverMessage: string;\n  serverStatus: string;\n}\n\nexport type ServerError = FirebaseError & { customData: ServerErrorData };\n\n/** Returns true if error is a FirebaseError that is based on an error from the server. */\nexport function isServerError(error: unknown): error is ServerError {\n  return (\n    error instanceof FirebaseError &&\n    error.code.includes(ErrorCode.REQUEST_FAILED)\n  );\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseError } from '@firebase/util';\nimport { GenerateAuthTokenResponse } from '../interfaces/api-response';\nimport {\n  CompletedAuthToken,\n  RegisteredInstallationEntry,\n  RequestStatus\n} from '../interfaces/installation-entry';\nimport {\n  INSTALLATIONS_API_URL,\n  INTERNAL_AUTH_VERSION\n} from '../util/constants';\nimport { ERROR_FACTORY, ErrorCode } from '../util/errors';\nimport { AppConfig } from '../interfaces/installation-impl';\n\nexport function getInstallationsEndpoint({ projectId }: AppConfig): string {\n  return `${INSTALLATIONS_API_URL}/projects/${projectId}/installations`;\n}\n\nexport function extractAuthTokenInfoFromResponse(\n  response: GenerateAuthTokenResponse\n): CompletedAuthToken {\n  return {\n    token: response.token,\n    requestStatus: RequestStatus.COMPLETED,\n    expiresIn: getExpiresInFromResponseExpiresIn(response.expiresIn),\n    creationTime: Date.now()\n  };\n}\n\nexport async function getErrorFromResponse(\n  requestName: string,\n  response: Response\n): Promise<FirebaseError> {\n  const responseJson: ErrorResponse = await response.json();\n  const errorData = responseJson.error;\n  return ERROR_FACTORY.create(ErrorCode.REQUEST_FAILED, {\n    requestName,\n    serverCode: errorData.code,\n    serverMessage: errorData.message,\n    serverStatus: errorData.status\n  });\n}\n\nexport function getHeaders({ apiKey }: AppConfig): Headers {\n  return new Headers({\n    'Content-Type': 'application/json',\n    Accept: 'application/json',\n    'x-goog-api-key': apiKey\n  });\n}\n\nexport function getHeadersWithAuth(\n  appConfig: AppConfig,\n  { refreshToken }: RegisteredInstallationEntry\n): Headers {\n  const headers = getHeaders(appConfig);\n  headers.append('Authorization', getAuthorizationHeader(refreshToken));\n  return headers;\n}\n\nexport interface ErrorResponse {\n  error: {\n    code: number;\n    message: string;\n    status: string;\n  };\n}\n\n/**\n * Calls the passed in fetch wrapper and returns the response.\n * If the returned response has a status of 5xx, re-runs the function once and\n * returns the response.\n */\nexport async function retryIfServerError(\n  fn: () => Promise<Response>\n): Promise<Response> {\n  const result = await fn();\n\n  if (result.status >= 500 && result.status < 600) {\n    // Internal Server Error. Retry request.\n    return fn();\n  }\n\n  return result;\n}\n\nfunction getExpiresInFromResponseExpiresIn(responseExpiresIn: string): number {\n  // This works because the server will never respond with fractions of a second.\n  return Number(responseExpiresIn.replace('s', '000'));\n}\n\nfunction getAuthorizationHeader(refreshToken: string): string {\n  return `${INTERNAL_AUTH_VERSION} ${refreshToken}`;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** Returns a promise that resolves after given time passes. */\nexport function sleep(ms: number): Promise<void> {\n  return new Promise<void>(resolve => {\n    setTimeout(resolve, ms);\n  });\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { bufferToBase64UrlSafe } from './buffer-to-base64-url-safe';\n\nexport const VALID_FID_PATTERN = /^[cdef][\\w-]{21}$/;\nexport const INVALID_FID = '';\n\n/**\n * Generates a new FID using random values from Web Crypto API.\n * Returns an empty string if FID generation fails for any reason.\n */\nexport function generateFid(): string {\n  try {\n    // A valid FID has exactly 22 base64 characters, which is 132 bits, or 16.5\n    // bytes. our implementation generates a 17 byte array instead.\n    const fidByteArray = new Uint8Array(17);\n    const crypto =\n      self.crypto || (self as unknown as { msCrypto: Crypto }).msCrypto;\n    crypto.getRandomValues(fidByteArray);\n\n    // Replace the first 4 random bits with the constant FID header of 0b0111.\n    fidByteArray[0] = 0b01110000 + (fidByteArray[0] % 0b00010000);\n\n    const fid = encode(fidByteArray);\n\n    return VALID_FID_PATTERN.test(fid) ? fid : INVALID_FID;\n  } catch {\n    // FID generation errored\n    return INVALID_FID;\n  }\n}\n\n/** Converts a FID Uint8Array to a base64 string representation. */\nfunction encode(fidByteArray: Uint8Array): string {\n  const b64String = bufferToBase64UrlSafe(fidByteArray);\n\n  // Remove the 23rd character that was added because of the extra 4 bits at the\n  // end of our 17 byte array, and the '=' padding.\n  return b64String.substr(0, 22);\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function bufferToBase64UrlSafe(array: Uint8Array): string {\n  const b64 = btoa(String.fromCharCode(...array));\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_');\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AppConfig } from '../interfaces/installation-impl';\n\n/** Returns a string key that can be used to identify the app. */\nexport function getKey(appConfig: AppConfig): string {\n  return `${appConfig.appName}!${appConfig.appId}`;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DBSchema, IDBPDatabase, openDB } from 'idb';\nimport { AppConfig } from '../interfaces/installation-impl';\nimport { InstallationEntry } from '../interfaces/installation-entry';\nimport { getKey } from '../util/get-key';\nimport { fidChanged } from './fid-changed';\n\nconst DATABASE_NAME = 'firebase-installations-database';\nconst DATABASE_VERSION = 1;\nconst OBJECT_STORE_NAME = 'firebase-installations-store';\n\ninterface InstallationsDB extends DBSchema {\n  'firebase-installations-store': {\n    key: string;\n    value: InstallationEntry | undefined;\n  };\n}\n\nlet dbPromise: Promise<IDBPDatabase<InstallationsDB>> | null = null;\nfunction getDbPromise(): Promise<IDBPDatabase<InstallationsDB>> {\n  if (!dbPromise) {\n    dbPromise = openDB(DATABASE_NAME, DATABASE_VERSION, {\n      upgrade: (db, oldVersion) => {\n        // We don't use 'break' in this switch statement, the fall-through\n        // behavior is what we want, because if there are multiple versions between\n        // the old version and the current version, we want ALL the migrations\n        // that correspond to those versions to run, not only the last one.\n        // eslint-disable-next-line default-case\n        switch (oldVersion) {\n          case 0:\n            db.createObjectStore(OBJECT_STORE_NAME);\n        }\n      }\n    });\n  }\n  return dbPromise;\n}\n\n/** Gets record(s) from the objectStore that match the given key. */\nexport async function get(\n  appConfig: AppConfig\n): Promise<InstallationEntry | undefined> {\n  const key = getKey(appConfig);\n  const db = await getDbPromise();\n  return db\n    .transaction(OBJECT_STORE_NAME)\n    .objectStore(OBJECT_STORE_NAME)\n    .get(key) as Promise<InstallationEntry>;\n}\n\n/** Assigns or overwrites the record for the given key with the given value. */\nexport async function set<ValueType extends InstallationEntry>(\n  appConfig: AppConfig,\n  value: ValueType\n): Promise<ValueType> {\n  const key = getKey(appConfig);\n  const db = await getDbPromise();\n  const tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\n  const objectStore = tx.objectStore(OBJECT_STORE_NAME);\n  const oldValue = (await objectStore.get(key)) as InstallationEntry;\n  await objectStore.put(value, key);\n  await tx.done;\n\n  if (!oldValue || oldValue.fid !== value.fid) {\n    fidChanged(appConfig, value.fid);\n  }\n\n  return value;\n}\n\n/** Removes record(s) from the objectStore that match the given key. */\nexport async function remove(appConfig: AppConfig): Promise<void> {\n  const key = getKey(appConfig);\n  const db = await getDbPromise();\n  const tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\n  await tx.objectStore(OBJECT_STORE_NAME).delete(key);\n  await tx.done;\n}\n\n/**\n * Atomically updates a record with the result of updateFn, which gets\n * called with the current value. If newValue is undefined, the record is\n * deleted instead.\n * @return Updated value\n */\nexport async function update<ValueType extends InstallationEntry | undefined>(\n  appConfig: AppConfig,\n  updateFn: (previousValue: InstallationEntry | undefined) => ValueType\n): Promise<ValueType> {\n  const key = getKey(appConfig);\n  const db = await getDbPromise();\n  const tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\n  const store = tx.objectStore(OBJECT_STORE_NAME);\n  const oldValue: InstallationEntry | undefined = (await store.get(\n    key\n  )) as InstallationEntry;\n  const newValue = updateFn(oldValue);\n\n  if (newValue === undefined) {\n    await store.delete(key);\n  } else {\n    await store.put(newValue, key);\n  }\n  await tx.done;\n\n  if (newValue && (!oldValue || oldValue.fid !== newValue.fid)) {\n    fidChanged(appConfig, newValue.fid);\n  }\n\n  return newValue;\n}\n\nexport async function clear(): Promise<void> {\n  const db = await getDbPromise();\n  const tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\n  await tx.objectStore(OBJECT_STORE_NAME).clear();\n  await tx.done;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createInstallationRequest } from '../functions/create-installation-request';\nimport {\n  AppConfig,\n  FirebaseInstallationsImpl\n} from '../interfaces/installation-impl';\nimport {\n  InProgressInstallationEntry,\n  InstallationEntry,\n  RegisteredInstallationEntry,\n  RequestStatus\n} from '../interfaces/installation-entry';\nimport { PENDING_TIMEOUT_MS } from '../util/constants';\nimport { ERROR_FACTORY, ErrorCode, isServerError } from '../util/errors';\nimport { sleep } from '../util/sleep';\nimport { generateFid, INVALID_FID } from './generate-fid';\nimport { remove, set, update } from './idb-manager';\n\nexport interface InstallationEntryWithRegistrationPromise {\n  installationEntry: InstallationEntry;\n  /** Exist iff the installationEntry is not registered. */\n  registrationPromise?: Promise<RegisteredInstallationEntry>;\n}\n\n/**\n * Updates and returns the InstallationEntry from the database.\n * Also triggers a registration request if it is necessary and possible.\n */\nexport async function getInstallationEntry(\n  installations: FirebaseInstallationsImpl\n): Promise<InstallationEntryWithRegistrationPromise> {\n  let registrationPromise: Promise<RegisteredInstallationEntry> | undefined;\n\n  const installationEntry = await update(installations.appConfig, oldEntry => {\n    const installationEntry = updateOrCreateInstallationEntry(oldEntry);\n    const entryWithPromise = triggerRegistrationIfNecessary(\n      installations,\n      installationEntry\n    );\n    registrationPromise = entryWithPromise.registrationPromise;\n    return entryWithPromise.installationEntry;\n  });\n\n  if (installationEntry.fid === INVALID_FID) {\n    // FID generation failed. Waiting for the FID from the server.\n    return { installationEntry: await registrationPromise! };\n  }\n\n  return {\n    installationEntry,\n    registrationPromise\n  };\n}\n\n/**\n * Creates a new Installation Entry if one does not exist.\n * Also clears timed out pending requests.\n */\nfunction updateOrCreateInstallationEntry(\n  oldEntry: InstallationEntry | undefined\n): InstallationEntry {\n  const entry: InstallationEntry = oldEntry || {\n    fid: generateFid(),\n    registrationStatus: RequestStatus.NOT_STARTED\n  };\n\n  return clearTimedOutRequest(entry);\n}\n\n/**\n * If the Firebase Installation is not registered yet, this will trigger the\n * registration and return an InProgressInstallationEntry.\n *\n * If registrationPromise does not exist, the installationEntry is guaranteed\n * to be registered.\n */\nfunction triggerRegistrationIfNecessary(\n  installations: FirebaseInstallationsImpl,\n  installationEntry: InstallationEntry\n): InstallationEntryWithRegistrationPromise {\n  if (installationEntry.registrationStatus === RequestStatus.NOT_STARTED) {\n    if (!navigator.onLine) {\n      // Registration required but app is offline.\n      const registrationPromiseWithError = Promise.reject(\n        ERROR_FACTORY.create(ErrorCode.APP_OFFLINE)\n      );\n      return {\n        installationEntry,\n        registrationPromise: registrationPromiseWithError\n      };\n    }\n\n    // Try registering. Change status to IN_PROGRESS.\n    const inProgressEntry: InProgressInstallationEntry = {\n      fid: installationEntry.fid,\n      registrationStatus: RequestStatus.IN_PROGRESS,\n      registrationTime: Date.now()\n    };\n    const registrationPromise = registerInstallation(\n      installations,\n      inProgressEntry\n    );\n    return { installationEntry: inProgressEntry, registrationPromise };\n  } else if (\n    installationEntry.registrationStatus === RequestStatus.IN_PROGRESS\n  ) {\n    return {\n      installationEntry,\n      registrationPromise: waitUntilFidRegistration(installations)\n    };\n  } else {\n    return { installationEntry };\n  }\n}\n\n/** This will be executed only once for each new Firebase Installation. */\nasync function registerInstallation(\n  installations: FirebaseInstallationsImpl,\n  installationEntry: InProgressInstallationEntry\n): Promise<RegisteredInstallationEntry> {\n  try {\n    const registeredInstallationEntry = await createInstallationRequest(\n      installations,\n      installationEntry\n    );\n    return set(installations.appConfig, registeredInstallationEntry);\n  } catch (e) {\n    if (isServerError(e) && e.customData.serverCode === 409) {\n      // Server returned a \"FID can not be used\" error.\n      // Generate a new ID next time.\n      await remove(installations.appConfig);\n    } else {\n      // Registration failed. Set FID as not registered.\n      await set(installations.appConfig, {\n        fid: installationEntry.fid,\n        registrationStatus: RequestStatus.NOT_STARTED\n      });\n    }\n    throw e;\n  }\n}\n\n/** Call if FID registration is pending in another request. */\nasync function waitUntilFidRegistration(\n  installations: FirebaseInstallationsImpl\n): Promise<RegisteredInstallationEntry> {\n  // Unfortunately, there is no way of reliably observing when a value in\n  // IndexedDB changes (yet, see https://github.com/WICG/indexed-db-observers),\n  // so we need to poll.\n\n  let entry: InstallationEntry = await updateInstallationRequest(\n    installations.appConfig\n  );\n  while (entry.registrationStatus === RequestStatus.IN_PROGRESS) {\n    // createInstallation request still in progress.\n    await sleep(100);\n\n    entry = await updateInstallationRequest(installations.appConfig);\n  }\n\n  if (entry.registrationStatus === RequestStatus.NOT_STARTED) {\n    // The request timed out or failed in a different call. Try again.\n    const { installationEntry, registrationPromise } =\n      await getInstallationEntry(installations);\n\n    if (registrationPromise) {\n      return registrationPromise;\n    } else {\n      // if there is no registrationPromise, entry is registered.\n      return installationEntry as RegisteredInstallationEntry;\n    }\n  }\n\n  return entry;\n}\n\n/**\n * Called only if there is a CreateInstallation request in progress.\n *\n * Updates the InstallationEntry in the DB based on the status of the\n * CreateInstallation request.\n *\n * Returns the updated InstallationEntry.\n */\nfunction updateInstallationRequest(\n  appConfig: AppConfig\n): Promise<InstallationEntry> {\n  return update(appConfig, oldEntry => {\n    if (!oldEntry) {\n      throw ERROR_FACTORY.create(ErrorCode.INSTALLATION_NOT_FOUND);\n    }\n    return clearTimedOutRequest(oldEntry);\n  });\n}\n\nfunction clearTimedOutRequest(entry: InstallationEntry): InstallationEntry {\n  if (hasInstallationRequestTimedOut(entry)) {\n    return {\n      fid: entry.fid,\n      registrationStatus: RequestStatus.NOT_STARTED\n    };\n  }\n\n  return entry;\n}\n\nfunction hasInstallationRequestTimedOut(\n  installationEntry: InstallationEntry\n): boolean {\n  return (\n    installationEntry.registrationStatus === RequestStatus.IN_PROGRESS &&\n    installationEntry.registrationTime + PENDING_TIMEOUT_MS < Date.now()\n  );\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CreateInstallationResponse } from '../interfaces/api-response';\nimport {\n  InProgressInstallationEntry,\n  RegisteredInstallationEntry,\n  RequestStatus\n} from '../interfaces/installation-entry';\nimport { INTERNAL_AUTH_VERSION, PACKAGE_VERSION } from '../util/constants';\nimport {\n  extractAuthTokenInfoFromResponse,\n  getErrorFromResponse,\n  getHeaders,\n  getInstallationsEndpoint,\n  retryIfServerError\n} from './common';\nimport { FirebaseInstallationsImpl } from '../interfaces/installation-impl';\n\nexport async function createInstallationRequest(\n  { appConfig, heartbeatServiceProvider }: FirebaseInstallationsImpl,\n  { fid }: InProgressInstallationEntry\n): Promise<RegisteredInstallationEntry> {\n  const endpoint = getInstallationsEndpoint(appConfig);\n\n  const headers = getHeaders(appConfig);\n\n  // If heartbeat service exists, add the heartbeat string to the header.\n  const heartbeatService = heartbeatServiceProvider.getImmediate({\n    optional: true\n  });\n  if (heartbeatService) {\n    const heartbeatsHeader = await heartbeatService.getHeartbeatsHeader();\n    if (heartbeatsHeader) {\n      headers.append('x-firebase-client', heartbeatsHeader);\n    }\n  }\n\n  const body = {\n    fid,\n    authVersion: INTERNAL_AUTH_VERSION,\n    appId: appConfig.appId,\n    sdkVersion: PACKAGE_VERSION\n  };\n\n  const request: RequestInit = {\n    method: 'POST',\n    headers,\n    body: JSON.stringify(body)\n  };\n\n  const response = await retryIfServerError(() => fetch(endpoint, request));\n  if (response.ok) {\n    const responseValue: CreateInstallationResponse = await response.json();\n    const registeredInstallationEntry: RegisteredInstallationEntry = {\n      fid: responseValue.fid || fid,\n      registrationStatus: RequestStatus.COMPLETED,\n      refreshToken: responseValue.refreshToken,\n      authToken: extractAuthTokenInfoFromResponse(responseValue.authToken)\n    };\n    return registeredInstallationEntry;\n  } else {\n    throw await getErrorFromResponse('Create Installation', response);\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { GenerateAuthTokenResponse } from '../interfaces/api-response';\nimport {\n  CompletedAuthToken,\n  RegisteredInstallationEntry\n} from '../interfaces/installation-entry';\nimport { PACKAGE_VERSION } from '../util/constants';\nimport {\n  extractAuthTokenInfoFromResponse,\n  getErrorFromResponse,\n  getHeadersWithAuth,\n  getInstallationsEndpoint,\n  retryIfServerError\n} from './common';\nimport {\n  FirebaseInstallationsImpl,\n  AppConfig\n} from '../interfaces/installation-impl';\n\nexport async function generateAuthTokenRequest(\n  { appConfig, heartbeatServiceProvider }: FirebaseInstallationsImpl,\n  installationEntry: RegisteredInstallationEntry\n): Promise<CompletedAuthToken> {\n  const endpoint = getGenerateAuthTokenEndpoint(appConfig, installationEntry);\n\n  const headers = getHeadersWithAuth(appConfig, installationEntry);\n\n  // If heartbeat service exists, add the heartbeat string to the header.\n  const heartbeatService = heartbeatServiceProvider.getImmediate({\n    optional: true\n  });\n  if (heartbeatService) {\n    const heartbeatsHeader = await heartbeatService.getHeartbeatsHeader();\n    if (heartbeatsHeader) {\n      headers.append('x-firebase-client', heartbeatsHeader);\n    }\n  }\n\n  const body = {\n    installation: {\n      sdkVersion: PACKAGE_VERSION,\n      appId: appConfig.appId\n    }\n  };\n\n  const request: RequestInit = {\n    method: 'POST',\n    headers,\n    body: JSON.stringify(body)\n  };\n\n  const response = await retryIfServerError(() => fetch(endpoint, request));\n  if (response.ok) {\n    const responseValue: GenerateAuthTokenResponse = await response.json();\n    const completedAuthToken: CompletedAuthToken =\n      extractAuthTokenInfoFromResponse(responseValue);\n    return completedAuthToken;\n  } else {\n    throw await getErrorFromResponse('Generate Auth Token', response);\n  }\n}\n\nfunction getGenerateAuthTokenEndpoint(\n  appConfig: AppConfig,\n  { fid }: RegisteredInstallationEntry\n): string {\n  return `${getInstallationsEndpoint(appConfig)}/${fid}/authTokens:generate`;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { generateAuthTokenRequest } from '../functions/generate-auth-token-request';\nimport {\n  AppConfig,\n  FirebaseInstallationsImpl\n} from '../interfaces/installation-impl';\nimport {\n  AuthToken,\n  CompletedAuthToken,\n  InProgressAuthToken,\n  InstallationEntry,\n  RegisteredInstallationEntry,\n  RequestStatus\n} from '../interfaces/installation-entry';\nimport { PENDING_TIMEOUT_MS, TOKEN_EXPIRATION_BUFFER } from '../util/constants';\nimport { ERROR_FACTORY, ErrorCode, isServerError } from '../util/errors';\nimport { sleep } from '../util/sleep';\nimport { remove, set, update } from './idb-manager';\n\n/**\n * Returns a valid authentication token for the installation. Generates a new\n * token if one doesn't exist, is expired or about to expire.\n *\n * Should only be called if the Firebase Installation is registered.\n */\nexport async function refreshAuthToken(\n  installations: FirebaseInstallationsImpl,\n  forceRefresh = false\n): Promise<CompletedAuthToken> {\n  let tokenPromise: Promise<CompletedAuthToken> | undefined;\n  const entry = await update(installations.appConfig, oldEntry => {\n    if (!isEntryRegistered(oldEntry)) {\n      throw ERROR_FACTORY.create(ErrorCode.NOT_REGISTERED);\n    }\n\n    const oldAuthToken = oldEntry.authToken;\n    if (!forceRefresh && isAuthTokenValid(oldAuthToken)) {\n      // There is a valid token in the DB.\n      return oldEntry;\n    } else if (oldAuthToken.requestStatus === RequestStatus.IN_PROGRESS) {\n      // There already is a token request in progress.\n      tokenPromise = waitUntilAuthTokenRequest(installations, forceRefresh);\n      return oldEntry;\n    } else {\n      // No token or token expired.\n      if (!navigator.onLine) {\n        throw ERROR_FACTORY.create(ErrorCode.APP_OFFLINE);\n      }\n\n      const inProgressEntry = makeAuthTokenRequestInProgressEntry(oldEntry);\n      tokenPromise = fetchAuthTokenFromServer(installations, inProgressEntry);\n      return inProgressEntry;\n    }\n  });\n\n  const authToken = tokenPromise\n    ? await tokenPromise\n    : (entry.authToken as CompletedAuthToken);\n  return authToken;\n}\n\n/**\n * Call only if FID is registered and Auth Token request is in progress.\n *\n * Waits until the current pending request finishes. If the request times out,\n * tries once in this thread as well.\n */\nasync function waitUntilAuthTokenRequest(\n  installations: FirebaseInstallationsImpl,\n  forceRefresh: boolean\n): Promise<CompletedAuthToken> {\n  // Unfortunately, there is no way of reliably observing when a value in\n  // IndexedDB changes (yet, see https://github.com/WICG/indexed-db-observers),\n  // so we need to poll.\n\n  let entry = await updateAuthTokenRequest(installations.appConfig);\n  while (entry.authToken.requestStatus === RequestStatus.IN_PROGRESS) {\n    // generateAuthToken still in progress.\n    await sleep(100);\n\n    entry = await updateAuthTokenRequest(installations.appConfig);\n  }\n\n  const authToken = entry.authToken;\n  if (authToken.requestStatus === RequestStatus.NOT_STARTED) {\n    // The request timed out or failed in a different call. Try again.\n    return refreshAuthToken(installations, forceRefresh);\n  } else {\n    return authToken;\n  }\n}\n\n/**\n * Called only if there is a GenerateAuthToken request in progress.\n *\n * Updates the InstallationEntry in the DB based on the status of the\n * GenerateAuthToken request.\n *\n * Returns the updated InstallationEntry.\n */\nfunction updateAuthTokenRequest(\n  appConfig: AppConfig\n): Promise<RegisteredInstallationEntry> {\n  return update(appConfig, oldEntry => {\n    if (!isEntryRegistered(oldEntry)) {\n      throw ERROR_FACTORY.create(ErrorCode.NOT_REGISTERED);\n    }\n\n    const oldAuthToken = oldEntry.authToken;\n    if (hasAuthTokenRequestTimedOut(oldAuthToken)) {\n      return {\n        ...oldEntry,\n        authToken: { requestStatus: RequestStatus.NOT_STARTED }\n      };\n    }\n\n    return oldEntry;\n  });\n}\n\nasync function fetchAuthTokenFromServer(\n  installations: FirebaseInstallationsImpl,\n  installationEntry: RegisteredInstallationEntry\n): Promise<CompletedAuthToken> {\n  try {\n    const authToken = await generateAuthTokenRequest(\n      installations,\n      installationEntry\n    );\n    const updatedInstallationEntry: RegisteredInstallationEntry = {\n      ...installationEntry,\n      authToken\n    };\n    await set(installations.appConfig, updatedInstallationEntry);\n    return authToken;\n  } catch (e) {\n    if (\n      isServerError(e) &&\n      (e.customData.serverCode === 401 || e.customData.serverCode === 404)\n    ) {\n      // Server returned a \"FID not found\" or a \"Invalid authentication\" error.\n      // Generate a new ID next time.\n      await remove(installations.appConfig);\n    } else {\n      const updatedInstallationEntry: RegisteredInstallationEntry = {\n        ...installationEntry,\n        authToken: { requestStatus: RequestStatus.NOT_STARTED }\n      };\n      await set(installations.appConfig, updatedInstallationEntry);\n    }\n    throw e;\n  }\n}\n\nfunction isEntryRegistered(\n  installationEntry: InstallationEntry | undefined\n): installationEntry is RegisteredInstallationEntry {\n  return (\n    installationEntry !== undefined &&\n    installationEntry.registrationStatus === RequestStatus.COMPLETED\n  );\n}\n\nfunction isAuthTokenValid(authToken: AuthToken): boolean {\n  return (\n    authToken.requestStatus === RequestStatus.COMPLETED &&\n    !isAuthTokenExpired(authToken)\n  );\n}\n\nfunction isAuthTokenExpired(authToken: CompletedAuthToken): boolean {\n  const now = Date.now();\n  return (\n    now < authToken.creationTime ||\n    authToken.creationTime + authToken.expiresIn < now + TOKEN_EXPIRATION_BUFFER\n  );\n}\n\n/** Returns an updated InstallationEntry with an InProgressAuthToken. */\nfunction makeAuthTokenRequestInProgressEntry(\n  oldEntry: RegisteredInstallationEntry\n): RegisteredInstallationEntry {\n  const inProgressAuthToken: InProgressAuthToken = {\n    requestStatus: RequestStatus.IN_PROGRESS,\n    requestTime: Date.now()\n  };\n  return {\n    ...oldEntry,\n    authToken: inProgressAuthToken\n  };\n}\n\nfunction hasAuthTokenRequestTimedOut(authToken: AuthToken): boolean {\n  return (\n    authToken.requestStatus === RequestStatus.IN_PROGRESS &&\n    authToken.requestTime + PENDING_TIMEOUT_MS < Date.now()\n  );\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getInstallationEntry } from '../helpers/get-installation-entry';\nimport { refreshAuthToken } from '../helpers/refresh-auth-token';\nimport { FirebaseInstallationsImpl } from '../interfaces/installation-impl';\nimport { Installations } from '../interfaces/public-types';\n\n/**\n * Creates a Firebase Installation if there isn't one for the app and\n * returns the Installation ID.\n * @param installations - The `Installations` instance.\n *\n * @public\n */\nexport async function getId(installations: Installations): Promise<string> {\n  const installationsImpl = installations as FirebaseInstallationsImpl;\n  const { installationEntry, registrationPromise } = await getInstallationEntry(\n    installationsImpl\n  );\n\n  if (registrationPromise) {\n    registrationPromise.catch(console.error);\n  } else {\n    // If the installation is already registered, update the authentication\n    // token if needed.\n    refreshAuthToken(installationsImpl).catch(console.error);\n  }\n\n  return installationEntry.fid;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getInstallationEntry } from '../helpers/get-installation-entry';\nimport { refreshAuthToken } from '../helpers/refresh-auth-token';\nimport { FirebaseInstallationsImpl } from '../interfaces/installation-impl';\nimport { Installations } from '../interfaces/public-types';\n\n/**\n * Returns a Firebase Installations auth token, identifying the current\n * Firebase Installation.\n * @param installations - The `Installations` instance.\n * @param forceRefresh - Force refresh regardless of token expiration.\n *\n * @public\n */\nexport async function getToken(\n  installations: Installations,\n  forceRefresh = false\n): Promise<string> {\n  const installationsImpl = installations as FirebaseInstallationsImpl;\n  await completeInstallationRegistration(installationsImpl);\n\n  // At this point we either have a Registered Installation in the DB, or we've\n  // already thrown an error.\n  const authToken = await refreshAuthToken(installationsImpl, forceRefresh);\n  return authToken.token;\n}\n\nasync function completeInstallationRegistration(\n  installations: FirebaseInstallationsImpl\n): Promise<void> {\n  const { registrationPromise } = await getInstallationEntry(installations);\n\n  if (registrationPromise) {\n    // A createInstallation request is in progress. Wait until it finishes.\n    await registrationPromise;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseApp, FirebaseOptions } from '@firebase/app';\nimport { FirebaseError } from '@firebase/util';\nimport { AppConfig } from '../interfaces/installation-impl';\nimport { ERROR_FACTORY, ErrorCode } from '../util/errors';\n\nexport function extractAppConfig(app: FirebaseApp): AppConfig {\n  if (!app || !app.options) {\n    throw getMissingValueError('App Configuration');\n  }\n\n  if (!app.name) {\n    throw getMissingValueError('App Name');\n  }\n\n  // Required app config keys\n  const configKeys: Array<keyof FirebaseOptions> = [\n    'projectId',\n    'apiKey',\n    'appId'\n  ];\n\n  for (const keyName of configKeys) {\n    if (!app.options[keyName]) {\n      throw getMissingValueError(keyName);\n    }\n  }\n\n  return {\n    appName: app.name,\n    projectId: app.options.projectId!,\n    apiKey: app.options.apiKey!,\n    appId: app.options.appId!\n  };\n}\n\nfunction getMissingValueError(valueName: string): FirebaseError {\n  return ERROR_FACTORY.create(ErrorCode.MISSING_APP_CONFIG_VALUES, {\n    valueName\n  });\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { _registerComponent, _getProvider } from '@firebase/app';\nimport {\n  Component,\n  ComponentType,\n  InstanceFactory,\n  ComponentContainer\n} from '@firebase/component';\nimport { getId, getToken } from '../api/index';\nimport { _FirebaseInstallationsInternal } from '../interfaces/public-types';\nimport { FirebaseInstallationsImpl } from '../interfaces/installation-impl';\nimport { extractAppConfig } from '../helpers/extract-app-config';\n\nconst INSTALLATIONS_NAME = 'installations';\nconst INSTALLATIONS_NAME_INTERNAL = 'installations-internal';\n\nconst publicFactory: InstanceFactory<'installations'> = (\n  container: ComponentContainer\n) => {\n  const app = container.getProvider('app').getImmediate();\n  // Throws if app isn't configured properly.\n  const appConfig = extractAppConfig(app);\n  const heartbeatServiceProvider = _getProvider(app, 'heartbeat');\n\n  const installationsImpl: FirebaseInstallationsImpl = {\n    app,\n    appConfig,\n    heartbeatServiceProvider,\n    _delete: () => Promise.resolve()\n  };\n  return installationsImpl;\n};\n\nconst internalFactory: InstanceFactory<'installations-internal'> = (\n  container: ComponentContainer\n) => {\n  const app = container.getProvider('app').getImmediate();\n  // Internal FIS instance relies on public FIS instance.\n  const installations = _getProvider(app, INSTALLATIONS_NAME).getImmediate();\n\n  const installationsInternal: _FirebaseInstallationsInternal = {\n    getId: () => getId(installations),\n    getToken: (forceRefresh?: boolean) => getToken(installations, forceRefresh)\n  };\n  return installationsInternal;\n};\n\nexport function registerInstallations(): void {\n  _registerComponent(\n    new Component(INSTALLATIONS_NAME, publicFactory, ComponentType.PUBLIC)\n  );\n  _registerComponent(\n    new Component(\n      INSTALLATIONS_NAME_INTERNAL,\n      internalFactory,\n      ComponentType.PRIVATE\n    )\n  );\n}\n","/**\n * The Firebase Installations Web SDK.\n * This SDK does not work in a Node.js environment.\n *\n * @packageDocumentation\n */\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { registerInstallations } from './functions/config';\nimport { registerVersion } from '@firebase/app';\nimport { name, version } from '../package.json';\n\nexport * from './api';\nexport * from './interfaces/public-types';\n\nregisterInstallations();\nregisterVersion(name, version);\n// BUILD_TARGET will be replaced by values like esm5, esm2017, cjs5, etc during the compilation\nregisterVersion(name, version, '__BUILD_TARGET__');\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport type LogLevelString =\n  | 'debug'\n  | 'verbose'\n  | 'info'\n  | 'warn'\n  | 'error'\n  | 'silent';\n\nexport interface LogOptions {\n  level: LogLevelString;\n}\n\nexport type LogCallback = (callbackParams: LogCallbackParams) => void;\n\nexport interface LogCallbackParams {\n  level: LogLevelString;\n  message: string;\n  args: unknown[];\n  type: string;\n}\n\n/**\n * A container for all of the Logger instances\n */\nexport const instances: Logger[] = [];\n\n/**\n * The JS SDK supports 5 log levels and also allows a user the ability to\n * silence the logs altogether.\n *\n * The order is a follows:\n * DEBUG < VERBOSE < INFO < WARN < ERROR\n *\n * All of the log types above the current log level will be captured (i.e. if\n * you set the log level to `INFO`, errors will still be logged, but `DEBUG` and\n * `VERBOSE` logs will not)\n */\nexport enum LogLevel {\n  DEBUG,\n  VERBOSE,\n  INFO,\n  WARN,\n  ERROR,\n  SILENT\n}\n\nconst levelStringToEnum: { [key in LogLevelString]: LogLevel } = {\n  'debug': LogLevel.DEBUG,\n  'verbose': LogLevel.VERBOSE,\n  'info': LogLevel.INFO,\n  'warn': LogLevel.WARN,\n  'error': LogLevel.ERROR,\n  'silent': LogLevel.SILENT\n};\n\n/**\n * The default log level\n */\nconst defaultLogLevel: LogLevel = LogLevel.INFO;\n\n/**\n * We allow users the ability to pass their own log handler. We will pass the\n * type of log, the current log level, and any other arguments passed (i.e. the\n * messages that the user wants to log) to this function.\n */\nexport type LogHandler = (\n  loggerInstance: Logger,\n  logType: LogLevel,\n  ...args: unknown[]\n) => void;\n\n/**\n * By default, `console.debug` is not displayed in the developer console (in\n * chrome). To avoid forcing users to have to opt-in to these logs twice\n * (i.e. once for firebase, and once in the console), we are sending `DEBUG`\n * logs to the `console.log` function.\n */\nconst ConsoleMethod = {\n  [LogLevel.DEBUG]: 'log',\n  [LogLevel.VERBOSE]: 'log',\n  [LogLevel.INFO]: 'info',\n  [LogLevel.WARN]: 'warn',\n  [LogLevel.ERROR]: 'error'\n};\n\n/**\n * The default log handler will forward DEBUG, VERBOSE, INFO, WARN, and ERROR\n * messages on to their corresponding console counterparts (if the log method\n * is supported by the current log level)\n */\nconst defaultLogHandler: LogHandler = (instance, logType, ...args): void => {\n  if (logType < instance.logLevel) {\n    return;\n  }\n  const now = new Date().toISOString();\n  const method = ConsoleMethod[logType as keyof typeof ConsoleMethod];\n  if (method) {\n    console[method as 'log' | 'info' | 'warn' | 'error'](\n      `[${now}]  ${instance.name}:`,\n      ...args\n    );\n  } else {\n    throw new Error(\n      `Attempted to log a message with an invalid logType (value: ${logType})`\n    );\n  }\n};\n\nexport class Logger {\n  /**\n   * Gives you an instance of a Logger to capture messages according to\n   * Firebase's logging scheme.\n   *\n   * @param name The name that the logs will be associated with\n   */\n  constructor(public name: string) {\n    /**\n     * Capture the current instance for later use\n     */\n    instances.push(this);\n  }\n\n  /**\n   * The log level of the given Logger instance.\n   */\n  private _logLevel = defaultLogLevel;\n\n  get logLevel(): LogLevel {\n    return this._logLevel;\n  }\n\n  set logLevel(val: LogLevel) {\n    if (!(val in LogLevel)) {\n      throw new TypeError(`Invalid value \"${val}\" assigned to \\`logLevel\\``);\n    }\n    this._logLevel = val;\n  }\n\n  // Workaround for setter/getter having to be the same type.\n  setLogLevel(val: LogLevel | LogLevelString): void {\n    this._logLevel = typeof val === 'string' ? levelStringToEnum[val] : val;\n  }\n\n  /**\n   * The main (internal) log handler for the Logger instance.\n   * Can be set to a new function in internal package code but not by user.\n   */\n  private _logHandler: LogHandler = defaultLogHandler;\n  get logHandler(): LogHandler {\n    return this._logHandler;\n  }\n  set logHandler(val: LogHandler) {\n    if (typeof val !== 'function') {\n      throw new TypeError('Value assigned to `logHandler` must be a function');\n    }\n    this._logHandler = val;\n  }\n\n  /**\n   * The optional, additional, user-defined log handler for the Logger instance.\n   */\n  private _userLogHandler: LogHandler | null = null;\n  get userLogHandler(): LogHandler | null {\n    return this._userLogHandler;\n  }\n  set userLogHandler(val: LogHandler | null) {\n    this._userLogHandler = val;\n  }\n\n  /**\n   * The functions below are all based on the `console` interface\n   */\n\n  debug(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.DEBUG, ...args);\n    this._logHandler(this, LogLevel.DEBUG, ...args);\n  }\n  log(...args: unknown[]): void {\n    this._userLogHandler &&\n      this._userLogHandler(this, LogLevel.VERBOSE, ...args);\n    this._logHandler(this, LogLevel.VERBOSE, ...args);\n  }\n  info(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.INFO, ...args);\n    this._logHandler(this, LogLevel.INFO, ...args);\n  }\n  warn(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.WARN, ...args);\n    this._logHandler(this, LogLevel.WARN, ...args);\n  }\n  error(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.ERROR, ...args);\n    this._logHandler(this, LogLevel.ERROR, ...args);\n  }\n}\n\nexport function setLogLevel(level: LogLevelString | LogLevel): void {\n  instances.forEach(inst => {\n    inst.setLogLevel(level);\n  });\n}\n\nexport function setUserLogHandler(\n  logCallback: LogCallback | null,\n  options?: LogOptions\n): void {\n  for (const instance of instances) {\n    let customLogLevel: LogLevel | null = null;\n    if (options && options.level) {\n      customLogLevel = levelStringToEnum[options.level];\n    }\n    if (logCallback === null) {\n      instance.userLogHandler = null;\n    } else {\n      instance.userLogHandler = (\n        instance: Logger,\n        level: LogLevel,\n        ...args: unknown[]\n      ) => {\n        const message = args\n          .map(arg => {\n            if (arg == null) {\n              return null;\n            } else if (typeof arg === 'string') {\n              return arg;\n            } else if (typeof arg === 'number' || typeof arg === 'boolean') {\n              return arg.toString();\n            } else if (arg instanceof Error) {\n              return arg.message;\n            } else {\n              try {\n                return JSON.stringify(arg);\n              } catch (ignored) {\n                return null;\n              }\n            }\n          })\n          .filter(arg => arg)\n          .join(' ');\n        if (level >= (customLogLevel ?? instance.logLevel)) {\n          logCallback({\n            level: LogLevel[level].toLowerCase() as LogLevelString,\n            message,\n            args,\n            type: instance.name\n          });\n        }\n      };\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ERROR_FACTORY, ErrorCode } from './util/errors';\nimport { FirebaseApp, _getProvider, getApp } from '@firebase/app';\nimport {\n  GetTokenOptions,\n  MessagePayload,\n  Messaging\n} from './interfaces/public-types';\nimport {\n  NextFn,\n  Observer,\n  Unsubscribe,\n  getModularInstance\n} from '@firebase/util';\nimport { isSwSupported, isWindowSupported } from './api/isSupported';\n\nimport { MessagingService } from './messaging-service';\nimport { deleteToken as _deleteToken } from './api/deleteToken';\nimport { getToken as _getToken } from './api/getToken';\nimport { onBackgroundMessage as _onBackgroundMessage } from './api/onBackgroundMessage';\nimport { onMessage as _onMessage } from './api/onMessage';\nimport { _setDeliveryMetricsExportedToBigQueryEnabled } from './api/setDeliveryMetricsExportedToBigQueryEnabled';\n\n/**\n * Retrieves a Firebase Cloud Messaging instance.\n *\n * @returns The Firebase Cloud Messaging instance associated with the provided firebase app.\n *\n * @public\n */\nexport function getMessagingInWindow(app: FirebaseApp = getApp()): Messaging {\n  // Conscious decision to make this async check non-blocking during the messaging instance\n  // initialization phase for performance consideration. An error would be thrown latter for\n  // developer's information. Developers can then choose to import and call `isSupported` for\n  // special handling.\n  isWindowSupported().then(\n    isSupported => {\n      // If `isWindowSupported()` resolved, but returned false.\n      if (!isSupported) {\n        throw ERROR_FACTORY.create(ErrorCode.UNSUPPORTED_BROWSER);\n      }\n    },\n    _ => {\n      // If `isWindowSupported()` rejected.\n      throw ERROR_FACTORY.create(ErrorCode.INDEXED_DB_UNSUPPORTED);\n    }\n  );\n  return _getProvider(getModularInstance(app), 'messaging').getImmediate();\n}\n\n/**\n * Retrieves a Firebase Cloud Messaging instance.\n *\n * @returns The Firebase Cloud Messaging instance associated with the provided firebase app.\n *\n * @public\n */\nexport function getMessagingInSw(app: FirebaseApp = getApp()): Messaging {\n  // Conscious decision to make this async check non-blocking during the messaging instance\n  // initialization phase for performance consideration. An error would be thrown latter for\n  // developer's information. Developers can then choose to import and call `isSupported` for\n  // special handling.\n  isSwSupported().then(\n    isSupported => {\n      // If `isSwSupported()` resolved, but returned false.\n      if (!isSupported) {\n        throw ERROR_FACTORY.create(ErrorCode.UNSUPPORTED_BROWSER);\n      }\n    },\n    _ => {\n      // If `isSwSupported()` rejected.\n      throw ERROR_FACTORY.create(ErrorCode.INDEXED_DB_UNSUPPORTED);\n    }\n  );\n  return _getProvider(getModularInstance(app), 'messaging-sw').getImmediate();\n}\n\n/**\n * Subscribes the {@link Messaging} instance to push notifications. Returns a Firebase Cloud\n * Messaging registration token that can be used to send push messages to that {@link Messaging}\n * instance.\n *\n * If notification permission isn't already granted, this method asks the user for permission. The\n * returned promise rejects if the user does not allow the app to show notifications.\n *\n * @param messaging - The {@link Messaging} instance.\n * @param options - Provides an optional vapid key and an optional service worker registration.\n *\n * @returns The promise resolves with an FCM registration token.\n *\n * @public\n */\nexport async function getToken(\n  messaging: Messaging,\n  options?: GetTokenOptions\n): Promise<string> {\n  messaging = getModularInstance(messaging);\n  return _getToken(messaging as MessagingService, options);\n}\n\n/**\n * Deletes the registration token associated with this {@link Messaging} instance and unsubscribes\n * the {@link Messaging} instance from the push subscription.\n *\n * @param messaging - The {@link Messaging} instance.\n *\n * @returns The promise resolves when the token has been successfully deleted.\n *\n * @public\n */\nexport function deleteToken(messaging: Messaging): Promise<boolean> {\n  messaging = getModularInstance(messaging);\n  return _deleteToken(messaging as MessagingService);\n}\n\n/**\n * When a push message is received and the user is currently on a page for your origin, the\n * message is passed to the page and an `onMessage()` event is dispatched with the payload of\n * the push message.\n *\n *\n * @param messaging - The {@link Messaging} instance.\n * @param nextOrObserver - This function, or observer object with `next` defined,\n *     is called when a message is received and the user is currently viewing your page.\n * @returns To stop listening for messages execute this returned function.\n *\n * @public\n */\nexport function onMessage(\n  messaging: Messaging,\n  nextOrObserver: NextFn<MessagePayload> | Observer<MessagePayload>\n): Unsubscribe {\n  messaging = getModularInstance(messaging);\n  return _onMessage(messaging as MessagingService, nextOrObserver);\n}\n\n/**\n * Called when a message is received while the app is in the background. An app is considered to be\n * in the background if no active window is displayed.\n *\n * @param messaging - The {@link Messaging} instance.\n * @param nextOrObserver - This function, or observer object with `next` defined, is called when a\n * message is received and the app is currently in the background.\n *\n * @returns To stop listening for messages execute this returned function\n *\n * @public\n */\nexport function onBackgroundMessage(\n  messaging: Messaging,\n  nextOrObserver: NextFn<MessagePayload> | Observer<MessagePayload>\n): Unsubscribe {\n  messaging = getModularInstance(messaging);\n  return _onBackgroundMessage(messaging as MessagingService, nextOrObserver);\n}\n\n/**\n * Enables or disables Firebase Cloud Messaging message delivery metrics export to BigQuery. By\n * default, message delivery metrics are not exported to BigQuery. Use this method to enable or\n * disable the export at runtime.\n *\n * @param messaging - The `FirebaseMessaging` instance.\n * @param enable - Whether Firebase Cloud Messaging should export message delivery metrics to\n * BigQuery.\n *\n * @public\n */\nexport function experimentalSetDeliveryMetricsExportedToBigQueryEnabled(\n  messaging: Messaging,\n  enable: boolean\n): void {\n  messaging = getModularInstance(messaging);\n  return _setDeliveryMetricsExportedToBigQueryEnabled(messaging, enable);\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ERROR_FACTORY, ErrorCode } from '../util/errors';\n\nimport { MessagingService } from '../messaging-service';\nimport { deleteTokenInternal } from '../internals/token-manager';\nimport { registerDefaultSw } from '../helpers/registerDefaultSw';\n\nexport async function deleteToken(\n  messaging: MessagingService\n): Promise<boolean> {\n  if (!navigator) {\n    throw ERROR_FACTORY.create(ErrorCode.AVAILABLE_IN_WINDOW);\n  }\n\n  if (!messaging.swRegistration) {\n    await registerDefaultSw(messaging);\n  }\n\n  return deleteTokenInternal(messaging);\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SubscriptionOptions, TokenDetails } from '../interfaces/token-details';\nimport {\n  arrayToBase64,\n  base64ToArray\n} from '../helpers/array-base64-translator';\nimport { dbGet, dbRemove, dbSet } from './idb-manager';\nimport {\n  requestDeleteToken,\n  requestGetToken,\n  requestUpdateToken\n} from './requests';\n\nimport { FirebaseInternalDependencies } from '../interfaces/internal-dependencies';\nimport { MessagingService } from '../messaging-service';\n\n// UpdateRegistration will be called once every week.\nconst TOKEN_EXPIRATION_MS = 7 * 24 * 60 * 60 * 1000; // 7 days\n\nexport async function getTokenInternal(\n  messaging: MessagingService\n): Promise<string> {\n  const pushSubscription = await getPushSubscription(\n    messaging.swRegistration!,\n    messaging.vapidKey!\n  );\n\n  const subscriptionOptions: SubscriptionOptions = {\n    vapidKey: messaging.vapidKey!,\n    swScope: messaging.swRegistration!.scope,\n    endpoint: pushSubscription.endpoint,\n    auth: arrayToBase64(pushSubscription.getKey('auth')!),\n    p256dh: arrayToBase64(pushSubscription.getKey('p256dh')!)\n  };\n\n  const tokenDetails = await dbGet(messaging.firebaseDependencies);\n  if (!tokenDetails) {\n    // No token, get a new one.\n    return getNewToken(messaging.firebaseDependencies, subscriptionOptions);\n  } else if (\n    !isTokenValid(tokenDetails.subscriptionOptions!, subscriptionOptions)\n  ) {\n    // Invalid token, get a new one.\n    try {\n      await requestDeleteToken(\n        messaging.firebaseDependencies!,\n        tokenDetails.token\n      );\n    } catch (e) {\n      // Suppress errors because of #2364\n      console.warn(e);\n    }\n\n    return getNewToken(messaging.firebaseDependencies!, subscriptionOptions);\n  } else if (Date.now() >= tokenDetails.createTime + TOKEN_EXPIRATION_MS) {\n    // Weekly token refresh\n    return updateToken(messaging, {\n      token: tokenDetails.token,\n      createTime: Date.now(),\n      subscriptionOptions\n    });\n  } else {\n    // Valid token, nothing to do.\n    return tokenDetails.token;\n  }\n}\n\n/**\n * This method deletes the token from the database, unsubscribes the token from FCM, and unregisters\n * the push subscription if it exists.\n */\nexport async function deleteTokenInternal(\n  messaging: MessagingService\n): Promise<boolean> {\n  const tokenDetails = await dbGet(messaging.firebaseDependencies);\n  if (tokenDetails) {\n    await requestDeleteToken(\n      messaging.firebaseDependencies,\n      tokenDetails.token\n    );\n    await dbRemove(messaging.firebaseDependencies);\n  }\n\n  // Unsubscribe from the push subscription.\n  const pushSubscription =\n    await messaging.swRegistration!.pushManager.getSubscription();\n  if (pushSubscription) {\n    return pushSubscription.unsubscribe();\n  }\n\n  // If there's no SW, consider it a success.\n  return true;\n}\n\nasync function updateToken(\n  messaging: MessagingService,\n  tokenDetails: TokenDetails\n): Promise<string> {\n  try {\n    const updatedToken = await requestUpdateToken(\n      messaging.firebaseDependencies,\n      tokenDetails\n    );\n\n    const updatedTokenDetails: TokenDetails = {\n      ...tokenDetails,\n      token: updatedToken,\n      createTime: Date.now()\n    };\n\n    await dbSet(messaging.firebaseDependencies, updatedTokenDetails);\n    return updatedToken;\n  } catch (e) {\n    throw e;\n  }\n}\n\nasync function getNewToken(\n  firebaseDependencies: FirebaseInternalDependencies,\n  subscriptionOptions: SubscriptionOptions\n): Promise<string> {\n  const token = await requestGetToken(\n    firebaseDependencies,\n    subscriptionOptions\n  );\n  const tokenDetails: TokenDetails = {\n    token,\n    createTime: Date.now(),\n    subscriptionOptions\n  };\n  await dbSet(firebaseDependencies, tokenDetails);\n  return tokenDetails.token;\n}\n\n/**\n * Gets a PushSubscription for the current user.\n */\nasync function getPushSubscription(\n  swRegistration: ServiceWorkerRegistration,\n  vapidKey: string\n): Promise<PushSubscription> {\n  const subscription = await swRegistration.pushManager.getSubscription();\n  if (subscription) {\n    return subscription;\n  }\n\n  return swRegistration.pushManager.subscribe({\n    userVisibleOnly: true,\n    // Chrome <= 75 doesn't support base64-encoded VAPID key. For backward compatibility, VAPID key\n    // submitted to pushManager#subscribe must be of type Uint8Array.\n    applicationServerKey: base64ToArray(vapidKey)\n  });\n}\n\n/**\n * Checks if the saved tokenDetails object matches the configuration provided.\n */\nfunction isTokenValid(\n  dbOptions: SubscriptionOptions,\n  currentOptions: SubscriptionOptions\n): boolean {\n  const isVapidKeyEqual = currentOptions.vapidKey === dbOptions.vapidKey;\n  const isEndpointEqual = currentOptions.endpoint === dbOptions.endpoint;\n  const isAuthEqual = currentOptions.auth === dbOptions.auth;\n  const isP256dhEqual = currentOptions.p256dh === dbOptions.p256dh;\n\n  return isVapidKeyEqual && isEndpointEqual && isAuthEqual && isP256dhEqual;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DBSchema, IDBPDatabase, deleteDB, openDB } from 'idb';\n\nimport { FirebaseInternalDependencies } from '../interfaces/internal-dependencies';\nimport { TokenDetails } from '../interfaces/token-details';\nimport { migrateOldDatabase } from '../helpers/migrate-old-database';\n\n// Exported for tests.\nexport const DATABASE_NAME = 'firebase-messaging-database';\nconst DATABASE_VERSION = 1;\nconst OBJECT_STORE_NAME = 'firebase-messaging-store';\n\ninterface MessagingDB extends DBSchema {\n  'firebase-messaging-store': {\n    key: string;\n    value: TokenDetails;\n  };\n}\n\nlet dbPromise: Promise<IDBPDatabase<MessagingDB>> | null = null;\nfunction getDbPromise(): Promise<IDBPDatabase<MessagingDB>> {\n  if (!dbPromise) {\n    dbPromise = openDB(DATABASE_NAME, DATABASE_VERSION, {\n      upgrade: (upgradeDb, oldVersion) => {\n        // We don't use 'break' in this switch statement, the fall-through behavior is what we want,\n        // because if there are multiple versions between the old version and the current version, we\n        // want ALL the migrations that correspond to those versions to run, not only the last one.\n        // eslint-disable-next-line default-case\n        switch (oldVersion) {\n          case 0:\n            upgradeDb.createObjectStore(OBJECT_STORE_NAME);\n        }\n      }\n    });\n  }\n  return dbPromise;\n}\n\n/** Gets record(s) from the objectStore that match the given key. */\nexport async function dbGet(\n  firebaseDependencies: FirebaseInternalDependencies\n): Promise<TokenDetails | undefined> {\n  const key = getKey(firebaseDependencies);\n  const db = await getDbPromise();\n  const tokenDetails = (await db\n    .transaction(OBJECT_STORE_NAME)\n    .objectStore(OBJECT_STORE_NAME)\n    .get(key)) as TokenDetails;\n\n  if (tokenDetails) {\n    return tokenDetails;\n  } else {\n    // Check if there is a tokenDetails object in the old DB.\n    const oldTokenDetails = await migrateOldDatabase(\n      firebaseDependencies.appConfig.senderId\n    );\n    if (oldTokenDetails) {\n      await dbSet(firebaseDependencies, oldTokenDetails);\n      return oldTokenDetails;\n    }\n  }\n}\n\n/** Assigns or overwrites the record for the given key with the given value. */\nexport async function dbSet(\n  firebaseDependencies: FirebaseInternalDependencies,\n  tokenDetails: TokenDetails\n): Promise<TokenDetails> {\n  const key = getKey(firebaseDependencies);\n  const db = await getDbPromise();\n  const tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\n  await tx.objectStore(OBJECT_STORE_NAME).put(tokenDetails, key);\n  await tx.done;\n  return tokenDetails;\n}\n\n/** Removes record(s) from the objectStore that match the given key. */\nexport async function dbRemove(\n  firebaseDependencies: FirebaseInternalDependencies\n): Promise<void> {\n  const key = getKey(firebaseDependencies);\n  const db = await getDbPromise();\n  const tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\n  await tx.objectStore(OBJECT_STORE_NAME).delete(key);\n  await tx.done;\n}\n\n/** Deletes the DB. Useful for tests. */\nexport async function dbDelete(): Promise<void> {\n  if (dbPromise) {\n    (await dbPromise).close();\n    await deleteDB(DATABASE_NAME);\n    dbPromise = null;\n  }\n}\n\nfunction getKey({ appConfig }: FirebaseInternalDependencies): string {\n  return appConfig.appId;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ERROR_FACTORY, ErrorCode } from '../util/errors';\n\nimport {\n  MessagePayload,\n  NextFn,\n  Observer,\n  Unsubscribe\n} from '../interfaces/public-types';\nimport { MessagingService } from '../messaging-service';\n\nexport function onMessage(\n  messaging: MessagingService,\n  nextOrObserver: NextFn<MessagePayload> | Observer<MessagePayload>\n): Unsubscribe {\n  if (!navigator) {\n    throw ERROR_FACTORY.create(ErrorCode.AVAILABLE_IN_WINDOW);\n  }\n\n  messaging.onMessageHandler = nextOrObserver;\n\n  return () => {\n    messaging.onMessageHandler = null;\n  };\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const DEFAULT_SW_PATH = '/firebase-messaging-sw.js';\nexport const DEFAULT_SW_SCOPE = '/firebase-cloud-messaging-push-scope';\n\nexport const DEFAULT_VAPID_KEY =\n  'BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4';\n\nexport const ENDPOINT = 'https://fcmregistrations.googleapis.com/v1';\n\n/** Key of FCM Payload in Notification's data field. */\nexport const FCM_MSG = 'FCM_MSG';\n\nexport const CONSOLE_CAMPAIGN_ID = 'google.c.a.c_id';\nexport const CONSOLE_CAMPAIGN_NAME = 'google.c.a.c_l';\nexport const CONSOLE_CAMPAIGN_TIME = 'google.c.a.ts';\n/** Set to '1' if Analytics is enabled for the campaign */\nexport const CONSOLE_CAMPAIGN_ANALYTICS_ENABLED = 'google.c.a.e';\nexport const TAG = 'FirebaseMessaging: ';\nexport const MAX_NUMBER_OF_EVENTS_PER_LOG_REQUEST = 1000;\nexport const MAX_RETRIES = 3;\nexport const LOG_INTERVAL_IN_MS = 86400000; //24 hour\nexport const DEFAULT_BACKOFF_TIME_MS = 5000;\n\n// FCM log source name registered at Firelog: 'FCM_CLIENT_EVENT_LOGGING'. It uniquely identifies\n// FCM's logging configuration.\nexport const FCM_LOG_SOURCE = 1249;\n\n// Defined as in proto/messaging_event.proto. Neglecting fields that are supported.\nexport const SDK_PLATFORM_WEB = 3;\nexport const EVENT_MESSAGE_DELIVERED = 1;\n\nexport enum MessageType {\n  DATA_MESSAGE = 1,\n  DISPLAY_NOTIFICATION = 3\n}\n","/**\n * @license\n * Copyright 2018 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License. You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under the License\n * is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n * or implied. See the License for the specific language governing permissions and limitations under\n * the License.\n */\n\nimport {\n  CONSOLE_CAMPAIGN_ANALYTICS_ENABLED,\n  CONSOLE_CAMPAIGN_ID,\n  CONSOLE_CAMPAIGN_NAME,\n  CONSOLE_CAMPAIGN_TIME\n} from '../util/constants';\n\nexport interface MessagePayloadInternal {\n  notification?: NotificationPayloadInternal;\n  data?: unknown;\n  fcmOptions?: FcmOptionsInternal;\n  messageType?: MessageType;\n  isFirebaseMessaging?: boolean;\n  from: string;\n  fcmMessageId: string;\n  productId: number;\n  // eslint-disable-next-line camelcase\n  collapse_key: string;\n}\n\nexport interface NotificationPayloadInternal extends NotificationOptions {\n  title: string;\n  // Supported in the Legacy Send API.\n  // See:https://firebase.google.com/docs/cloud-messaging/xmpp-server-ref.\n  // eslint-disable-next-line camelcase\n  click_action?: string;\n  icon?: string;\n}\n\n// Defined in\n// https://firebase.google.com/docs/reference/fcm/rest/v1/projects.messages#webpushfcmoptions. Note\n// that the keys are sent to the clients in snake cases which we need to convert to camel so it can\n// be exposed as a type to match the Firebase API convention.\nexport interface FcmOptionsInternal {\n  link?: string;\n\n  // eslint-disable-next-line camelcase\n  analytics_label?: string;\n}\n\nexport enum MessageType {\n  PUSH_RECEIVED = 'push-received',\n  NOTIFICATION_CLICKED = 'notification-clicked'\n}\n\n/** Additional data of a message sent from the FN Console. */\nexport interface ConsoleMessageData {\n  [CONSOLE_CAMPAIGN_ID]: string;\n  [CONSOLE_CAMPAIGN_TIME]: string;\n  [CONSOLE_CAMPAIGN_NAME]?: string;\n  [CONSOLE_CAMPAIGN_ANALYTICS_ENABLED]?: '1';\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function arrayToBase64(array: Uint8Array | ArrayBuffer): string {\n  const uint8Array = new Uint8Array(array);\n  const base64String = btoa(String.fromCharCode(...uint8Array));\n  return base64String.replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\n\nexport function base64ToArray(base64String: string): Uint8Array {\n  const padding = '='.repeat((4 - (base64String.length % 4)) % 4);\n  const base64 = (base64String + padding)\n    .replace(/\\-/g, '+')\n    .replace(/_/g, '/');\n\n  const rawData = atob(base64);\n  const outputArray = new Uint8Array(rawData.length);\n\n  for (let i = 0; i < rawData.length; ++i) {\n    outputArray[i] = rawData.charCodeAt(i);\n  }\n  return outputArray;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { deleteDB, openDB } from 'idb';\n\nimport { TokenDetails } from '../interfaces/token-details';\nimport { arrayToBase64 } from './array-base64-translator';\n\n// https://github.com/firebase/firebase-js-sdk/blob/7857c212f944a2a9eb421fd4cb7370181bc034b5/packages/messaging/src/interfaces/token-details.ts\nexport interface V2TokenDetails {\n  fcmToken: string;\n  swScope: string;\n  vapidKey: string | Uint8Array;\n  subscription: PushSubscription;\n  fcmSenderId: string;\n  fcmPushSet: string;\n  createTime?: number;\n  endpoint?: string;\n  auth?: string;\n  p256dh?: string;\n}\n\n// https://github.com/firebase/firebase-js-sdk/blob/6b5b15ce4ea3df5df5df8a8b33a4e41e249c7715/packages/messaging/src/interfaces/token-details.ts\nexport interface V3TokenDetails {\n  fcmToken: string;\n  swScope: string;\n  vapidKey: Uint8Array;\n  fcmSenderId: string;\n  fcmPushSet: string;\n  endpoint: string;\n  auth: ArrayBuffer;\n  p256dh: ArrayBuffer;\n  createTime: number;\n}\n\n// https://github.com/firebase/firebase-js-sdk/blob/9567dba664732f681fa7fe60f5b7032bb1daf4c9/packages/messaging/src/interfaces/token-details.ts\nexport interface V4TokenDetails {\n  fcmToken: string;\n  swScope: string;\n  vapidKey: Uint8Array;\n  fcmSenderId: string;\n  endpoint: string;\n  auth: ArrayBufferLike;\n  p256dh: ArrayBufferLike;\n  createTime: number;\n}\n\nconst OLD_DB_NAME = 'fcm_token_details_db';\n/**\n * The last DB version of 'fcm_token_details_db' was 4. This is one higher, so that the upgrade\n * callback is called for all versions of the old DB.\n */\nconst OLD_DB_VERSION = 5;\nconst OLD_OBJECT_STORE_NAME = 'fcm_token_object_Store';\n\nexport async function migrateOldDatabase(\n  senderId: string\n): Promise<TokenDetails | null> {\n  if ('databases' in indexedDB) {\n    // indexedDb.databases() is an IndexedDB v3 API and does not exist in all browsers. TODO: Remove\n    // typecast when it lands in TS types.\n    const databases = await (\n      indexedDB as {\n        databases(): Promise<Array<{ name: string; version: number }>>;\n      }\n    ).databases();\n    const dbNames = databases.map(db => db.name);\n\n    if (!dbNames.includes(OLD_DB_NAME)) {\n      // old DB didn't exist, no need to open.\n      return null;\n    }\n  }\n\n  let tokenDetails: TokenDetails | null = null;\n\n  const db = await openDB(OLD_DB_NAME, OLD_DB_VERSION, {\n    upgrade: async (db, oldVersion, newVersion, upgradeTransaction) => {\n      if (oldVersion < 2) {\n        // Database too old, skip migration.\n        return;\n      }\n\n      if (!db.objectStoreNames.contains(OLD_OBJECT_STORE_NAME)) {\n        // Database did not exist. Nothing to do.\n        return;\n      }\n\n      const objectStore = upgradeTransaction.objectStore(OLD_OBJECT_STORE_NAME);\n      const value = await objectStore.index('fcmSenderId').get(senderId);\n      await objectStore.clear();\n\n      if (!value) {\n        // No entry in the database, nothing to migrate.\n        return;\n      }\n\n      if (oldVersion === 2) {\n        const oldDetails = value as V2TokenDetails;\n\n        if (!oldDetails.auth || !oldDetails.p256dh || !oldDetails.endpoint) {\n          return;\n        }\n\n        tokenDetails = {\n          token: oldDetails.fcmToken,\n          createTime: oldDetails.createTime ?? Date.now(),\n          subscriptionOptions: {\n            auth: oldDetails.auth,\n            p256dh: oldDetails.p256dh,\n            endpoint: oldDetails.endpoint,\n            swScope: oldDetails.swScope,\n            vapidKey:\n              typeof oldDetails.vapidKey === 'string'\n                ? oldDetails.vapidKey\n                : arrayToBase64(oldDetails.vapidKey)\n          }\n        };\n      } else if (oldVersion === 3) {\n        const oldDetails = value as V3TokenDetails;\n\n        tokenDetails = {\n          token: oldDetails.fcmToken,\n          createTime: oldDetails.createTime,\n          subscriptionOptions: {\n            auth: arrayToBase64(oldDetails.auth),\n            p256dh: arrayToBase64(oldDetails.p256dh),\n            endpoint: oldDetails.endpoint,\n            swScope: oldDetails.swScope,\n            vapidKey: arrayToBase64(oldDetails.vapidKey)\n          }\n        };\n      } else if (oldVersion === 4) {\n        const oldDetails = value as V4TokenDetails;\n\n        tokenDetails = {\n          token: oldDetails.fcmToken,\n          createTime: oldDetails.createTime,\n          subscriptionOptions: {\n            auth: arrayToBase64(oldDetails.auth),\n            p256dh: arrayToBase64(oldDetails.p256dh),\n            endpoint: oldDetails.endpoint,\n            swScope: oldDetails.swScope,\n            vapidKey: arrayToBase64(oldDetails.vapidKey)\n          }\n        };\n      }\n    }\n  });\n  db.close();\n\n  // Delete all old databases.\n  await deleteDB(OLD_DB_NAME);\n  await deleteDB('fcm_vapid_details_db');\n  await deleteDB('undefined');\n\n  return checkTokenDetails(tokenDetails) ? tokenDetails : null;\n}\n\nfunction checkTokenDetails(\n  tokenDetails: TokenDetails | null\n): tokenDetails is TokenDetails {\n  if (!tokenDetails || !tokenDetails.subscriptionOptions) {\n    return false;\n  }\n  const { subscriptionOptions } = tokenDetails;\n  return (\n    typeof tokenDetails.createTime === 'number' &&\n    tokenDetails.createTime > 0 &&\n    typeof tokenDetails.token === 'string' &&\n    tokenDetails.token.length > 0 &&\n    typeof subscriptionOptions.auth === 'string' &&\n    subscriptionOptions.auth.length > 0 &&\n    typeof subscriptionOptions.p256dh === 'string' &&\n    subscriptionOptions.p256dh.length > 0 &&\n    typeof subscriptionOptions.endpoint === 'string' &&\n    subscriptionOptions.endpoint.length > 0 &&\n    typeof subscriptionOptions.swScope === 'string' &&\n    subscriptionOptions.swScope.length > 0 &&\n    typeof subscriptionOptions.vapidKey === 'string' &&\n    subscriptionOptions.vapidKey.length > 0\n  );\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ErrorFactory, ErrorMap } from '@firebase/util';\n\nexport const enum ErrorCode {\n  MISSING_APP_CONFIG_VALUES = 'missing-app-config-values',\n  AVAILABLE_IN_WINDOW = 'only-available-in-window',\n  AVAILABLE_IN_SW = 'only-available-in-sw',\n  PERMISSION_DEFAULT = 'permission-default',\n  PERMISSION_BLOCKED = 'permission-blocked',\n  UNSUPPORTED_BROWSER = 'unsupported-browser',\n  INDEXED_DB_UNSUPPORTED = 'indexed-db-unsupported',\n  FAILED_DEFAULT_REGISTRATION = 'failed-service-worker-registration',\n  TOKEN_SUBSCRIBE_FAILED = 'token-subscribe-failed',\n  TOKEN_SUBSCRIBE_NO_TOKEN = 'token-subscribe-no-token',\n  TOKEN_UNSUBSCRIBE_FAILED = 'token-unsubscribe-failed',\n  TOKEN_UPDATE_FAILED = 'token-update-failed',\n  TOKEN_UPDATE_NO_TOKEN = 'token-update-no-token',\n  INVALID_BG_HANDLER = 'invalid-bg-handler',\n  USE_SW_AFTER_GET_TOKEN = 'use-sw-after-get-token',\n  INVALID_SW_REGISTRATION = 'invalid-sw-registration',\n  USE_VAPID_KEY_AFTER_GET_TOKEN = 'use-vapid-key-after-get-token',\n  INVALID_VAPID_KEY = 'invalid-vapid-key'\n}\n\nexport const ERROR_MAP: ErrorMap<ErrorCode> = {\n  [ErrorCode.MISSING_APP_CONFIG_VALUES]:\n    'Missing App configuration value: \"{$valueName}\"',\n  [ErrorCode.AVAILABLE_IN_WINDOW]:\n    'This method is available in a Window context.',\n  [ErrorCode.AVAILABLE_IN_SW]:\n    'This method is available in a service worker context.',\n  [ErrorCode.PERMISSION_DEFAULT]:\n    'The notification permission was not granted and dismissed instead.',\n  [ErrorCode.PERMISSION_BLOCKED]:\n    'The notification permission was not granted and blocked instead.',\n  [ErrorCode.UNSUPPORTED_BROWSER]:\n    \"This browser doesn't support the API's required to use the Firebase SDK.\",\n  [ErrorCode.INDEXED_DB_UNSUPPORTED]:\n    \"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)\",\n  [ErrorCode.FAILED_DEFAULT_REGISTRATION]:\n    'We are unable to register the default service worker. {$browserErrorMessage}',\n  [ErrorCode.TOKEN_SUBSCRIBE_FAILED]:\n    'A problem occurred while subscribing the user to FCM: {$errorInfo}',\n  [ErrorCode.TOKEN_SUBSCRIBE_NO_TOKEN]:\n    'FCM returned no token when subscribing the user to push.',\n  [ErrorCode.TOKEN_UNSUBSCRIBE_FAILED]:\n    'A problem occurred while unsubscribing the ' +\n    'user from FCM: {$errorInfo}',\n  [ErrorCode.TOKEN_UPDATE_FAILED]:\n    'A problem occurred while updating the user from FCM: {$errorInfo}',\n  [ErrorCode.TOKEN_UPDATE_NO_TOKEN]:\n    'FCM returned no token when updating the user to push.',\n  [ErrorCode.USE_SW_AFTER_GET_TOKEN]:\n    'The useServiceWorker() method may only be called once and must be ' +\n    'called before calling getToken() to ensure your service worker is used.',\n  [ErrorCode.INVALID_SW_REGISTRATION]:\n    'The input to useServiceWorker() must be a ServiceWorkerRegistration.',\n  [ErrorCode.INVALID_BG_HANDLER]:\n    'The input to setBackgroundMessageHandler() must be a function.',\n  [ErrorCode.INVALID_VAPID_KEY]: 'The public VAPID key must be a string.',\n  [ErrorCode.USE_VAPID_KEY_AFTER_GET_TOKEN]:\n    'The usePublicVapidKey() method may only be called once and must be ' +\n    'called before calling getToken() to ensure your VAPID key is used.'\n};\n\ninterface ErrorParams {\n  [ErrorCode.MISSING_APP_CONFIG_VALUES]: {\n    valueName: string;\n  };\n  [ErrorCode.FAILED_DEFAULT_REGISTRATION]: { browserErrorMessage: string };\n  [ErrorCode.TOKEN_SUBSCRIBE_FAILED]: { errorInfo: string };\n  [ErrorCode.TOKEN_UNSUBSCRIBE_FAILED]: { errorInfo: string };\n  [ErrorCode.TOKEN_UPDATE_FAILED]: { errorInfo: string };\n}\n\nexport const ERROR_FACTORY = new ErrorFactory<ErrorCode, ErrorParams>(\n  'messaging',\n  'Messaging',\n  ERROR_MAP\n);\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DEFAULT_VAPID_KEY, ENDPOINT } from '../util/constants';\nimport { ERROR_FACTORY, ErrorCode } from '../util/errors';\nimport { SubscriptionOptions, TokenDetails } from '../interfaces/token-details';\n\nimport { AppConfig } from '../interfaces/app-config';\nimport { FirebaseInternalDependencies } from '../interfaces/internal-dependencies';\n\nexport interface ApiResponse {\n  token?: string;\n  error?: { message: string };\n}\n\nexport interface ApiRequestBody {\n  web: {\n    endpoint: string;\n    p256dh: string;\n    auth: string;\n    applicationPubKey?: string;\n  };\n}\n\nexport async function requestGetToken(\n  firebaseDependencies: FirebaseInternalDependencies,\n  subscriptionOptions: SubscriptionOptions\n): Promise<string> {\n  const headers = await getHeaders(firebaseDependencies);\n  const body = getBody(subscriptionOptions);\n\n  const subscribeOptions = {\n    method: 'POST',\n    headers,\n    body: JSON.stringify(body)\n  };\n\n  let responseData: ApiResponse;\n  try {\n    const response = await fetch(\n      getEndpoint(firebaseDependencies.appConfig),\n      subscribeOptions\n    );\n    responseData = await response.json();\n  } catch (err) {\n    throw ERROR_FACTORY.create(ErrorCode.TOKEN_SUBSCRIBE_FAILED, {\n      errorInfo: (err as Error)?.toString()\n    });\n  }\n\n  if (responseData.error) {\n    const message = responseData.error.message;\n    throw ERROR_FACTORY.create(ErrorCode.TOKEN_SUBSCRIBE_FAILED, {\n      errorInfo: message\n    });\n  }\n\n  if (!responseData.token) {\n    throw ERROR_FACTORY.create(ErrorCode.TOKEN_SUBSCRIBE_NO_TOKEN);\n  }\n\n  return responseData.token;\n}\n\nexport async function requestUpdateToken(\n  firebaseDependencies: FirebaseInternalDependencies,\n  tokenDetails: TokenDetails\n): Promise<string> {\n  const headers = await getHeaders(firebaseDependencies);\n  const body = getBody(tokenDetails.subscriptionOptions!);\n\n  const updateOptions = {\n    method: 'PATCH',\n    headers,\n    body: JSON.stringify(body)\n  };\n\n  let responseData: ApiResponse;\n  try {\n    const response = await fetch(\n      `${getEndpoint(firebaseDependencies.appConfig)}/${tokenDetails.token}`,\n      updateOptions\n    );\n    responseData = await response.json();\n  } catch (err) {\n    throw ERROR_FACTORY.create(ErrorCode.TOKEN_UPDATE_FAILED, {\n      errorInfo: (err as Error)?.toString()\n    });\n  }\n\n  if (responseData.error) {\n    const message = responseData.error.message;\n    throw ERROR_FACTORY.create(ErrorCode.TOKEN_UPDATE_FAILED, {\n      errorInfo: message\n    });\n  }\n\n  if (!responseData.token) {\n    throw ERROR_FACTORY.create(ErrorCode.TOKEN_UPDATE_NO_TOKEN);\n  }\n\n  return responseData.token;\n}\n\nexport async function requestDeleteToken(\n  firebaseDependencies: FirebaseInternalDependencies,\n  token: string\n): Promise<void> {\n  const headers = await getHeaders(firebaseDependencies);\n\n  const unsubscribeOptions = {\n    method: 'DELETE',\n    headers\n  };\n\n  try {\n    const response = await fetch(\n      `${getEndpoint(firebaseDependencies.appConfig)}/${token}`,\n      unsubscribeOptions\n    );\n    const responseData: ApiResponse = await response.json();\n    if (responseData.error) {\n      const message = responseData.error.message;\n      throw ERROR_FACTORY.create(ErrorCode.TOKEN_UNSUBSCRIBE_FAILED, {\n        errorInfo: message\n      });\n    }\n  } catch (err) {\n    throw ERROR_FACTORY.create(ErrorCode.TOKEN_UNSUBSCRIBE_FAILED, {\n      errorInfo: (err as Error)?.toString()\n    });\n  }\n}\n\nfunction getEndpoint({ projectId }: AppConfig): string {\n  return `${ENDPOINT}/projects/${projectId!}/registrations`;\n}\n\nasync function getHeaders({\n  appConfig,\n  installations\n}: FirebaseInternalDependencies): Promise<Headers> {\n  const authToken = await installations.getToken();\n\n  return new Headers({\n    'Content-Type': 'application/json',\n    Accept: 'application/json',\n    'x-goog-api-key': appConfig.apiKey!,\n    'x-goog-firebase-installations-auth': `FIS ${authToken}`\n  });\n}\n\nfunction getBody({\n  p256dh,\n  auth,\n  endpoint,\n  vapidKey\n}: SubscriptionOptions): ApiRequestBody {\n  const body: ApiRequestBody = {\n    web: {\n      endpoint,\n      auth,\n      p256dh\n    }\n  };\n\n  if (vapidKey !== DEFAULT_VAPID_KEY) {\n    body.web.applicationPubKey = vapidKey;\n  }\n\n  return body;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MessagePayload } from '../interfaces/public-types';\nimport { MessagePayloadInternal } from '../interfaces/internal-message-payload';\n\nexport function externalizePayload(\n  internalPayload: MessagePayloadInternal\n): MessagePayload {\n  const payload: MessagePayload = {\n    from: internalPayload.from,\n    // eslint-disable-next-line camelcase\n    collapseKey: internalPayload.collapse_key,\n    // eslint-disable-next-line camelcase\n    messageId: internalPayload.fcmMessageId\n  } as MessagePayload;\n\n  propagateNotificationPayload(payload, internalPayload);\n  propagateDataPayload(payload, internalPayload);\n  propagateFcmOptions(payload, internalPayload);\n\n  return payload;\n}\n\nfunction propagateNotificationPayload(\n  payload: MessagePayload,\n  messagePayloadInternal: MessagePayloadInternal\n): void {\n  if (!messagePayloadInternal.notification) {\n    return;\n  }\n\n  payload.notification = {};\n\n  const title = messagePayloadInternal.notification!.title;\n  if (!!title) {\n    payload.notification!.title = title;\n  }\n\n  const body = messagePayloadInternal.notification!.body;\n  if (!!body) {\n    payload.notification!.body = body;\n  }\n\n  const image = messagePayloadInternal.notification!.image;\n  if (!!image) {\n    payload.notification!.image = image;\n  }\n\n  const icon = messagePayloadInternal.notification!.icon;\n  if (!!icon) {\n    payload.notification!.icon = icon;\n  }\n}\n\nfunction propagateDataPayload(\n  payload: MessagePayload,\n  messagePayloadInternal: MessagePayloadInternal\n): void {\n  if (!messagePayloadInternal.data) {\n    return;\n  }\n\n  payload.data = messagePayloadInternal.data as { [key: string]: string };\n}\n\nfunction propagateFcmOptions(\n  payload: MessagePayload,\n  messagePayloadInternal: MessagePayloadInternal\n): void {\n  // fcmOptions.link value is written into notification.click_action. see more in b/232072111\n  if (\n    !messagePayloadInternal.fcmOptions &&\n    !messagePayloadInternal.notification?.click_action\n  ) {\n    return;\n  }\n\n  payload.fcmOptions = {};\n\n  const link =\n    messagePayloadInternal.fcmOptions?.link ??\n    messagePayloadInternal.notification?.click_action;\n\n  if (!!link) {\n    payload.fcmOptions!.link = link;\n  }\n\n  // eslint-disable-next-line camelcase\n  const analyticsLabel = messagePayloadInternal.fcmOptions?.analytics_label;\n  if (!!analyticsLabel) {\n    payload.fcmOptions!.analyticsLabel = analyticsLabel;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  DEFAULT_BACKOFF_TIME_MS,\n  EVENT_MESSAGE_DELIVERED,\n  FCM_LOG_SOURCE,\n  LOG_INTERVAL_IN_MS,\n  MAX_NUMBER_OF_EVENTS_PER_LOG_REQUEST,\n  MAX_RETRIES,\n  MessageType,\n  SDK_PLATFORM_WEB\n} from '../util/constants';\nimport {\n  FcmEvent,\n  LogEvent,\n  LogRequest,\n  LogResponse,\n  ComplianceData\n} from '../interfaces/logging-types';\n\nimport { MessagePayloadInternal } from '../interfaces/internal-message-payload';\nimport { MessagingService } from '../messaging-service';\n\nconst FIRELOG_ENDPOINT = _mergeStrings(\n  'hts/frbslgigp.ogepscmv/ieo/eaylg',\n  'tp:/ieaeogn-agolai.o/1frlglgc/o'\n);\n\nconst FCM_TRANSPORT_KEY = _mergeStrings(\n  'AzSCbw63g1R0nCw85jG8',\n  'Iaya3yLKwmgvh7cF0q4'\n);\n\nexport function startLoggingService(messaging: MessagingService): void {\n  if (!messaging.isLogServiceStarted) {\n    _processQueue(messaging, LOG_INTERVAL_IN_MS);\n    messaging.isLogServiceStarted = true;\n  }\n}\n\n/**\n *\n * @param messaging the messaging instance.\n * @param offsetInMs this method execute after `offsetInMs` elapsed .\n */\nexport function _processQueue(\n  messaging: MessagingService,\n  offsetInMs: number\n): void {\n  setTimeout(async () => {\n    if (!messaging.deliveryMetricsExportedToBigQueryEnabled) {\n      // flush events and terminate logging service\n      messaging.logEvents = [];\n      messaging.isLogServiceStarted = false;\n\n      return;\n    }\n\n    if (!messaging.logEvents.length) {\n      return _processQueue(messaging, LOG_INTERVAL_IN_MS);\n    }\n\n    await _dispatchLogEvents(messaging);\n  }, offsetInMs);\n}\n\nexport async function _dispatchLogEvents(\n  messaging: MessagingService\n): Promise<void> {\n  for (\n    let i = 0, n = messaging.logEvents.length;\n    i < n;\n    i += MAX_NUMBER_OF_EVENTS_PER_LOG_REQUEST\n  ) {\n    const logRequest = _createLogRequest(\n      messaging.logEvents.slice(i, i + MAX_NUMBER_OF_EVENTS_PER_LOG_REQUEST)\n    );\n\n    let retryCount = 0,\n      response = {} as Response;\n\n    do {\n      try {\n        response = await fetch(\n          FIRELOG_ENDPOINT.concat('?key=', FCM_TRANSPORT_KEY),\n          {\n            method: 'POST',\n            body: JSON.stringify(logRequest)\n          }\n        );\n\n        // don't retry on 200s or non retriable errors\n        if (response.ok || (!response.ok && !isRetriableError(response))) {\n          break;\n        }\n\n        if (!response.ok && isRetriableError(response)) {\n          // rethrow to retry with quota\n          throw new Error(\n            'a retriable Non-200 code is returned in fetch to Firelog endpoint. Retry'\n          );\n        }\n      } catch (error) {\n        const isLastAttempt = retryCount === MAX_RETRIES;\n        if (isLastAttempt) {\n          // existing the do-while interactive retry logic because retry quota has reached.\n          break;\n        }\n      }\n\n      let delayInMs: number;\n      try {\n        delayInMs = Number(\n          ((await response.json()) as LogResponse).nextRequestWaitMillis\n        );\n      } catch (e) {\n        delayInMs = DEFAULT_BACKOFF_TIME_MS;\n      }\n\n      await new Promise(resolve => setTimeout(resolve, delayInMs));\n\n      retryCount++;\n    } while (retryCount < MAX_RETRIES);\n  }\n\n  messaging.logEvents = [];\n  // schedule for next logging\n  _processQueue(messaging, LOG_INTERVAL_IN_MS);\n}\n\nfunction isRetriableError(response: Response): boolean {\n  const httpStatus = response.status;\n\n  return (\n    httpStatus === 429 ||\n    httpStatus === 500 ||\n    httpStatus === 503 ||\n    httpStatus === 504\n  );\n}\n\nexport async function stageLog(\n  messaging: MessagingService,\n  internalPayload: MessagePayloadInternal\n): Promise<void> {\n  const fcmEvent = createFcmEvent(\n    internalPayload,\n    await messaging.firebaseDependencies.installations.getId()\n  );\n\n  createAndEnqueueLogEvent(messaging, fcmEvent, internalPayload.productId);\n}\n\nfunction createFcmEvent(\n  internalPayload: MessagePayloadInternal,\n  fid: string\n): FcmEvent {\n  const fcmEvent = {} as FcmEvent;\n\n  /* eslint-disable camelcase */\n  // some fields should always be non-null. Still check to ensure.\n  if (!!internalPayload.from) {\n    fcmEvent.project_number = internalPayload.from;\n  }\n\n  if (!!internalPayload.fcmMessageId) {\n    fcmEvent.message_id = internalPayload.fcmMessageId;\n  }\n\n  fcmEvent.instance_id = fid;\n\n  if (!!internalPayload.notification) {\n    fcmEvent.message_type = MessageType.DISPLAY_NOTIFICATION.toString();\n  } else {\n    fcmEvent.message_type = MessageType.DATA_MESSAGE.toString();\n  }\n\n  fcmEvent.sdk_platform = SDK_PLATFORM_WEB.toString();\n  fcmEvent.package_name = self.origin.replace(/(^\\w+:|^)\\/\\//, '');\n\n  if (!!internalPayload.collapse_key) {\n    fcmEvent.collapse_key = internalPayload.collapse_key;\n  }\n\n  fcmEvent.event = EVENT_MESSAGE_DELIVERED.toString();\n\n  if (!!internalPayload.fcmOptions?.analytics_label) {\n    fcmEvent.analytics_label = internalPayload.fcmOptions?.analytics_label;\n  }\n\n  /* eslint-enable camelcase */\n  return fcmEvent;\n}\n\nfunction createAndEnqueueLogEvent(\n  messaging: MessagingService,\n  fcmEvent: FcmEvent,\n  productId: number\n): void {\n  const logEvent = {} as LogEvent;\n\n  /* eslint-disable camelcase */\n  logEvent.event_time_ms = Math.floor(Date.now()).toString();\n  logEvent.source_extension_json_proto3 = JSON.stringify(fcmEvent);\n\n  if (!!productId) {\n    logEvent.compliance_data = buildComplianceData(productId);\n  }\n  // eslint-disable-next-line camelcase\n\n  messaging.logEvents.push(logEvent);\n}\n\nfunction buildComplianceData(productId: number): ComplianceData {\n  const complianceData: ComplianceData = {\n    privacy_context: {\n      prequest: {\n        origin_associated_product_id: productId\n      }\n    }\n  };\n\n  return complianceData;\n}\n\nexport function _createLogRequest(logEventQueue: LogEvent[]): LogRequest {\n  const logRequest = {} as LogRequest;\n\n  /* eslint-disable camelcase */\n  logRequest.log_source = FCM_LOG_SOURCE.toString();\n  logRequest.log_event = logEventQueue;\n  /* eslint-enable camelcase */\n\n  return logRequest;\n}\n\nexport function _mergeStrings(s1: string, s2: string): string {\n  const resultArray = [];\n  for (let i = 0; i < s1.length; i++) {\n    resultArray.push(s1.charAt(i));\n    if (i < s2.length) {\n      resultArray.push(s2.charAt(i));\n    }\n  }\n\n  return resultArray.join('');\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ERROR_FACTORY, ErrorCode } from '../util/errors';\nimport { FirebaseApp, FirebaseOptions } from '@firebase/app';\n\nimport { AppConfig } from '../interfaces/app-config';\nimport { FirebaseError } from '@firebase/util';\n\nexport function extractAppConfig(app: FirebaseApp): AppConfig {\n  if (!app || !app.options) {\n    throw getMissingValueError('App Configuration Object');\n  }\n\n  if (!app.name) {\n    throw getMissingValueError('App Name');\n  }\n\n  // Required app config keys\n  const configKeys: ReadonlyArray<keyof FirebaseOptions> = [\n    'projectId',\n    'apiKey',\n    'appId',\n    'messagingSenderId'\n  ];\n\n  const { options } = app;\n  for (const keyName of configKeys) {\n    if (!options[keyName]) {\n      throw getMissingValueError(keyName);\n    }\n  }\n\n  return {\n    appName: app.name,\n    projectId: options.projectId!,\n    apiKey: options.apiKey!,\n    appId: options.appId!,\n    senderId: options.messagingSenderId!\n  };\n}\n\nfunction getMissingValueError(valueName: string): FirebaseError {\n  return ERROR_FACTORY.create(ErrorCode.MISSING_APP_CONFIG_VALUES, {\n    valueName\n  });\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseApp, _FirebaseService } from '@firebase/app';\nimport { MessagePayload, NextFn, Observer } from './interfaces/public-types';\n\nimport { FirebaseAnalyticsInternalName } from '@firebase/analytics-interop-types';\nimport { FirebaseInternalDependencies } from './interfaces/internal-dependencies';\nimport { LogEvent } from './interfaces/logging-types';\nimport { Provider } from '@firebase/component';\nimport { _FirebaseInstallationsInternal } from '@firebase/installations';\nimport { extractAppConfig } from './helpers/extract-app-config';\n\nexport class MessagingService implements _FirebaseService {\n  readonly app!: FirebaseApp;\n  readonly firebaseDependencies!: FirebaseInternalDependencies;\n\n  swRegistration?: ServiceWorkerRegistration;\n  vapidKey?: string;\n  // logging is only done with end user consent. Default to false.\n  deliveryMetricsExportedToBigQueryEnabled: boolean = false;\n\n  onBackgroundMessageHandler:\n    | NextFn<MessagePayload>\n    | Observer<MessagePayload>\n    | null = null;\n\n  onMessageHandler: NextFn<MessagePayload> | Observer<MessagePayload> | null =\n    null;\n\n  logEvents: LogEvent[] = [];\n  isLogServiceStarted: boolean = false;\n\n  constructor(\n    app: FirebaseApp,\n    installations: _FirebaseInstallationsInternal,\n    analyticsProvider: Provider<FirebaseAnalyticsInternalName>\n  ) {\n    const appConfig = extractAppConfig(app);\n\n    this.firebaseDependencies = {\n      app,\n      appConfig,\n      installations,\n      analyticsProvider\n    };\n  }\n\n  _delete(): Promise<void> {\n    return Promise.resolve();\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DEFAULT_SW_PATH, DEFAULT_SW_SCOPE } from '../util/constants';\nimport { ERROR_FACTORY, ErrorCode } from '../util/errors';\n\nimport { MessagingService } from '../messaging-service';\n\nexport async function registerDefaultSw(\n  messaging: MessagingService\n): Promise<void> {\n  try {\n    messaging.swRegistration = await navigator.serviceWorker.register(\n      DEFAULT_SW_PATH,\n      {\n        scope: DEFAULT_SW_SCOPE\n      }\n    );\n\n    // The timing when browser updates sw when sw has an update is unreliable from experiment. It\n    // leads to version conflict when the SDK upgrades to a newer version in the main page, but sw\n    // is stuck with the old version. For example,\n    // https://github.com/firebase/firebase-js-sdk/issues/2590 The following line reliably updates\n    // sw if there was an update.\n    messaging.swRegistration.update().catch(() => {\n      /* it is non blocking and we don't care if it failed */\n    });\n  } catch (e) {\n    throw ERROR_FACTORY.create(ErrorCode.FAILED_DEFAULT_REGISTRATION, {\n      browserErrorMessage: (e as Error)?.message\n    });\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ERROR_FACTORY, ErrorCode } from '../util/errors';\n\nimport { MessagingService } from '../messaging-service';\nimport { getTokenInternal } from '../internals/token-manager';\nimport { updateSwReg } from '../helpers/updateSwReg';\nimport { updateVapidKey } from '../helpers/updateVapidKey';\nimport { GetTokenOptions } from '../interfaces/public-types';\n\nexport async function getToken(\n  messaging: MessagingService,\n  options?: GetTokenOptions\n): Promise<string> {\n  if (!navigator) {\n    throw ERROR_FACTORY.create(ErrorCode.AVAILABLE_IN_WINDOW);\n  }\n\n  if (Notification.permission === 'default') {\n    await Notification.requestPermission();\n  }\n\n  if (Notification.permission !== 'granted') {\n    throw ERROR_FACTORY.create(ErrorCode.PERMISSION_BLOCKED);\n  }\n\n  await updateVapidKey(messaging, options?.vapidKey);\n  await updateSwReg(messaging, options?.serviceWorkerRegistration);\n\n  return getTokenInternal(messaging);\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DEFAULT_VAPID_KEY } from '../util/constants';\nimport { MessagingService } from '../messaging-service';\n\nexport async function updateVapidKey(\n  messaging: MessagingService,\n  vapidKey?: string | undefined\n): Promise<void> {\n  if (!!vapidKey) {\n    messaging.vapidKey = vapidKey;\n  } else if (!messaging.vapidKey) {\n    messaging.vapidKey = DEFAULT_VAPID_KEY;\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ERROR_FACTORY, ErrorCode } from '../util/errors';\n\nimport { MessagingService } from '../messaging-service';\nimport { registerDefaultSw } from './registerDefaultSw';\n\nexport async function updateSwReg(\n  messaging: MessagingService,\n  swRegistration?: ServiceWorkerRegistration | undefined\n): Promise<void> {\n  if (!swRegistration && !messaging.swRegistration) {\n    await registerDefaultSw(messaging);\n  }\n\n  if (!swRegistration && !!messaging.swRegistration) {\n    return;\n  }\n\n  if (!(swRegistration instanceof ServiceWorkerRegistration)) {\n    throw ERROR_FACTORY.create(ErrorCode.INVALID_SW_REGISTRATION);\n  }\n\n  messaging.swRegistration = swRegistration;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  CONSOLE_CAMPAIGN_ID,\n  CONSOLE_CAMPAIGN_NAME,\n  CONSOLE_CAMPAIGN_TIME\n} from '../util/constants';\nimport {\n  ConsoleMessageData,\n  MessageType\n} from '../interfaces/internal-message-payload';\n\nimport { MessagingService } from '../messaging-service';\n\nexport async function logToScion(\n  messaging: MessagingService,\n  messageType: MessageType,\n  data: ConsoleMessageData\n): Promise<void> {\n  const eventType = getEventType(messageType);\n  const analytics =\n    await messaging.firebaseDependencies.analyticsProvider.get();\n  analytics.logEvent(eventType, {\n    /* eslint-disable camelcase */\n    message_id: data[CONSOLE_CAMPAIGN_ID],\n    message_name: data[CONSOLE_CAMPAIGN_NAME],\n    message_time: data[CONSOLE_CAMPAIGN_TIME],\n    message_device_time: Math.floor(Date.now() / 1000)\n    /* eslint-enable camelcase */\n  });\n}\n\nfunction getEventType(messageType: MessageType): string {\n  switch (messageType) {\n    case MessageType.NOTIFICATION_CLICKED:\n      return 'notification_open';\n    case MessageType.PUSH_RECEIVED:\n      return 'notification_foreground';\n    default:\n      throw new Error();\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  MessagePayloadInternal,\n  MessageType\n} from '../interfaces/internal-message-payload';\n\nimport { CONSOLE_CAMPAIGN_ANALYTICS_ENABLED } from '../util/constants';\nimport { MessagingService } from '../messaging-service';\nimport { externalizePayload } from '../helpers/externalizePayload';\nimport { isConsoleMessage } from '../helpers/is-console-message';\nimport { logToScion } from '../helpers/logToScion';\n\nexport async function messageEventListener(\n  messaging: MessagingService,\n  event: MessageEvent\n): Promise<void> {\n  const internalPayload = event.data as MessagePayloadInternal;\n\n  if (!internalPayload.isFirebaseMessaging) {\n    return;\n  }\n\n  if (\n    messaging.onMessageHandler &&\n    internalPayload.messageType === MessageType.PUSH_RECEIVED\n  ) {\n    if (typeof messaging.onMessageHandler === 'function') {\n      messaging.onMessageHandler(externalizePayload(internalPayload));\n    } else {\n      messaging.onMessageHandler.next(externalizePayload(internalPayload));\n    }\n  }\n\n  // Log to Scion if applicable\n  const dataPayload = internalPayload.data;\n  if (\n    isConsoleMessage(dataPayload) &&\n    dataPayload[CONSOLE_CAMPAIGN_ANALYTICS_ENABLED] === '1'\n  ) {\n    await logToScion(messaging, internalPayload.messageType!, dataPayload);\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CONSOLE_CAMPAIGN_ID } from '../util/constants';\nimport { ConsoleMessageData } from '../interfaces/internal-message-payload';\n\nexport function isConsoleMessage(data: unknown): data is ConsoleMessageData {\n  // This message has a campaign ID, meaning it was sent using the Firebase Console.\n  return typeof data === 'object' && !!data && CONSOLE_CAMPAIGN_ID in data;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Component,\n  ComponentContainer,\n  ComponentType,\n  InstanceFactory\n} from '@firebase/component';\nimport {\n  onNotificationClick,\n  onPush,\n  onSubChange\n} from '../listeners/sw-listeners';\n\nimport { GetTokenOptions } from '../interfaces/public-types';\nimport { MessagingInternal } from '@firebase/messaging-interop-types';\nimport { MessagingService } from '../messaging-service';\nimport { ServiceWorkerGlobalScope } from '../util/sw-types';\nimport { _registerComponent, registerVersion } from '@firebase/app';\nimport { getToken } from '../api/getToken';\nimport { messageEventListener } from '../listeners/window-listener';\n\nimport { name, version } from '../../package.json';\n\nconst WindowMessagingFactory: InstanceFactory<'messaging'> = (\n  container: ComponentContainer\n) => {\n  const messaging = new MessagingService(\n    container.getProvider('app').getImmediate(),\n    container.getProvider('installations-internal').getImmediate(),\n    container.getProvider('analytics-internal')\n  );\n\n  navigator.serviceWorker.addEventListener('message', e =>\n    messageEventListener(messaging as MessagingService, e)\n  );\n\n  return messaging;\n};\n\nconst WindowMessagingInternalFactory: InstanceFactory<'messaging-internal'> = (\n  container: ComponentContainer\n) => {\n  const messaging = container\n    .getProvider('messaging')\n    .getImmediate() as MessagingService;\n\n  const messagingInternal: MessagingInternal = {\n    getToken: (options?: GetTokenOptions) => getToken(messaging, options)\n  };\n\n  return messagingInternal;\n};\n\ndeclare const self: ServiceWorkerGlobalScope;\nconst SwMessagingFactory: InstanceFactory<'messaging'> = (\n  container: ComponentContainer\n) => {\n  const messaging = new MessagingService(\n    container.getProvider('app').getImmediate(),\n    container.getProvider('installations-internal').getImmediate(),\n    container.getProvider('analytics-internal')\n  );\n\n  self.addEventListener('push', e => {\n    e.waitUntil(onPush(e, messaging as MessagingService));\n  });\n  self.addEventListener('pushsubscriptionchange', e => {\n    e.waitUntil(onSubChange(e, messaging as MessagingService));\n  });\n  self.addEventListener('notificationclick', e => {\n    e.waitUntil(onNotificationClick(e));\n  });\n\n  return messaging;\n};\n\nexport function registerMessagingInWindow(): void {\n  _registerComponent(\n    new Component('messaging', WindowMessagingFactory, ComponentType.PUBLIC)\n  );\n\n  _registerComponent(\n    new Component(\n      'messaging-internal',\n      WindowMessagingInternalFactory,\n      ComponentType.PRIVATE\n    )\n  );\n\n  registerVersion(name, version);\n  // BUILD_TARGET will be replaced by values like esm5, esm2017, cjs5, etc during the compilation\n  registerVersion(name, version, '__BUILD_TARGET__');\n}\n\n/**\n * The messaging instance registered in sw is named differently than that of in client. This is\n * because both `registerMessagingInWindow` and `registerMessagingInSw` would be called in\n * `messaging-compat` and component with the same name can only be registered once.\n */\nexport function registerMessagingInSw(): void {\n  _registerComponent(\n    new Component('messaging-sw', SwMessagingFactory, ComponentType.PUBLIC)\n  );\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  areCookiesEnabled,\n  isIndexedDBAvailable,\n  validateIndexedDBOpenable\n} from '@firebase/util';\n\n/**\n * Checks if all required APIs exist in the browser.\n * @returns a Promise that resolves to a boolean.\n *\n * @public\n */\nexport async function isWindowSupported(): Promise<boolean> {\n  try {\n    // This throws if open() is unsupported, so adding it to the conditional\n    // statement below can cause an uncaught error.\n    await validateIndexedDBOpenable();\n  } catch (e) {\n    return false;\n  }\n  // firebase-js-sdk/issues/2393 reveals that idb#open in Safari iframe and Firefox private browsing\n  // might be prohibited to run. In these contexts, an error would be thrown during the messaging\n  // instantiating phase, informing the developers to import/call isSupported for special handling.\n  return (\n    typeof window !== 'undefined' &&\n    isIndexedDBAvailable() &&\n    areCookiesEnabled() &&\n    'serviceWorker' in navigator &&\n    'PushManager' in window &&\n    'Notification' in window &&\n    'fetch' in window &&\n    ServiceWorkerRegistration.prototype.hasOwnProperty('showNotification') &&\n    PushSubscription.prototype.hasOwnProperty('getKey')\n  );\n}\n\n/**\n * Checks whether all required APIs exist within SW Context\n * @returns a Promise that resolves to a boolean.\n *\n * @public\n */\nexport async function isSwSupported(): Promise<boolean> {\n  // firebase-js-sdk/issues/2393 reveals that idb#open in Safari iframe and Firefox private browsing\n  // might be prohibited to run. In these contexts, an error would be thrown during the messaging\n  // instantiating phase, informing the developers to import/call isSupported for special handling.\n  return (\n    isIndexedDBAvailable() &&\n    (await validateIndexedDBOpenable()) &&\n    'PushManager' in self &&\n    'Notification' in self &&\n    ServiceWorkerRegistration.prototype.hasOwnProperty('showNotification') &&\n    PushSubscription.prototype.hasOwnProperty('getKey')\n  );\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DEFAULT_VAPID_KEY, FCM_MSG } from '../util/constants';\nimport {\n  MessagePayloadInternal,\n  MessageType,\n  NotificationPayloadInternal\n} from '../interfaces/internal-message-payload';\nimport {\n  NotificationEvent,\n  PushEvent,\n  PushSubscriptionChangeEvent,\n  ServiceWorkerGlobalScope,\n  WindowClient\n} from '../util/sw-types';\nimport {\n  deleteTokenInternal,\n  getTokenInternal\n} from '../internals/token-manager';\n\nimport { MessagingService } from '../messaging-service';\nimport { dbGet } from '../internals/idb-manager';\nimport { externalizePayload } from '../helpers/externalizePayload';\nimport { isConsoleMessage } from '../helpers/is-console-message';\nimport { sleep } from '../helpers/sleep';\nimport { stageLog } from '../helpers/logToFirelog';\n\n// maxActions is an experimental property and not part of the official\n// TypeScript interface\n// https://developer.mozilla.org/en-US/docs/Web/API/Notification/maxActions\ninterface NotificationExperimental extends Notification {\n  maxActions?: number;\n}\n\n// Let TS know that this is a service worker\ndeclare const self: ServiceWorkerGlobalScope;\n\nexport async function onSubChange(\n  event: PushSubscriptionChangeEvent,\n  messaging: MessagingService\n): Promise<void> {\n  const { newSubscription } = event;\n  if (!newSubscription) {\n    // Subscription revoked, delete token\n    await deleteTokenInternal(messaging);\n    return;\n  }\n\n  const tokenDetails = await dbGet(messaging.firebaseDependencies);\n  await deleteTokenInternal(messaging);\n\n  messaging.vapidKey =\n    tokenDetails?.subscriptionOptions?.vapidKey ?? DEFAULT_VAPID_KEY;\n  await getTokenInternal(messaging);\n}\n\nexport async function onPush(\n  event: PushEvent,\n  messaging: MessagingService\n): Promise<void> {\n  const internalPayload = getMessagePayloadInternal(event);\n  if (!internalPayload) {\n    // Failed to get parsed MessagePayload from the PushEvent. Skip handling the push.\n    return;\n  }\n\n  // log to Firelog with user consent\n  if (messaging.deliveryMetricsExportedToBigQueryEnabled) {\n    await stageLog(messaging, internalPayload);\n  }\n\n  // foreground handling: eventually passed to onMessage hook\n  const clientList = await getClientList();\n  if (hasVisibleClients(clientList)) {\n    return sendMessagePayloadInternalToWindows(clientList, internalPayload);\n  }\n\n  // background handling: display if possible and pass to onBackgroundMessage hook\n  if (!!internalPayload.notification) {\n    await showNotification(wrapInternalPayload(internalPayload));\n  }\n\n  if (!messaging) {\n    return;\n  }\n\n  if (!!messaging.onBackgroundMessageHandler) {\n    const payload = externalizePayload(internalPayload);\n\n    if (typeof messaging.onBackgroundMessageHandler === 'function') {\n      await messaging.onBackgroundMessageHandler(payload);\n    } else {\n      messaging.onBackgroundMessageHandler.next(payload);\n    }\n  }\n}\n\nexport async function onNotificationClick(\n  event: NotificationEvent\n): Promise<void> {\n  const internalPayload: MessagePayloadInternal =\n    event.notification?.data?.[FCM_MSG];\n\n  if (!internalPayload) {\n    return;\n  } else if (event.action) {\n    // User clicked on an action button. This will allow developers to act on action button clicks\n    // by using a custom onNotificationClick listener that they define.\n    return;\n  }\n\n  // Prevent other listeners from receiving the event\n  event.stopImmediatePropagation();\n  event.notification.close();\n\n  // Note clicking on a notification with no link set will focus the Chrome's current tab.\n  const link = getLink(internalPayload);\n  if (!link) {\n    return;\n  }\n\n  // FM should only open/focus links from app's origin.\n  const url = new URL(link, self.location.href);\n  const originUrl = new URL(self.location.origin);\n\n  if (url.host !== originUrl.host) {\n    return;\n  }\n\n  let client = await getWindowClient(url);\n\n  if (!client) {\n    client = await self.clients.openWindow(link);\n\n    // Wait three seconds for the client to initialize and set up the message handler so that it\n    // can receive the message.\n    await sleep(3000);\n  } else {\n    client = await client.focus();\n  }\n\n  if (!client) {\n    // Window Client will not be returned if it's for a third party origin.\n    return;\n  }\n\n  internalPayload.messageType = MessageType.NOTIFICATION_CLICKED;\n  internalPayload.isFirebaseMessaging = true;\n  return client.postMessage(internalPayload);\n}\n\nfunction wrapInternalPayload(\n  internalPayload: MessagePayloadInternal\n): NotificationPayloadInternal {\n  const wrappedInternalPayload: NotificationPayloadInternal = {\n    ...(internalPayload.notification as unknown as NotificationPayloadInternal)\n  };\n\n  // Put the message payload under FCM_MSG name so we can identify the notification as being an FCM\n  // notification vs a notification from somewhere else (i.e. normal web push or developer generated\n  // notification).\n  wrappedInternalPayload.data = {\n    [FCM_MSG]: internalPayload\n  };\n\n  return wrappedInternalPayload;\n}\n\nfunction getMessagePayloadInternal({\n  data\n}: PushEvent): MessagePayloadInternal | null {\n  if (!data) {\n    return null;\n  }\n\n  try {\n    return data.json();\n  } catch (err) {\n    // Not JSON so not an FCM message.\n    return null;\n  }\n}\n\n/**\n * @param url The URL to look for when focusing a client.\n * @return Returns an existing window client or a newly opened WindowClient.\n */\nasync function getWindowClient(url: URL): Promise<WindowClient | null> {\n  const clientList = await getClientList();\n\n  for (const client of clientList) {\n    const clientUrl = new URL(client.url, self.location.href);\n\n    if (url.host === clientUrl.host) {\n      return client;\n    }\n  }\n\n  return null;\n}\n\n/**\n * @returns If there is currently a visible WindowClient, this method will resolve to true,\n * otherwise false.\n */\nfunction hasVisibleClients(clientList: WindowClient[]): boolean {\n  return clientList.some(\n    client =>\n      client.visibilityState === 'visible' &&\n      // Ignore chrome-extension clients as that matches the background pages of extensions, which\n      // are always considered visible for some reason.\n      !client.url.startsWith('chrome-extension://')\n  );\n}\n\nfunction sendMessagePayloadInternalToWindows(\n  clientList: WindowClient[],\n  internalPayload: MessagePayloadInternal\n): void {\n  internalPayload.isFirebaseMessaging = true;\n  internalPayload.messageType = MessageType.PUSH_RECEIVED;\n\n  for (const client of clientList) {\n    client.postMessage(internalPayload);\n  }\n}\n\nfunction getClientList(): Promise<WindowClient[]> {\n  return self.clients.matchAll({\n    type: 'window',\n    includeUncontrolled: true\n    // TS doesn't know that \"type: 'window'\" means it'll return WindowClient[]\n  }) as Promise<WindowClient[]>;\n}\n\nfunction showNotification(\n  notificationPayloadInternal: NotificationPayloadInternal\n): Promise<void> {\n  // Note: Firefox does not support the maxActions property.\n  // https://developer.mozilla.org/en-US/docs/Web/API/notification/maxActions\n  const { actions } = notificationPayloadInternal;\n  const { maxActions } = Notification as unknown as NotificationExperimental;\n  if (actions && maxActions && actions.length > maxActions) {\n    console.warn(\n      `This browser only supports ${maxActions} actions. The remaining actions will not be displayed.`\n    );\n  }\n\n  return self.registration.showNotification(\n    /* title= */ notificationPayloadInternal.title ?? '',\n    notificationPayloadInternal\n  );\n}\n\nfunction getLink(payload: MessagePayloadInternal): string | null {\n  // eslint-disable-next-line camelcase\n  const link = payload.fcmOptions?.link ?? payload.notification?.click_action;\n  if (link) {\n    return link;\n  }\n\n  if (isConsoleMessage(payload.data)) {\n    // Notification created in the Firebase Console. Redirect to origin.\n    return self.location.origin;\n  } else {\n    return null;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** Returns a promise that resolves after given time passes. */\nexport function sleep(ms: number): Promise<void> {\n  return new Promise<void>(resolve => {\n    setTimeout(resolve, ms);\n  });\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Messaging } from '../interfaces/public-types';\nimport { MessagingService } from '../messaging-service';\n\nexport function _setDeliveryMetricsExportedToBigQueryEnabled(\n  messaging: Messaging,\n  enable: boolean\n): void {\n  (messaging as MessagingService).deliveryMetricsExportedToBigQueryEnabled =\n    enable;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ERROR_FACTORY, ErrorCode } from '../util/errors';\n\nimport {\n  MessagePayload,\n  NextFn,\n  Observer,\n  Unsubscribe\n} from '../interfaces/public-types';\nimport { MessagingService } from '../messaging-service';\n\nexport function onBackgroundMessage(\n  messaging: MessagingService,\n  nextOrObserver: NextFn<MessagePayload> | Observer<MessagePayload>\n): Unsubscribe {\n  if (self.document !== undefined) {\n    throw ERROR_FACTORY.create(ErrorCode.AVAILABLE_IN_SW);\n  }\n\n  messaging.onBackgroundMessageHandler = nextOrObserver;\n\n  return () => {\n    messaging.onBackgroundMessageHandler = null;\n  };\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CONSTANTS } from './constants';\nimport { getDefaults } from './defaults';\n\n/**\n * Returns navigator.userAgent string or '' if it's not defined.\n * @return user agent string\n */\nexport function getUA(): string {\n  if (\n    typeof navigator !== 'undefined' &&\n    typeof navigator['userAgent'] === 'string'\n  ) {\n    return navigator['userAgent'];\n  } else {\n    return '';\n  }\n}\n\n/**\n * Detect Cordova / PhoneGap / Ionic frameworks on a mobile device.\n *\n * Deliberately does not rely on checking `file://` URLs (as this fails PhoneGap\n * in the Ripple emulator) nor Cordova `onDeviceReady`, which would normally\n * wait for a callback.\n */\nexport function isMobileCordova(): boolean {\n  return (\n    typeof window !== 'undefined' &&\n    // @ts-ignore Setting up an broadly applicable index signature for Window\n    // just to deal with this case would probably be a bad idea.\n    !!(window['cordova'] || window['phonegap'] || window['PhoneGap']) &&\n    /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())\n  );\n}\n\n/**\n * Detect Node.js.\n *\n * @return true if Node.js environment is detected or specified.\n */\n// Node detection logic from: https://github.com/iliakan/detect-node/\nexport function isNode(): boolean {\n  const forceEnvironment = getDefaults()?.forceEnvironment;\n  if (forceEnvironment === 'node') {\n    return true;\n  } else if (forceEnvironment === 'browser') {\n    return false;\n  }\n\n  try {\n    return (\n      Object.prototype.toString.call(global.process) === '[object process]'\n    );\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Detect Browser Environment\n */\nexport function isBrowser(): boolean {\n  return typeof self === 'object' && self.self === self;\n}\n\n/**\n * Detect browser extensions (Chrome and Firefox at least).\n */\ninterface BrowserRuntime {\n  id?: unknown;\n}\ndeclare const chrome: { runtime?: BrowserRuntime };\ndeclare const browser: { runtime?: BrowserRuntime };\nexport function isBrowserExtension(): boolean {\n  const runtime =\n    typeof chrome === 'object'\n      ? chrome.runtime\n      : typeof browser === 'object'\n      ? browser.runtime\n      : undefined;\n  return typeof runtime === 'object' && runtime.id !== undefined;\n}\n\n/**\n * Detect React Native.\n *\n * @return true if ReactNative environment is detected.\n */\nexport function isReactNative(): boolean {\n  return (\n    typeof navigator === 'object' && navigator['product'] === 'ReactNative'\n  );\n}\n\n/** Detects Electron apps. */\nexport function isElectron(): boolean {\n  return getUA().indexOf('Electron/') >= 0;\n}\n\n/** Detects Internet Explorer. */\nexport function isIE(): boolean {\n  const ua = getUA();\n  return ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0;\n}\n\n/** Detects Universal Windows Platform apps. */\nexport function isUWP(): boolean {\n  return getUA().indexOf('MSAppHost/') >= 0;\n}\n\n/**\n * Detect whether the current SDK build is the Node version.\n *\n * @return true if it's the Node SDK build.\n */\nexport function isNodeSdk(): boolean {\n  return CONSTANTS.NODE_CLIENT === true || CONSTANTS.NODE_ADMIN === true;\n}\n\n/** Returns true if we are running in Safari. */\nexport function isSafari(): boolean {\n  return (\n    !isNode() &&\n    !!navigator.userAgent &&\n    navigator.userAgent.includes('Safari') &&\n    !navigator.userAgent.includes('Chrome')\n  );\n}\n\n/**\n * This method checks if indexedDB is supported by current browser/service worker context\n * @return true if indexedDB is supported by current browser/service worker context\n */\nexport function isIndexedDBAvailable(): boolean {\n  try {\n    return typeof indexedDB === 'object';\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * This method validates browser/sw context for indexedDB by opening a dummy indexedDB database and reject\n * if errors occur during the database open operation.\n *\n * @throws exception if current browser/sw context can't run idb.open (ex: Safari iframe, Firefox\n * private browsing)\n */\nexport function validateIndexedDBOpenable(): Promise<boolean> {\n  return new Promise((resolve, reject) => {\n    try {\n      let preExist: boolean = true;\n      const DB_CHECK_NAME =\n        'validate-browser-context-for-indexeddb-analytics-module';\n      const request = self.indexedDB.open(DB_CHECK_NAME);\n      request.onsuccess = () => {\n        request.result.close();\n        // delete database only when it doesn't pre-exist\n        if (!preExist) {\n          self.indexedDB.deleteDatabase(DB_CHECK_NAME);\n        }\n        resolve(true);\n      };\n      request.onupgradeneeded = () => {\n        preExist = false;\n      };\n\n      request.onerror = () => {\n        reject(request.error?.message || '');\n      };\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\n\n/**\n *\n * This method checks whether cookie is enabled within current browser\n * @return true if cookie is enabled within current browser\n */\nexport function areCookiesEnabled(): boolean {\n  if (typeof navigator === 'undefined' || !navigator.cookieEnabled) {\n    return false;\n  }\n  return true;\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport type NextFn<T> = (value: T) => void;\nexport type ErrorFn = (error: Error) => void;\nexport type CompleteFn = () => void;\n\nexport interface Observer<T> {\n  // Called once for each value in a stream of values.\n  next: NextFn<T>;\n\n  // A stream terminates by a single call to EITHER error() or complete().\n  error: ErrorFn;\n\n  // No events will be sent to next() once complete() is called.\n  complete: CompleteFn;\n}\n\nexport type PartialObserver<T> = Partial<Observer<T>>;\n\n// TODO: Support also Unsubscribe.unsubscribe?\nexport type Unsubscribe = () => void;\n\n/**\n * The Subscribe interface has two forms - passing the inline function\n * callbacks, or a object interface with callback properties.\n */\nexport interface Subscribe<T> {\n  (next?: NextFn<T>, error?: ErrorFn, complete?: CompleteFn): Unsubscribe;\n  (observer: PartialObserver<T>): Unsubscribe;\n}\n\nexport interface Observable<T> {\n  // Subscribe method\n  subscribe: Subscribe<T>;\n}\n\nexport type Executor<T> = (observer: Observer<T>) => void;\n\n/**\n * Helper to make a Subscribe function (just like Promise helps make a\n * Thenable).\n *\n * @param executor Function which can make calls to a single Observer\n *     as a proxy.\n * @param onNoObservers Callback when count of Observers goes to zero.\n */\nexport function createSubscribe<T>(\n  executor: Executor<T>,\n  onNoObservers?: Executor<T>\n): Subscribe<T> {\n  const proxy = new ObserverProxy<T>(executor, onNoObservers);\n  return proxy.subscribe.bind(proxy);\n}\n\n/**\n * Implement fan-out for any number of Observers attached via a subscribe\n * function.\n */\nclass ObserverProxy<T> implements Observer<T> {\n  private observers: Array<Observer<T>> | undefined = [];\n  private unsubscribes: Unsubscribe[] = [];\n  private onNoObservers: Executor<T> | undefined;\n  private observerCount = 0;\n  // Micro-task scheduling by calling task.then().\n  private task = Promise.resolve();\n  private finalized = false;\n  private finalError?: Error;\n\n  /**\n   * @param executor Function which can make calls to a single Observer\n   *     as a proxy.\n   * @param onNoObservers Callback when count of Observers goes to zero.\n   */\n  constructor(executor: Executor<T>, onNoObservers?: Executor<T>) {\n    this.onNoObservers = onNoObservers;\n    // Call the executor asynchronously so subscribers that are called\n    // synchronously after the creation of the subscribe function\n    // can still receive the very first value generated in the executor.\n    this.task\n      .then(() => {\n        executor(this);\n      })\n      .catch(e => {\n        this.error(e);\n      });\n  }\n\n  next(value: T): void {\n    this.forEachObserver((observer: Observer<T>) => {\n      observer.next(value);\n    });\n  }\n\n  error(error: Error): void {\n    this.forEachObserver((observer: Observer<T>) => {\n      observer.error(error);\n    });\n    this.close(error);\n  }\n\n  complete(): void {\n    this.forEachObserver((observer: Observer<T>) => {\n      observer.complete();\n    });\n    this.close();\n  }\n\n  /**\n   * Subscribe function that can be used to add an Observer to the fan-out list.\n   *\n   * - We require that no event is sent to a subscriber sychronously to their\n   *   call to subscribe().\n   */\n  subscribe(\n    nextOrObserver?: NextFn<T> | PartialObserver<T>,\n    error?: ErrorFn,\n    complete?: CompleteFn\n  ): Unsubscribe {\n    let observer: Observer<T>;\n\n    if (\n      nextOrObserver === undefined &&\n      error === undefined &&\n      complete === undefined\n    ) {\n      throw new Error('Missing Observer.');\n    }\n\n    // Assemble an Observer object when passed as callback functions.\n    if (\n      implementsAnyMethods(nextOrObserver as { [key: string]: unknown }, [\n        'next',\n        'error',\n        'complete'\n      ])\n    ) {\n      observer = nextOrObserver as Observer<T>;\n    } else {\n      observer = {\n        next: nextOrObserver as NextFn<T>,\n        error,\n        complete\n      } as Observer<T>;\n    }\n\n    if (observer.next === undefined) {\n      observer.next = noop as NextFn<T>;\n    }\n    if (observer.error === undefined) {\n      observer.error = noop as ErrorFn;\n    }\n    if (observer.complete === undefined) {\n      observer.complete = noop as CompleteFn;\n    }\n\n    const unsub = this.unsubscribeOne.bind(this, this.observers!.length);\n\n    // Attempt to subscribe to a terminated Observable - we\n    // just respond to the Observer with the final error or complete\n    // event.\n    if (this.finalized) {\n      // eslint-disable-next-line @typescript-eslint/no-floating-promises\n      this.task.then(() => {\n        try {\n          if (this.finalError) {\n            observer.error(this.finalError);\n          } else {\n            observer.complete();\n          }\n        } catch (e) {\n          // nothing\n        }\n        return;\n      });\n    }\n\n    this.observers!.push(observer as Observer<T>);\n\n    return unsub;\n  }\n\n  // Unsubscribe is synchronous - we guarantee that no events are sent to\n  // any unsubscribed Observer.\n  private unsubscribeOne(i: number): void {\n    if (this.observers === undefined || this.observers[i] === undefined) {\n      return;\n    }\n\n    delete this.observers[i];\n\n    this.observerCount -= 1;\n    if (this.observerCount === 0 && this.onNoObservers !== undefined) {\n      this.onNoObservers(this);\n    }\n  }\n\n  private forEachObserver(fn: (observer: Observer<T>) => void): void {\n    if (this.finalized) {\n      // Already closed by previous event....just eat the additional values.\n      return;\n    }\n\n    // Since sendOne calls asynchronously - there is no chance that\n    // this.observers will become undefined.\n    for (let i = 0; i < this.observers!.length; i++) {\n      this.sendOne(i, fn);\n    }\n  }\n\n  // Call the Observer via one of it's callback function. We are careful to\n  // confirm that the observe has not been unsubscribed since this asynchronous\n  // function had been queued.\n  private sendOne(i: number, fn: (observer: Observer<T>) => void): void {\n    // Execute the callback asynchronously\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    this.task.then(() => {\n      if (this.observers !== undefined && this.observers[i] !== undefined) {\n        try {\n          fn(this.observers[i]);\n        } catch (e) {\n          // Ignore exceptions raised in Observers or missing methods of an\n          // Observer.\n          // Log error to console. b/31404806\n          if (typeof console !== 'undefined' && console.error) {\n            console.error(e);\n          }\n        }\n      }\n    });\n  }\n\n  private close(err?: Error): void {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    if (err !== undefined) {\n      this.finalError = err;\n    }\n    // Proxy is no longer needed - garbage collect references\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    this.task.then(() => {\n      this.observers = undefined;\n      this.onNoObservers = undefined;\n    });\n  }\n}\n\n/** Turn synchronous function into one called asynchronously. */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function async(fn: Function, onError?: ErrorFn): Function {\n  return (...args: unknown[]) => {\n    Promise.resolve(true)\n      .then(() => {\n        fn(...args);\n      })\n      .catch((error: Error) => {\n        if (onError) {\n          onError(error);\n        }\n      });\n  };\n}\n\n/**\n * Return true if the object passed in implements any of the named methods.\n */\nfunction implementsAnyMethods(\n  obj: { [key: string]: unknown },\n  methods: string[]\n): boolean {\n  if (typeof obj !== 'object' || obj === null) {\n    return false;\n  }\n\n  for (const method of methods) {\n    if (method in obj && typeof obj[method] === 'function') {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction noop(): void {\n  // do nothing\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * The amount of milliseconds to exponentially increase.\n */\nconst DEFAULT_INTERVAL_MILLIS = 1000;\n\n/**\n * The factor to backoff by.\n * Should be a number greater than 1.\n */\nconst DEFAULT_BACKOFF_FACTOR = 2;\n\n/**\n * The maximum milliseconds to increase to.\n *\n * <p>Visible for testing\n */\nexport const MAX_VALUE_MILLIS = 4 * 60 * 60 * 1000; // Four hours, like iOS and Android.\n\n/**\n * The percentage of backoff time to randomize by.\n * See\n * http://go/safe-client-behavior#step-1-determine-the-appropriate-retry-interval-to-handle-spike-traffic\n * for context.\n *\n * <p>Visible for testing\n */\nexport const RANDOM_FACTOR = 0.5;\n\n/**\n * Based on the backoff method from\n * https://github.com/google/closure-library/blob/master/closure/goog/math/exponentialbackoff.js.\n * Extracted here so we don't need to pass metadata and a stateful ExponentialBackoff object around.\n */\nexport function calculateBackoffMillis(\n  backoffCount: number,\n  intervalMillis: number = DEFAULT_INTERVAL_MILLIS,\n  backoffFactor: number = DEFAULT_BACKOFF_FACTOR\n): number {\n  // Calculates an exponentially increasing value.\n  // Deviation: calculates value from count and a constant interval, so we only need to save value\n  // and count to restore state.\n  const currBaseValue = intervalMillis * Math.pow(backoffFactor, backoffCount);\n\n  // A random \"fuzz\" to avoid waves of retries.\n  // Deviation: randomFactor is required.\n  const randomWait = Math.round(\n    // A fraction of the backoff value to add/subtract.\n    // Deviation: changes multiplication order to improve readability.\n    RANDOM_FACTOR *\n      currBaseValue *\n      // A random float (rounded to int by Math.round above) in the range [-1, 1]. Determines\n      // if we add or subtract.\n      (Math.random() - 0.5) *\n      2\n  );\n\n  // Limits backoff to max to avoid effectively permanent backoff.\n  return Math.min(MAX_VALUE_MILLIS, currBaseValue + randomWait);\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function contains<T extends object>(obj: T, key: string): boolean {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nexport function safeGet<T extends object, K extends keyof T>(\n  obj: T,\n  key: K\n): T[K] | undefined {\n  if (Object.prototype.hasOwnProperty.call(obj, key)) {\n    return obj[key];\n  } else {\n    return undefined;\n  }\n}\n\nexport function isEmpty(obj: object): obj is {} {\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function map<K extends string, V, U>(\n  obj: { [key in K]: V },\n  fn: (value: V, key: K, obj: { [key in K]: V }) => U,\n  contextObj?: unknown\n): { [key in K]: U } {\n  const res: Partial<{ [key in K]: U }> = {};\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      res[key] = fn.call(contextObj, obj[key], key, obj);\n    }\n  }\n  return res as { [key in K]: U };\n}\n\n/**\n * Deep equal two objects. Support Arrays and Objects.\n */\nexport function deepEqual(a: object, b: object): boolean {\n  if (a === b) {\n    return true;\n  }\n\n  const aKeys = Object.keys(a);\n  const bKeys = Object.keys(b);\n  for (const k of aKeys) {\n    if (!bKeys.includes(k)) {\n      return false;\n    }\n\n    const aProp = (a as Record<string, unknown>)[k];\n    const bProp = (b as Record<string, unknown>)[k];\n    if (isObject(aProp) && isObject(bProp)) {\n      if (!deepEqual(aProp, bProp)) {\n        return false;\n      }\n    } else if (aProp !== bProp) {\n      return false;\n    }\n  }\n\n  for (const k of bKeys) {\n    if (!aKeys.includes(k)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction isObject(thing: unknown): thing is object {\n  return thing !== null && typeof thing === 'object';\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { base64urlEncodeWithoutPadding } from './crypt';\n\n// Firebase Auth tokens contain snake_case claims following the JWT standard / convention.\n/* eslint-disable camelcase */\n\nexport type FirebaseSignInProvider =\n  | 'custom'\n  | 'email'\n  | 'password'\n  | 'phone'\n  | 'anonymous'\n  | 'google.com'\n  | 'facebook.com'\n  | 'github.com'\n  | 'twitter.com'\n  | 'microsoft.com'\n  | 'apple.com';\n\ninterface FirebaseIdToken {\n  // Always set to https://securetoken.google.com/PROJECT_ID\n  iss: string;\n\n  // Always set to PROJECT_ID\n  aud: string;\n\n  // The user's unique ID\n  sub: string;\n\n  // The token issue time, in seconds since epoch\n  iat: number;\n\n  // The token expiry time, normally 'iat' + 3600\n  exp: number;\n\n  // The user's unique ID. Must be equal to 'sub'\n  user_id: string;\n\n  // The time the user authenticated, normally 'iat'\n  auth_time: number;\n\n  // The sign in provider, only set when the provider is 'anonymous'\n  provider_id?: 'anonymous';\n\n  // The user's primary email\n  email?: string;\n\n  // The user's email verification status\n  email_verified?: boolean;\n\n  // The user's primary phone number\n  phone_number?: string;\n\n  // The user's display name\n  name?: string;\n\n  // The user's profile photo URL\n  picture?: string;\n\n  // Information on all identities linked to this user\n  firebase: {\n    // The primary sign-in provider\n    sign_in_provider: FirebaseSignInProvider;\n\n    // A map of providers to the user's list of unique identifiers from\n    // each provider\n    identities?: { [provider in FirebaseSignInProvider]?: string[] };\n  };\n\n  // Custom claims set by the developer\n  [claim: string]: unknown;\n\n  uid?: never; // Try to catch a common mistake of \"uid\" (should be \"sub\" instead).\n}\n\nexport type EmulatorMockTokenOptions = ({ user_id: string } | { sub: string }) &\n  Partial<FirebaseIdToken>;\n\nexport function createMockUserToken(\n  token: EmulatorMockTokenOptions,\n  projectId?: string\n): string {\n  if (token.uid) {\n    throw new Error(\n      'The \"uid\" field is no longer supported by mockUserToken. Please use \"sub\" instead for Firebase Auth User ID.'\n    );\n  }\n  // Unsecured JWTs use \"none\" as the algorithm.\n  const header = {\n    alg: 'none',\n    type: 'JWT'\n  };\n\n  const project = projectId || 'demo-project';\n  const iat = token.iat || 0;\n  const sub = token.sub || token.user_id;\n  if (!sub) {\n    throw new Error(\"mockUserToken must contain 'sub' or 'user_id' field!\");\n  }\n\n  const payload: FirebaseIdToken = {\n    // Set all required fields to decent defaults\n    iss: `https://securetoken.google.com/${project}`,\n    aud: project,\n    iat,\n    exp: iat + 3600,\n    auth_time: iat,\n    sub,\n    user_id: sub,\n    firebase: {\n      sign_in_provider: 'custom',\n      identities: {}\n    },\n\n    // Override with user options\n    ...token\n  };\n\n  // Unsecured JWTs use the empty string as a signature.\n  const signature = '';\n  return [\n    base64urlEncodeWithoutPadding(JSON.stringify(header)),\n    base64urlEncodeWithoutPadding(JSON.stringify(payload)),\n    signature\n  ].join('.');\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Do a deep-copy of basic JavaScript Objects or Arrays.\n */\nexport function deepCopy<T>(value: T): T {\n  return deepExtend(undefined, value) as T;\n}\n\n/**\n * Copy properties from source to target (recursively allows extension\n * of Objects and Arrays).  Scalar values in the target are over-written.\n * If target is undefined, an object of the appropriate type will be created\n * (and returned).\n *\n * We recursively copy all child properties of plain Objects in the source- so\n * that namespace- like dictionaries are merged.\n *\n * Note that the target can be a function, in which case the properties in\n * the source Object are copied onto it as static properties of the Function.\n *\n * Note: we don't merge __proto__ to prevent prototype pollution\n */\nexport function deepExtend(target: unknown, source: unknown): unknown {\n  if (!(source instanceof Object)) {\n    return source;\n  }\n\n  switch (source.constructor) {\n    case Date:\n      // Treat Dates like scalars; if the target date object had any child\n      // properties - they will be lost!\n      const dateValue = source as Date;\n      return new Date(dateValue.getTime());\n\n    case Object:\n      if (target === undefined) {\n        target = {};\n      }\n      break;\n    case Array:\n      // Always copy the array source and overwrite the target.\n      target = [];\n      break;\n\n    default:\n      // Not a plain Object - treat it as a scalar.\n      return source;\n  }\n\n  for (const prop in source) {\n    // use isValidKey to guard against prototype pollution. See https://snyk.io/vuln/SNYK-JS-LODASH-450202\n    if (!source.hasOwnProperty(prop) || !isValidKey(prop)) {\n      continue;\n    }\n    (target as Record<string, unknown>)[prop] = deepExtend(\n      (target as Record<string, unknown>)[prop],\n      (source as Record<string, unknown>)[prop]\n    );\n  }\n\n  return target;\n}\n\nfunction isValidKey(key: string): boolean {\n  return key !== '__proto__';\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Returns a querystring-formatted string (e.g. &arg=val&arg2=val2) from a\n * params object (e.g. {arg: 'val', arg2: 'val2'})\n * Note: You must prepend it with ? when adding it to a URL.\n */\nexport function querystring(querystringParams: {\n  [key: string]: string | number;\n}): string {\n  const params = [];\n  for (const [key, value] of Object.entries(querystringParams)) {\n    if (Array.isArray(value)) {\n      value.forEach(arrayVal => {\n        params.push(\n          encodeURIComponent(key) + '=' + encodeURIComponent(arrayVal)\n        );\n      });\n    } else {\n      params.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n    }\n  }\n  return params.length ? '&' + params.join('&') : '';\n}\n\n/**\n * Decodes a querystring (e.g. ?arg=val&arg2=val2) into a params object\n * (e.g. {arg: 'val', arg2: 'val2'})\n */\nexport function querystringDecode(querystring: string): Record<string, string> {\n  const obj: Record<string, string> = {};\n  const tokens = querystring.replace(/^\\?/, '').split('&');\n\n  tokens.forEach(token => {\n    if (token) {\n      const [key, value] = token.split('=');\n      obj[decodeURIComponent(key)] = decodeURIComponent(value);\n    }\n  });\n  return obj;\n}\n\n/**\n * Extract the query string part of a URL, including the leading question mark (if present).\n */\nexport function extractQuerystring(url: string): string {\n  const queryStart = url.indexOf('?');\n  if (!queryStart) {\n    return '';\n  }\n  const fragmentStart = url.indexOf('#', queryStart);\n  return url.substring(\n    queryStart,\n    fragmentStart > 0 ? fragmentStart : undefined\n  );\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport interface Compat<T> {\n  _delegate: T;\n}\n\nexport function getModularInstance<ExpService>(\n  service: Compat<ExpService> | ExpService\n): ExpService {\n  if (service && (service as Compat<ExpService>)._delegate) {\n    return (service as Compat<ExpService>)._delegate;\n  } else {\n    return service as ExpService;\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Provide English ordinal letters after a number\n */\nexport function ordinal(i: number): string {\n  if (!Number.isFinite(i)) {\n    return `${i}`;\n  }\n  return i + indicator(i);\n}\n\nfunction indicator(i: number): string {\n  i = Math.abs(i);\n  const cent = i % 100;\n  if (cent >= 10 && cent <= 20) {\n    return 'th';\n  }\n  const dec = i % 10;\n  if (dec === 1) {\n    return 'st';\n  }\n  if (dec === 2) {\n    return 'nd';\n  }\n  if (dec === 3) {\n    return 'rd';\n  }\n  return 'th';\n}\n","/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Deferred } from './deferred';\n\n/**\n * Rejects if the given promise doesn't resolve in timeInMS milliseconds.\n * @internal\n */\nexport function promiseWithTimeout<T>(\n  promise: Promise<T>,\n  timeInMS = 2000\n): Promise<T> {\n  const deferredPromise = new Deferred<T>();\n  setTimeout(() => deferredPromise.reject('timeout!'), timeInMS);\n  promise.then(deferredPromise.resolve, deferredPromise.reject);\n  return deferredPromise.promise;\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Evaluates a JSON string into a javascript object.\n *\n * @param {string} str A string containing JSON.\n * @return {*} The javascript object representing the specified JSON.\n */\nexport function jsonEval(str: string): unknown {\n  return JSON.parse(str);\n}\n\n/**\n * Returns JSON representing a javascript object.\n * @param {*} data Javascript object to be stringified.\n * @return {string} The JSON contents of the object.\n */\nexport function stringify(data: unknown): string {\n  return JSON.stringify(data);\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Check to make sure the appropriate number of arguments are provided for a public function.\n * Throws an error if it fails.\n *\n * @param fnName The function name\n * @param minCount The minimum number of arguments to allow for the function call\n * @param maxCount The maximum number of argument to allow for the function call\n * @param argCount The actual number of arguments provided.\n */\nexport const validateArgCount = function (\n  fnName: string,\n  minCount: number,\n  maxCount: number,\n  argCount: number\n): void {\n  let argError;\n  if (argCount < minCount) {\n    argError = 'at least ' + minCount;\n  } else if (argCount > maxCount) {\n    argError = maxCount === 0 ? 'none' : 'no more than ' + maxCount;\n  }\n  if (argError) {\n    const error =\n      fnName +\n      ' failed: Was called with ' +\n      argCount +\n      (argCount === 1 ? ' argument.' : ' arguments.') +\n      ' Expects ' +\n      argError +\n      '.';\n    throw new Error(error);\n  }\n};\n\n/**\n * Generates a string to prefix an error message about failed argument validation\n *\n * @param fnName The function name\n * @param argName The name of the argument\n * @return The prefix to add to the error thrown for validation.\n */\nexport function errorPrefix(fnName: string, argName: string): string {\n  return `${fnName} failed: ${argName} argument `;\n}\n\n/**\n * @param fnName\n * @param argumentNumber\n * @param namespace\n * @param optional\n */\nexport function validateNamespace(\n  fnName: string,\n  namespace: string,\n  optional: boolean\n): void {\n  if (optional && !namespace) {\n    return;\n  }\n  if (typeof namespace !== 'string') {\n    //TODO: I should do more validation here. We only allow certain chars in namespaces.\n    throw new Error(\n      errorPrefix(fnName, 'namespace') + 'must be a valid firebase namespace.'\n    );\n  }\n}\n\nexport function validateCallback(\n  fnName: string,\n  argumentName: string,\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  callback: Function,\n  optional: boolean\n): void {\n  if (optional && !callback) {\n    return;\n  }\n  if (typeof callback !== 'function') {\n    throw new Error(\n      errorPrefix(fnName, argumentName) + 'must be a valid function.'\n    );\n  }\n}\n\nexport function validateContextObject(\n  fnName: string,\n  argumentName: string,\n  context: unknown,\n  optional: boolean\n): void {\n  if (optional && !context) {\n    return;\n  }\n  if (typeof context !== 'object' || context === null) {\n    throw new Error(\n      errorPrefix(fnName, argumentName) + 'must be a valid context object.'\n    );\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Firebase constants.  Some of these (@defines) can be overridden at compile-time.\n */\n\nexport const CONSTANTS = {\n  /**\n   * @define {boolean} Whether this is the client Node.js SDK.\n   */\n  NODE_CLIENT: false,\n  /**\n   * @define {boolean} Whether this is the Admin Node.js SDK.\n   */\n  NODE_ADMIN: false,\n\n  /**\n   * Firebase SDK Version\n   */\n  SDK_VERSION: '${JSCORE_VERSION}'\n};\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CONSTANTS } from './constants';\n\n/**\n * Throws an error if the provided assertion is falsy\n */\nexport const assert = function (assertion: unknown, message: string): void {\n  if (!assertion) {\n    throw assertionError(message);\n  }\n};\n\n/**\n * Returns an Error object suitable for throwing.\n */\nexport const assertionError = function (message: string): Error {\n  return new Error(\n    'Firebase Database (' +\n      CONSTANTS.SDK_VERSION +\n      ') INTERNAL ASSERT FAILED: ' +\n      message\n  );\n};\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst stringToByteArray = function (str: string): number[] {\n  // TODO(user): Use native implementations if/when available\n  const out: number[] = [];\n  let p = 0;\n  for (let i = 0; i < str.length; i++) {\n    let c = str.charCodeAt(i);\n    if (c < 128) {\n      out[p++] = c;\n    } else if (c < 2048) {\n      out[p++] = (c >> 6) | 192;\n      out[p++] = (c & 63) | 128;\n    } else if (\n      (c & 0xfc00) === 0xd800 &&\n      i + 1 < str.length &&\n      (str.charCodeAt(i + 1) & 0xfc00) === 0xdc00\n    ) {\n      // Surrogate Pair\n      c = 0x10000 + ((c & 0x03ff) << 10) + (str.charCodeAt(++i) & 0x03ff);\n      out[p++] = (c >> 18) | 240;\n      out[p++] = ((c >> 12) & 63) | 128;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    } else {\n      out[p++] = (c >> 12) | 224;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    }\n  }\n  return out;\n};\n\n/**\n * Turns an array of numbers into the string given by the concatenation of the\n * characters to which the numbers correspond.\n * @param bytes Array of numbers representing characters.\n * @return Stringification of the array.\n */\nconst byteArrayToString = function (bytes: number[]): string {\n  // TODO(user): Use native implementations if/when available\n  const out: string[] = [];\n  let pos = 0,\n    c = 0;\n  while (pos < bytes.length) {\n    const c1 = bytes[pos++];\n    if (c1 < 128) {\n      out[c++] = String.fromCharCode(c1);\n    } else if (c1 > 191 && c1 < 224) {\n      const c2 = bytes[pos++];\n      out[c++] = String.fromCharCode(((c1 & 31) << 6) | (c2 & 63));\n    } else if (c1 > 239 && c1 < 365) {\n      // Surrogate Pair\n      const c2 = bytes[pos++];\n      const c3 = bytes[pos++];\n      const c4 = bytes[pos++];\n      const u =\n        (((c1 & 7) << 18) | ((c2 & 63) << 12) | ((c3 & 63) << 6) | (c4 & 63)) -\n        0x10000;\n      out[c++] = String.fromCharCode(0xd800 + (u >> 10));\n      out[c++] = String.fromCharCode(0xdc00 + (u & 1023));\n    } else {\n      const c2 = bytes[pos++];\n      const c3 = bytes[pos++];\n      out[c++] = String.fromCharCode(\n        ((c1 & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63)\n      );\n    }\n  }\n  return out.join('');\n};\n\ninterface Base64 {\n  byteToCharMap_: { [key: number]: string } | null;\n  charToByteMap_: { [key: string]: number } | null;\n  byteToCharMapWebSafe_: { [key: number]: string } | null;\n  charToByteMapWebSafe_: { [key: string]: number } | null;\n  ENCODED_VALS_BASE: string;\n  readonly ENCODED_VALS: string;\n  readonly ENCODED_VALS_WEBSAFE: string;\n  HAS_NATIVE_SUPPORT: boolean;\n  encodeByteArray(input: number[] | Uint8Array, webSafe?: boolean): string;\n  encodeString(input: string, webSafe?: boolean): string;\n  decodeString(input: string, webSafe: boolean): string;\n  decodeStringToByteArray(input: string, webSafe: boolean): number[];\n  init_(): void;\n}\n\n// We define it as an object literal instead of a class because a class compiled down to es5 can't\n// be treeshaked. https://github.com/rollup/rollup/issues/1691\n// Static lookup maps, lazily populated by init_()\nexport const base64: Base64 = {\n  /**\n   * Maps bytes to characters.\n   */\n  byteToCharMap_: null,\n\n  /**\n   * Maps characters to bytes.\n   */\n  charToByteMap_: null,\n\n  /**\n   * Maps bytes to websafe characters.\n   * @private\n   */\n  byteToCharMapWebSafe_: null,\n\n  /**\n   * Maps websafe characters to bytes.\n   * @private\n   */\n  charToByteMapWebSafe_: null,\n\n  /**\n   * Our default alphabet, shared between\n   * ENCODED_VALS and ENCODED_VALS_WEBSAFE\n   */\n  ENCODED_VALS_BASE:\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz' + '0123456789',\n\n  /**\n   * Our default alphabet. Value 64 (=) is special; it means \"nothing.\"\n   */\n  get ENCODED_VALS() {\n    return this.ENCODED_VALS_BASE + '+/=';\n  },\n\n  /**\n   * Our websafe alphabet.\n   */\n  get ENCODED_VALS_WEBSAFE() {\n    return this.ENCODED_VALS_BASE + '-_.';\n  },\n\n  /**\n   * Whether this browser supports the atob and btoa functions. This extension\n   * started at Mozilla but is now implemented by many browsers. We use the\n   * ASSUME_* variables to avoid pulling in the full useragent detection library\n   * but still allowing the standard per-browser compilations.\n   *\n   */\n  HAS_NATIVE_SUPPORT: typeof atob === 'function',\n\n  /**\n   * Base64-encode an array of bytes.\n   *\n   * @param input An array of bytes (numbers with\n   *     value in [0, 255]) to encode.\n   * @param webSafe Boolean indicating we should use the\n   *     alternative alphabet.\n   * @return The base64 encoded string.\n   */\n  encodeByteArray(input: number[] | Uint8Array, webSafe?: boolean): string {\n    if (!Array.isArray(input)) {\n      throw Error('encodeByteArray takes an array as a parameter');\n    }\n\n    this.init_();\n\n    const byteToCharMap = webSafe\n      ? this.byteToCharMapWebSafe_!\n      : this.byteToCharMap_!;\n\n    const output = [];\n\n    for (let i = 0; i < input.length; i += 3) {\n      const byte1 = input[i];\n      const haveByte2 = i + 1 < input.length;\n      const byte2 = haveByte2 ? input[i + 1] : 0;\n      const haveByte3 = i + 2 < input.length;\n      const byte3 = haveByte3 ? input[i + 2] : 0;\n\n      const outByte1 = byte1 >> 2;\n      const outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4);\n      let outByte3 = ((byte2 & 0x0f) << 2) | (byte3 >> 6);\n      let outByte4 = byte3 & 0x3f;\n\n      if (!haveByte3) {\n        outByte4 = 64;\n\n        if (!haveByte2) {\n          outByte3 = 64;\n        }\n      }\n\n      output.push(\n        byteToCharMap[outByte1],\n        byteToCharMap[outByte2],\n        byteToCharMap[outByte3],\n        byteToCharMap[outByte4]\n      );\n    }\n\n    return output.join('');\n  },\n\n  /**\n   * Base64-encode a string.\n   *\n   * @param input A string to encode.\n   * @param webSafe If true, we should use the\n   *     alternative alphabet.\n   * @return The base64 encoded string.\n   */\n  encodeString(input: string, webSafe?: boolean): string {\n    // Shortcut for Mozilla browsers that implement\n    // a native base64 encoder in the form of \"btoa/atob\"\n    if (this.HAS_NATIVE_SUPPORT && !webSafe) {\n      return btoa(input);\n    }\n    return this.encodeByteArray(stringToByteArray(input), webSafe);\n  },\n\n  /**\n   * Base64-decode a string.\n   *\n   * @param input to decode.\n   * @param webSafe True if we should use the\n   *     alternative alphabet.\n   * @return string representing the decoded value.\n   */\n  decodeString(input: string, webSafe: boolean): string {\n    // Shortcut for Mozilla browsers that implement\n    // a native base64 encoder in the form of \"btoa/atob\"\n    if (this.HAS_NATIVE_SUPPORT && !webSafe) {\n      return atob(input);\n    }\n    return byteArrayToString(this.decodeStringToByteArray(input, webSafe));\n  },\n\n  /**\n   * Base64-decode a string.\n   *\n   * In base-64 decoding, groups of four characters are converted into three\n   * bytes.  If the encoder did not apply padding, the input length may not\n   * be a multiple of 4.\n   *\n   * In this case, the last group will have fewer than 4 characters, and\n   * padding will be inferred.  If the group has one or two characters, it decodes\n   * to one byte.  If the group has three characters, it decodes to two bytes.\n   *\n   * @param input Input to decode.\n   * @param webSafe True if we should use the web-safe alphabet.\n   * @return bytes representing the decoded value.\n   */\n  decodeStringToByteArray(input: string, webSafe: boolean): number[] {\n    this.init_();\n\n    const charToByteMap = webSafe\n      ? this.charToByteMapWebSafe_!\n      : this.charToByteMap_!;\n\n    const output: number[] = [];\n\n    for (let i = 0; i < input.length; ) {\n      const byte1 = charToByteMap[input.charAt(i++)];\n\n      const haveByte2 = i < input.length;\n      const byte2 = haveByte2 ? charToByteMap[input.charAt(i)] : 0;\n      ++i;\n\n      const haveByte3 = i < input.length;\n      const byte3 = haveByte3 ? charToByteMap[input.charAt(i)] : 64;\n      ++i;\n\n      const haveByte4 = i < input.length;\n      const byte4 = haveByte4 ? charToByteMap[input.charAt(i)] : 64;\n      ++i;\n\n      if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {\n        throw new DecodeBase64StringError();\n      }\n\n      const outByte1 = (byte1 << 2) | (byte2 >> 4);\n      output.push(outByte1);\n\n      if (byte3 !== 64) {\n        const outByte2 = ((byte2 << 4) & 0xf0) | (byte3 >> 2);\n        output.push(outByte2);\n\n        if (byte4 !== 64) {\n          const outByte3 = ((byte3 << 6) & 0xc0) | byte4;\n          output.push(outByte3);\n        }\n      }\n    }\n\n    return output;\n  },\n\n  /**\n   * Lazy static initialization function. Called before\n   * accessing any of the static map variables.\n   * @private\n   */\n  init_() {\n    if (!this.byteToCharMap_) {\n      this.byteToCharMap_ = {};\n      this.charToByteMap_ = {};\n      this.byteToCharMapWebSafe_ = {};\n      this.charToByteMapWebSafe_ = {};\n\n      // We want quick mappings back and forth, so we precompute two maps.\n      for (let i = 0; i < this.ENCODED_VALS.length; i++) {\n        this.byteToCharMap_[i] = this.ENCODED_VALS.charAt(i);\n        this.charToByteMap_[this.byteToCharMap_[i]] = i;\n        this.byteToCharMapWebSafe_[i] = this.ENCODED_VALS_WEBSAFE.charAt(i);\n        this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]] = i;\n\n        // Be forgiving when decoding and correctly decode both encodings.\n        if (i >= this.ENCODED_VALS_BASE.length) {\n          this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)] = i;\n          this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)] = i;\n        }\n      }\n    }\n  }\n};\n\n/**\n * An error encountered while decoding base64 string.\n */\nexport class DecodeBase64StringError extends Error {\n  readonly name = 'DecodeBase64StringError';\n}\n\n/**\n * URL-safe base64 encoding\n */\nexport const base64Encode = function (str: string): string {\n  const utf8Bytes = stringToByteArray(str);\n  return base64.encodeByteArray(utf8Bytes, true);\n};\n\n/**\n * URL-safe base64 encoding (without \".\" padding in the end).\n * e.g. Used in JSON Web Token (JWT) parts.\n */\nexport const base64urlEncodeWithoutPadding = function (str: string): string {\n  // Use base64url encoding and remove padding in the end (dot characters).\n  return base64Encode(str).replace(/\\./g, '');\n};\n\n/**\n * URL-safe base64 decoding\n *\n * NOTE: DO NOT use the global atob() function - it does NOT support the\n * base64Url variant encoding.\n *\n * @param str To be decoded\n * @return Decoded result, if possible\n */\nexport const base64Decode = function (str: string): string | null {\n  try {\n    return base64.decodeString(str, true);\n  } catch (e) {\n    console.error('base64Decode failed: ', e);\n  }\n  return null;\n};\n","/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Polyfill for `globalThis` object.\n * @returns the `globalThis` object for the given environment.\n * @public\n */\nexport function getGlobal(): typeof globalThis {\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('Unable to locate global object.');\n}\n","/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { base64Decode } from './crypt';\nimport { getGlobal } from './global';\n\n/**\n * Keys for experimental properties on the `FirebaseDefaults` object.\n * @public\n */\nexport type ExperimentalKey = 'authTokenSyncURL' | 'authIdTokenMaxAge';\n\n/**\n * An object that can be injected into the environment as __FIREBASE_DEFAULTS__,\n * either as a property of globalThis, a shell environment variable, or a\n * cookie.\n *\n * This object can be used to automatically configure and initialize\n * a Firebase app as well as any emulators.\n *\n * @public\n */\nexport interface FirebaseDefaults {\n  config?: Record<string, string>;\n  emulatorHosts?: Record<string, string>;\n  _authTokenSyncURL?: string;\n  _authIdTokenMaxAge?: number;\n  /**\n   * Override Firebase's runtime environment detection and\n   * force the SDK to act as if it were in the specified environment.\n   */\n  forceEnvironment?: 'browser' | 'node';\n  [key: string]: unknown;\n}\n\ndeclare global {\n  // Need `var` for this to work.\n  // eslint-disable-next-line no-var\n  var __FIREBASE_DEFAULTS__: FirebaseDefaults | undefined;\n}\n\nconst getDefaultsFromGlobal = (): FirebaseDefaults | undefined =>\n  getGlobal().__FIREBASE_DEFAULTS__;\n\n/**\n * Attempt to read defaults from a JSON string provided to\n * process(.)env(.)__FIREBASE_DEFAULTS__ or a JSON file whose path is in\n * process(.)env(.)__FIREBASE_DEFAULTS_PATH__\n * The dots are in parens because certain compilers (Vite?) cannot\n * handle seeing that variable in comments.\n * See https://github.com/firebase/firebase-js-sdk/issues/6838\n */\nconst getDefaultsFromEnvVariable = (): FirebaseDefaults | undefined => {\n  if (typeof process === 'undefined' || typeof process.env === 'undefined') {\n    return;\n  }\n  const defaultsJsonString = process.env.__FIREBASE_DEFAULTS__;\n  if (defaultsJsonString) {\n    return JSON.parse(defaultsJsonString);\n  }\n};\n\nconst getDefaultsFromCookie = (): FirebaseDefaults | undefined => {\n  if (typeof document === 'undefined') {\n    return;\n  }\n  let match;\n  try {\n    match = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/);\n  } catch (e) {\n    // Some environments such as Angular Universal SSR have a\n    // `document` object but error on accessing `document.cookie`.\n    return;\n  }\n  const decoded = match && base64Decode(match[1]);\n  return decoded && JSON.parse(decoded);\n};\n\n/**\n * Get the __FIREBASE_DEFAULTS__ object. It checks in order:\n * (1) if such an object exists as a property of `globalThis`\n * (2) if such an object was provided on a shell environment variable\n * (3) if such an object exists in a cookie\n * @public\n */\nexport const getDefaults = (): FirebaseDefaults | undefined => {\n  try {\n    return (\n      getDefaultsFromGlobal() ||\n      getDefaultsFromEnvVariable() ||\n      getDefaultsFromCookie()\n    );\n  } catch (e) {\n    /**\n     * Catch-all for being unable to get __FIREBASE_DEFAULTS__ due\n     * to any environment case we have not accounted for. Log to\n     * info instead of swallowing so we can find these unknown cases\n     * and add paths for them if needed.\n     */\n    console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);\n    return;\n  }\n};\n\n/**\n * Returns emulator host stored in the __FIREBASE_DEFAULTS__ object\n * for the given product.\n * @returns a URL host formatted like `127.0.0.1:9999` or `[::1]:4000` if available\n * @public\n */\nexport const getDefaultEmulatorHost = (\n  productName: string\n): string | undefined => getDefaults()?.emulatorHosts?.[productName];\n\n/**\n * Returns emulator hostname and port stored in the __FIREBASE_DEFAULTS__ object\n * for the given product.\n * @returns a pair of hostname and port like `[\"::1\", 4000]` if available\n * @public\n */\nexport const getDefaultEmulatorHostnameAndPort = (\n  productName: string\n): [hostname: string, port: number] | undefined => {\n  const host = getDefaultEmulatorHost(productName);\n  if (!host) {\n    return undefined;\n  }\n  const separatorIndex = host.lastIndexOf(':'); // Finding the last since IPv6 addr also has colons.\n  if (separatorIndex <= 0 || separatorIndex + 1 === host.length) {\n    throw new Error(`Invalid host ${host} with no separate hostname and port!`);\n  }\n  // eslint-disable-next-line no-restricted-globals\n  const port = parseInt(host.substring(separatorIndex + 1), 10);\n  if (host[0] === '[') {\n    // Bracket-quoted `[ipv6addr]:port` => return \"ipv6addr\" (without brackets).\n    return [host.substring(1, separatorIndex - 1), port];\n  } else {\n    return [host.substring(0, separatorIndex), port];\n  }\n};\n\n/**\n * Returns Firebase app config stored in the __FIREBASE_DEFAULTS__ object.\n * @public\n */\nexport const getDefaultAppConfig = (): Record<string, string> | undefined =>\n  getDefaults()?.config;\n\n/**\n * Returns an experimental setting on the __FIREBASE_DEFAULTS__ object (properties\n * prefixed by \"_\")\n * @public\n */\nexport const getExperimentalSetting = <T extends ExperimentalKey>(\n  name: T\n): FirebaseDefaults[`_${T}`] =>\n  getDefaults()?.[`_${name}`] as FirebaseDefaults[`_${T}`];\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class Deferred<R> {\n  promise: Promise<R>;\n  reject: (value?: unknown) => void = () => {};\n  resolve: (value?: unknown) => void = () => {};\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve as (value?: unknown) => void;\n      this.reject = reject as (value?: unknown) => void;\n    });\n  }\n\n  /**\n   * Our API internals are not promiseified and cannot because our callback APIs have subtle expectations around\n   * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback\n   * and returns a node-style callback which will resolve or reject the Deferred's promise.\n   */\n  wrapCallback(\n    callback?: (error?: unknown, value?: unknown) => void\n  ): (error: unknown, value?: unknown) => void {\n    return (error, value?) => {\n      if (error) {\n        this.reject(error);\n      } else {\n        this.resolve(value);\n      }\n      if (typeof callback === 'function') {\n        // Attaching noop handler just in case developer wasn't expecting\n        // promises\n        this.promise.catch(() => {});\n\n        // Some of our callbacks don't expect a value and our own tests\n        // assert that the parameter length is 1\n        if (callback.length === 1) {\n          callback(error);\n        } else {\n          callback(error, value);\n        }\n      }\n    };\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @fileoverview Standardized Firebase Error.\n *\n * Usage:\n *\n *   // Typescript string literals for type-safe codes\n *   type Err =\n *     'unknown' |\n *     'object-not-found'\n *     ;\n *\n *   // Closure enum for type-safe error codes\n *   // at-enum {string}\n *   var Err = {\n *     UNKNOWN: 'unknown',\n *     OBJECT_NOT_FOUND: 'object-not-found',\n *   }\n *\n *   let errors: Map<Err, string> = {\n *     'generic-error': \"Unknown error\",\n *     'file-not-found': \"Could not find file: {$file}\",\n *   };\n *\n *   // Type-safe function - must pass a valid error code as param.\n *   let error = new ErrorFactory<Err>('service', 'Service', errors);\n *\n *   ...\n *   throw error.create(Err.GENERIC);\n *   ...\n *   throw error.create(Err.FILE_NOT_FOUND, {'file': fileName});\n *   ...\n *   // Service: Could not file file: foo.txt (service/file-not-found).\n *\n *   catch (e) {\n *     assert(e.message === \"Could not find file: foo.txt.\");\n *     if ((e as FirebaseError)?.code === 'service/file-not-found') {\n *       console.log(\"Could not read file: \" + e['file']);\n *     }\n *   }\n */\n\nexport type ErrorMap<ErrorCode extends string> = {\n  readonly [K in ErrorCode]: string;\n};\n\nconst ERROR_NAME = 'FirebaseError';\n\nexport interface StringLike {\n  toString(): string;\n}\n\nexport interface ErrorData {\n  [key: string]: unknown;\n}\n\n// Based on code from:\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Custom_Error_Types\nexport class FirebaseError extends Error {\n  /** The custom name for all FirebaseErrors. */\n  readonly name: string = ERROR_NAME;\n\n  constructor(\n    /** The error code for this error. */\n    readonly code: string,\n    message: string,\n    /** Custom data for this error. */\n    public customData?: Record<string, unknown>\n  ) {\n    super(message);\n\n    // Fix For ES5\n    // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, FirebaseError.prototype);\n\n    // Maintains proper stack trace for where our error was thrown.\n    // Only available on V8.\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ErrorFactory.prototype.create);\n    }\n  }\n}\n\nexport class ErrorFactory<\n  ErrorCode extends string,\n  ErrorParams extends { readonly [K in ErrorCode]?: ErrorData } = {}\n> {\n  constructor(\n    private readonly service: string,\n    private readonly serviceName: string,\n    private readonly errors: ErrorMap<ErrorCode>\n  ) {}\n\n  create<K extends ErrorCode>(\n    code: K,\n    ...data: K extends keyof ErrorParams ? [ErrorParams[K]] : []\n  ): FirebaseError {\n    const customData = (data[0] as ErrorData) || {};\n    const fullCode = `${this.service}/${code}`;\n    const template = this.errors[code];\n\n    const message = template ? replaceTemplate(template, customData) : 'Error';\n    // Service Name: Error message (service/code).\n    const fullMessage = `${this.serviceName}: ${message} (${fullCode}).`;\n\n    const error = new FirebaseError(fullCode, fullMessage, customData);\n\n    return error;\n  }\n}\n\nfunction replaceTemplate(template: string, data: ErrorData): string {\n  return template.replace(PATTERN, (_, key) => {\n    const value = data[key];\n    return value != null ? String(value) : `<${key}?>`;\n  });\n}\n\nconst PATTERN = /\\{\\$([^}]+)}/g;\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { base64Decode } from './crypt';\nimport { jsonEval } from './json';\n\ninterface Claims {\n  [key: string]: {};\n}\n\ninterface DecodedToken {\n  header: object;\n  claims: Claims;\n  data: object;\n  signature: string;\n}\n\n/**\n * Decodes a Firebase auth. token into constituent parts.\n *\n * Notes:\n * - May return with invalid / incomplete claims if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const decode = function (token: string): DecodedToken {\n  let header = {},\n    claims: Claims = {},\n    data = {},\n    signature = '';\n\n  try {\n    const parts = token.split('.');\n    header = jsonEval(base64Decode(parts[0]) || '') as object;\n    claims = jsonEval(base64Decode(parts[1]) || '') as Claims;\n    signature = parts[2];\n    data = claims['d'] || {};\n    delete claims['d'];\n  } catch (e) {}\n\n  return {\n    header,\n    claims,\n    data,\n    signature\n  };\n};\n\ninterface DecodedToken {\n  header: object;\n  claims: Claims;\n  data: object;\n  signature: string;\n}\n\n/**\n * Decodes a Firebase auth. token and checks the validity of its time-based claims. Will return true if the\n * token is within the time window authorized by the 'nbf' (not-before) and 'iat' (issued-at) claims.\n *\n * Notes:\n * - May return a false negative if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const isValidTimestamp = function (token: string): boolean {\n  const claims: Claims = decode(token).claims;\n  const now: number = Math.floor(new Date().getTime() / 1000);\n  let validSince: number = 0,\n    validUntil: number = 0;\n\n  if (typeof claims === 'object') {\n    if (claims.hasOwnProperty('nbf')) {\n      validSince = claims['nbf'] as number;\n    } else if (claims.hasOwnProperty('iat')) {\n      validSince = claims['iat'] as number;\n    }\n\n    if (claims.hasOwnProperty('exp')) {\n      validUntil = claims['exp'] as number;\n    } else {\n      // token will expire after 24h by default\n      validUntil = validSince + 86400;\n    }\n  }\n\n  return (\n    !!now &&\n    !!validSince &&\n    !!validUntil &&\n    now >= validSince &&\n    now <= validUntil\n  );\n};\n\n/**\n * Decodes a Firebase auth. token and returns its issued at time if valid, null otherwise.\n *\n * Notes:\n * - May return null if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const issuedAtTime = function (token: string): number | null {\n  const claims: Claims = decode(token).claims;\n  if (typeof claims === 'object' && claims.hasOwnProperty('iat')) {\n    return claims['iat'] as number;\n  }\n  return null;\n};\n\n/**\n * Decodes a Firebase auth. token and checks the validity of its format. Expects a valid issued-at time.\n *\n * Notes:\n * - May return a false negative if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const isValidFormat = function (token: string): boolean {\n  const decoded = decode(token),\n    claims = decoded.claims;\n\n  return !!claims && typeof claims === 'object' && claims.hasOwnProperty('iat');\n};\n\n/**\n * Attempts to peer into an auth token and determine if it's an admin auth token by looking at the claims portion.\n *\n * Notes:\n * - May return a false negative if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const isAdmin = function (token: string): boolean {\n  const claims: Claims = decode(token).claims;\n  return typeof claims === 'object' && claims['admin'] === true;\n};\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview SHA-1 cryptographic hash.\n * Variable names follow the notation in FIPS PUB 180-3:\n * http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf.\n *\n * Usage:\n *   var sha1 = new sha1();\n *   sha1.update(bytes);\n *   var hash = sha1.digest();\n *\n * Performance:\n *   Chrome 23:   ~400 Mbit/s\n *   Firefox 16:  ~250 Mbit/s\n *\n */\n\n/**\n * SHA-1 cryptographic hash constructor.\n *\n * The properties declared here are discussed in the above algorithm document.\n * @constructor\n * @final\n * @struct\n */\nexport class Sha1 {\n  /**\n   * Holds the previous values of accumulated variables a-e in the compress_\n   * function.\n   * @private\n   */\n  private chain_: number[] = [];\n\n  /**\n   * A buffer holding the partially computed hash result.\n   * @private\n   */\n  private buf_: number[] = [];\n\n  /**\n   * An array of 80 bytes, each a part of the message to be hashed.  Referred to\n   * as the message schedule in the docs.\n   * @private\n   */\n  private W_: number[] = [];\n\n  /**\n   * Contains data needed to pad messages less than 64 bytes.\n   * @private\n   */\n  private pad_: number[] = [];\n\n  /**\n   * @private {number}\n   */\n  private inbuf_: number = 0;\n\n  /**\n   * @private {number}\n   */\n  private total_: number = 0;\n\n  blockSize: number;\n\n  constructor() {\n    this.blockSize = 512 / 8;\n\n    this.pad_[0] = 128;\n    for (let i = 1; i < this.blockSize; ++i) {\n      this.pad_[i] = 0;\n    }\n\n    this.reset();\n  }\n\n  reset(): void {\n    this.chain_[0] = 0x67452301;\n    this.chain_[1] = 0xefcdab89;\n    this.chain_[2] = 0x98badcfe;\n    this.chain_[3] = 0x10325476;\n    this.chain_[4] = 0xc3d2e1f0;\n\n    this.inbuf_ = 0;\n    this.total_ = 0;\n  }\n\n  /**\n   * Internal compress helper function.\n   * @param buf Block to compress.\n   * @param offset Offset of the block in the buffer.\n   * @private\n   */\n  compress_(buf: number[] | Uint8Array | string, offset?: number): void {\n    if (!offset) {\n      offset = 0;\n    }\n\n    const W = this.W_;\n\n    // get 16 big endian words\n    if (typeof buf === 'string') {\n      for (let i = 0; i < 16; i++) {\n        // TODO(user): [bug 8140122] Recent versions of Safari for Mac OS and iOS\n        // have a bug that turns the post-increment ++ operator into pre-increment\n        // during JIT compilation.  We have code that depends heavily on SHA-1 for\n        // correctness and which is affected by this bug, so I've removed all uses\n        // of post-increment ++ in which the result value is used.  We can revert\n        // this change once the Safari bug\n        // (https://bugs.webkit.org/show_bug.cgi?id=109036) has been fixed and\n        // most clients have been updated.\n        W[i] =\n          (buf.charCodeAt(offset) << 24) |\n          (buf.charCodeAt(offset + 1) << 16) |\n          (buf.charCodeAt(offset + 2) << 8) |\n          buf.charCodeAt(offset + 3);\n        offset += 4;\n      }\n    } else {\n      for (let i = 0; i < 16; i++) {\n        W[i] =\n          (buf[offset] << 24) |\n          (buf[offset + 1] << 16) |\n          (buf[offset + 2] << 8) |\n          buf[offset + 3];\n        offset += 4;\n      }\n    }\n\n    // expand to 80 words\n    for (let i = 16; i < 80; i++) {\n      const t = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\n      W[i] = ((t << 1) | (t >>> 31)) & 0xffffffff;\n    }\n\n    let a = this.chain_[0];\n    let b = this.chain_[1];\n    let c = this.chain_[2];\n    let d = this.chain_[3];\n    let e = this.chain_[4];\n    let f, k;\n\n    // TODO(user): Try to unroll this loop to speed up the computation.\n    for (let i = 0; i < 80; i++) {\n      if (i < 40) {\n        if (i < 20) {\n          f = d ^ (b & (c ^ d));\n          k = 0x5a827999;\n        } else {\n          f = b ^ c ^ d;\n          k = 0x6ed9eba1;\n        }\n      } else {\n        if (i < 60) {\n          f = (b & c) | (d & (b | c));\n          k = 0x8f1bbcdc;\n        } else {\n          f = b ^ c ^ d;\n          k = 0xca62c1d6;\n        }\n      }\n\n      const t = (((a << 5) | (a >>> 27)) + f + e + k + W[i]) & 0xffffffff;\n      e = d;\n      d = c;\n      c = ((b << 30) | (b >>> 2)) & 0xffffffff;\n      b = a;\n      a = t;\n    }\n\n    this.chain_[0] = (this.chain_[0] + a) & 0xffffffff;\n    this.chain_[1] = (this.chain_[1] + b) & 0xffffffff;\n    this.chain_[2] = (this.chain_[2] + c) & 0xffffffff;\n    this.chain_[3] = (this.chain_[3] + d) & 0xffffffff;\n    this.chain_[4] = (this.chain_[4] + e) & 0xffffffff;\n  }\n\n  update(bytes?: number[] | Uint8Array | string, length?: number): void {\n    // TODO(johnlenz): tighten the function signature and remove this check\n    if (bytes == null) {\n      return;\n    }\n\n    if (length === undefined) {\n      length = bytes.length;\n    }\n\n    const lengthMinusBlock = length - this.blockSize;\n    let n = 0;\n    // Using local instead of member variables gives ~5% speedup on Firefox 16.\n    const buf = this.buf_;\n    let inbuf = this.inbuf_;\n\n    // The outer while loop should execute at most twice.\n    while (n < length) {\n      // When we have no data in the block to top up, we can directly process the\n      // input buffer (assuming it contains sufficient data). This gives ~25%\n      // speedup on Chrome 23 and ~15% speedup on Firefox 16, but requires that\n      // the data is provided in large chunks (or in multiples of 64 bytes).\n      if (inbuf === 0) {\n        while (n <= lengthMinusBlock) {\n          this.compress_(bytes, n);\n          n += this.blockSize;\n        }\n      }\n\n      if (typeof bytes === 'string') {\n        while (n < length) {\n          buf[inbuf] = bytes.charCodeAt(n);\n          ++inbuf;\n          ++n;\n          if (inbuf === this.blockSize) {\n            this.compress_(buf);\n            inbuf = 0;\n            // Jump to the outer loop so we use the full-block optimization.\n            break;\n          }\n        }\n      } else {\n        while (n < length) {\n          buf[inbuf] = bytes[n];\n          ++inbuf;\n          ++n;\n          if (inbuf === this.blockSize) {\n            this.compress_(buf);\n            inbuf = 0;\n            // Jump to the outer loop so we use the full-block optimization.\n            break;\n          }\n        }\n      }\n    }\n\n    this.inbuf_ = inbuf;\n    this.total_ += length;\n  }\n\n  /** @override */\n  digest(): number[] {\n    const digest: number[] = [];\n    let totalBits = this.total_ * 8;\n\n    // Add pad 0x80 0x00*.\n    if (this.inbuf_ < 56) {\n      this.update(this.pad_, 56 - this.inbuf_);\n    } else {\n      this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));\n    }\n\n    // Add # bits.\n    for (let i = this.blockSize - 1; i >= 56; i--) {\n      this.buf_[i] = totalBits & 255;\n      totalBits /= 256; // Don't use bit-shifting here!\n    }\n\n    this.compress_(this.buf_);\n\n    let n = 0;\n    for (let i = 0; i < 5; i++) {\n      for (let j = 24; j >= 0; j -= 8) {\n        digest[n] = (this.chain_[i] >> j) & 255;\n        ++n;\n      }\n    }\n    return digest;\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from './assert';\n\n// Code originally came from goog.crypt.stringToUtf8ByteArray, but for some reason they\n// automatically replaced '\\r\\n' with '\\n', and they didn't handle surrogate pairs,\n// so it's been modified.\n\n// Note that not all Unicode characters appear as single characters in JavaScript strings.\n// fromCharCode returns the UTF-16 encoding of a character - so some Unicode characters\n// use 2 characters in Javascript.  All 4-byte UTF-8 characters begin with a first\n// character in the range 0xD800 - 0xDBFF (the first character of a so-called surrogate\n// pair).\n// See http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.3\n\n/**\n * @param {string} str\n * @return {Array}\n */\nexport const stringToByteArray = function (str: string): number[] {\n  const out: number[] = [];\n  let p = 0;\n  for (let i = 0; i < str.length; i++) {\n    let c = str.charCodeAt(i);\n\n    // Is this the lead surrogate in a surrogate pair?\n    if (c >= 0xd800 && c <= 0xdbff) {\n      const high = c - 0xd800; // the high 10 bits.\n      i++;\n      assert(i < str.length, 'Surrogate pair missing trail surrogate.');\n      const low = str.charCodeAt(i) - 0xdc00; // the low 10 bits.\n      c = 0x10000 + (high << 10) + low;\n    }\n\n    if (c < 128) {\n      out[p++] = c;\n    } else if (c < 2048) {\n      out[p++] = (c >> 6) | 192;\n      out[p++] = (c & 63) | 128;\n    } else if (c < 65536) {\n      out[p++] = (c >> 12) | 224;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    } else {\n      out[p++] = (c >> 18) | 240;\n      out[p++] = ((c >> 12) & 63) | 128;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    }\n  }\n  return out;\n};\n\n/**\n * Calculate length without actually converting; useful for doing cheaper validation.\n * @param {string} str\n * @return {number}\n */\nexport const stringLength = function (str: string): number {\n  let p = 0;\n  for (let i = 0; i < str.length; i++) {\n    const c = str.charCodeAt(i);\n    if (c < 128) {\n      p++;\n    } else if (c < 2048) {\n      p += 2;\n    } else if (c >= 0xd800 && c <= 0xdbff) {\n      // Lead surrogate of a surrogate pair.  The pair together will take 4 bytes to represent.\n      p += 4;\n      i++; // skip trail surrogate.\n    } else {\n      p += 3;\n    }\n  }\n  return p;\n};\n","/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Copied from https://stackoverflow.com/a/2117523\n * Generates a new uuid.\n * @public\n */\nexport const uuidv4 = function (): string {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = (Math.random() * 16) | 0,\n      v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar precomputeAlias = function (p, n) {\n    var sum = p.reduce(function (acc, val) {\n        if (val < 0) {\n            throw new Error('Probability must be a positive: p[' + p.indexOf(val) + ']=' + val);\n        }\n        return acc + val;\n    }, 0);\n    if (sum === 0) {\n        throw new Error('Probability sum must be greater than zero.');\n    }\n    var scaledProbabilities = p.map(function (prob) { return (prob * n) / sum; });\n    var aliasData = { prob: new Array(n), alias: new Array(n) };\n    var small = [];\n    var large = [];\n    for (var i = n - 1; i >= 0; i--) {\n        if (scaledProbabilities[i] < 1) {\n            small.push(i);\n        }\n        else {\n            large.push(i);\n        }\n    }\n    while (small.length > 0 && large.length > 0) {\n        var less = small.pop();\n        var more = large.pop();\n        aliasData.prob[less] = scaledProbabilities[less];\n        aliasData.alias[less] = more;\n        scaledProbabilities[more] = (scaledProbabilities[more] + scaledProbabilities[less]) - 1;\n        if (scaledProbabilities[more] < 1) {\n            small.push(more);\n        }\n        else {\n            large.push(more);\n        }\n    }\n    while (large.length > 0) {\n        aliasData.prob[large.pop()] = 1;\n    }\n    while (small.length > 0) {\n        aliasData.prob[small.pop()] = 1;\n    }\n    return aliasData;\n};\nvar draw = function (aliasData, outcomes, rng) {\n    var c = Math.floor(rng() * aliasData.prob.length);\n    return outcomes[(rng() < aliasData.prob[c]) ? c : aliasData.alias[c]];\n};\nvar next = function (aliasData, outcomes, rng, numOfSamples) {\n    if (numOfSamples === void 0) { numOfSamples = 1; }\n    if (numOfSamples === 1) {\n        return draw(aliasData, outcomes, rng);\n    }\n    var samples = [];\n    for (var i = 0; i < numOfSamples; i++) {\n        samples.push(draw(aliasData, outcomes, rng));\n    }\n    return samples;\n};\nvar sample = function (probabilities, outcomes, rng) {\n    if (rng === void 0) { rng = Math.random; }\n    if (!Array.isArray(probabilities)) {\n        throw new Error('Probabilities must be an array.');\n    }\n    if (probabilities.length === 0) {\n        throw new Error('Probabilities array must not be empty.');\n    }\n    var n = probabilities.length;\n    var indexedOutcomes = outcomes !== null && outcomes !== void 0 ? outcomes : Array.from({ length: n }, function (_, i) { return i; });\n    var aliasData = precomputeAlias(probabilities, n);\n    return {\n        next: function (numOfSamples) {\n            if (numOfSamples === void 0) { numOfSamples = 1; }\n            return next(aliasData, indexedOutcomes, rng, numOfSamples);\n        }\n    };\n};\nexports.default = sample;\n","import { ApprovalType } from '@metamask/controller-utils';\nimport {\n  ApprovalRequest,\n  ErrorOptions,\n  SuccessOptions,\n} from '@metamask/approval-controller';\nimport { IconName, IconSize } from '../../../components/component-library';\nimport {\n  FontWeight,\n  BlockSize,\n  AlignItems,\n  FlexDirection,\n  JustifyContent,\n  TypographyVariant,\n  TextAlign,\n  IconColor,\n  BackgroundColor,\n} from '../../../helpers/constants/design-system';\nimport { resolvePendingApproval } from '../../../store/actions';\nimport {\n  processError,\n  processHeader,\n  processString,\n  TemplateRendererComponent,\n} from './util';\n\nexport type ResultTemplateActions = {\n  resolvePendingApproval: typeof resolvePendingApproval;\n};\n\nexport type ResultType = ApprovalType.ResultSuccess | ApprovalType.ResultError;\n\nexport class ResultTemplate {\n  #type: ResultType;\n\n  constructor(type: ResultType) {\n    this.#type = type;\n  }\n\n  getValues(\n    // TODO: Replace `any` with type\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    pendingApproval: ApprovalRequest<any>,\n    t: (key: string) => string,\n    // TODO: Replace `any` with type\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    actions: any,\n  ) {\n    const content = this.#getContent(pendingApproval.requestData || {}, t);\n\n    return {\n      content,\n      submitText: t('ok'),\n      onSubmit: () =>\n        actions.resolvePendingApproval(\n          pendingApproval.id,\n          pendingApproval.requestData,\n        ),\n      networkDisplay: false,\n    };\n  }\n\n  #getContent(\n    requestData: SuccessOptions | ErrorOptions,\n    // TODO: Replace `any` with type\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    t: any,\n  ): (undefined | string | TemplateRendererComponent)[] {\n    // TODO: Replace `any` with type\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const { error, header, icon, message, title } = requestData as any;\n    const isSuccess = this.#type === ApprovalType.ResultSuccess;\n\n    return [\n      ...(processHeader(header) ?? []),\n      {\n        key: 'container',\n        element: 'Box',\n        props: {\n          flexDirection: FlexDirection.Column,\n          alignItems: AlignItems.center,\n          height: BlockSize.Full,\n          padding: 4,\n        },\n        children: [\n          {\n            key: 'content',\n            element: 'Box',\n            props: {\n              flexDirection: FlexDirection.Column,\n              alignItems: AlignItems.center,\n              justifyContent: JustifyContent.center,\n              height: BlockSize.Full,\n              style: {\n                alignSelf: AlignItems.stretch,\n              },\n            },\n            children: [\n              icon === null\n                ? undefined\n                : {\n                    key: 'icon',\n                    element: 'AvatarIcon',\n                    props: {\n                      iconName:\n                        icon ??\n                        (isSuccess ? IconName.Confirmation : IconName.Warning),\n                      size: IconSize.Xl,\n                      iconProps: { size: IconSize.Xl },\n                      color: isSuccess\n                        ? IconColor.successDefault\n                        : IconColor.errorDefault,\n                      backgroundColor: isSuccess\n                        ? BackgroundColor.successMuted\n                        : BackgroundColor.errorMuted,\n                    },\n                    children: 'Icon',\n                  },\n              title === null\n                ? undefined\n                : {\n                    key: 'title',\n                    element: 'Typography',\n                    props: {\n                      variant: TypographyVariant.H3,\n                      fontWeight: FontWeight.Bold,\n                    },\n                    children:\n                      title ??\n                      (isSuccess\n                        ? t('resultPageSuccess')\n                        : t('resultPageError')),\n                  },\n              {\n                key: 'message',\n                element: 'Box',\n                props: {\n                  alignItems: AlignItems.center,\n                  textAlign: TextAlign.Center,\n                  flexDirection: FlexDirection.Column,\n                  width: BlockSize.Full,\n                },\n                children: isSuccess\n                  ? processString(message, t('resultPageSuccessDefaultMessage'))\n                  : processError(error, t('resultPageErrorDefaultMessage')),\n              },\n            ],\n          },\n        ],\n      },\n    ];\n  }\n}\n","import { ethErrors } from 'eth-rpc-errors';\nimport React from 'react';\nimport { RpcEndpointType } from '@metamask/network-controller';\n\nimport {\n  infuraProjectId,\n  DEPRECATED_NETWORKS,\n} from '../../../../../shared/constants/network';\nimport {\n  Severity,\n  TypographyVariant,\n  TextAlign,\n  Display,\n  FlexDirection,\n  AlignItems,\n  JustifyContent,\n  BackgroundColor,\n} from '../../../../helpers/constants/design-system';\nimport { DEFAULT_ROUTE } from '../../../../helpers/constants/routes';\nimport ZENDESK_URLS from '../../../../helpers/constants/zendesk-url';\nimport { jsonRpcRequest } from '../../../../../shared/modules/rpc.utils';\nimport { BannerAlertSeverity } from '../../../../components/component-library';\nimport { isValidASCIIURL, toPunycodeURL } from '../../utils/confirm';\n\nconst UNRECOGNIZED_CHAIN = {\n  id: 'UNRECOGNIZED_CHAIN',\n  severity: Severity.Warning,\n  content: {\n    element: 'span',\n    children: {\n      element: 'MetaMaskTranslation',\n      props: {\n        translationKey: 'unrecognizedChain',\n      },\n    },\n  },\n};\n\nconst SAFE_CHAIN_LIST_PROVIDER_ERROR = {\n  id: 'SAFE_CHAIN_LIST_PROVIDER_ERROR',\n  severity: Severity.Warning,\n  content: {\n    element: 'span',\n    children: {\n      element: 'MetaMaskTranslation',\n      props: {\n        translationKey: 'errorGettingSafeChainList',\n      },\n    },\n  },\n};\n\nconst MISMATCHED_CHAIN_RECOMMENDATION = {\n  id: 'MISMATCHED_CHAIN_RECOMMENDATION',\n  severity: Severity.Warning,\n  content: {\n    element: 'span',\n    children: {\n      element: 'MetaMaskTranslation',\n      props: {\n        translationKey: 'mismatchedChainRecommendation',\n        variables: [\n          {\n            element: 'a',\n            key: 'mismatchedChainLink',\n            props: {\n              href: ZENDESK_URLS.VERIFY_CUSTOM_NETWORK,\n              target: '__blank',\n              tabIndex: 0,\n            },\n            children: {\n              element: 'MetaMaskTranslation',\n              props: {\n                translationKey: 'mismatchedChainLinkText',\n              },\n            },\n          },\n        ],\n      },\n    },\n  },\n};\n\nconst DEPRECATED_CHAIN_ALERT = {\n  id: 'DEPRECATED_CHAIN_ALERT',\n  severity: Severity.Warning,\n  content: {\n    element: 'span',\n    children: {\n      element: 'MetaMaskTranslation',\n      props: {\n        translationKey: 'deprecatedNetwork',\n      },\n    },\n  },\n};\n\nconst MISMATCHED_NETWORK_NAME = {\n  id: 'MISMATCHED_NETWORK_NAME',\n  severity: Severity.Warning,\n  content: {\n    element: 'span',\n    children: {\n      element: 'MetaMaskTranslation',\n      props: {\n        translationKey: 'mismatchedNetworkName',\n      },\n    },\n  },\n};\n\nconst MISMATCHED_NETWORK_SYMBOL = {\n  id: 'MISMATCHED_NETWORK_SYMBOL',\n  severity: Severity.Danger,\n  content: {\n    element: 'span',\n    children: {\n      element: 'MetaMaskTranslation',\n      props: {\n        translationKey: 'mismatchedNetworkSymbol',\n      },\n    },\n  },\n};\n\nconst MISMATCHED_NETWORK_RPC = {\n  id: 'MISMATCHED_NETWORK_RPC',\n  severity: Severity.Danger,\n  content: {\n    element: 'span',\n    children: {\n      element: 'MetaMaskTranslation',\n      props: {\n        translationKey: 'mismatchedRpcUrl',\n      },\n    },\n  },\n};\n\nconst MISMATCHED_NETWORK_RPC_CHAIN_ID = {\n  id: 'MISMATCHED_NETWORK_RPC_CHAIN_ID',\n  severity: Severity.Danger,\n  content: {\n    element: 'span',\n    children: {\n      element: 'MetaMaskTranslation',\n      props: {\n        translationKey: 'mismatchedRpcChainId',\n      },\n    },\n  },\n};\n\nconst multichainFlag = process.env.CHAIN_PERMISSIONS;\n\nconst ERROR_CONNECTING_TO_RPC = {\n  id: 'ERROR_CONNECTING_TO_RPC',\n  severity: Severity.Danger,\n  content: {\n    element: 'span',\n    children: {\n      element: 'MetaMaskTranslation',\n      props: {\n        translationKey: 'errorWhileConnectingToRPC',\n      },\n    },\n  },\n};\n\nasync function getAlerts(pendingApproval, data) {\n  const alerts = [];\n\n  const originIsMetaMask = pendingApproval.origin === 'metamask';\n  if (originIsMetaMask && Boolean(data.matchedChain)) {\n    return [];\n  }\n\n  if (data.matchedChain) {\n    if (\n      data.matchedChain.name?.toLowerCase() !==\n      pendingApproval.requestData.chainName.toLowerCase()\n    ) {\n      alerts.push(MISMATCHED_NETWORK_NAME);\n    }\n    if (\n      data.matchedChain.nativeCurrency?.symbol?.toLowerCase() !==\n      pendingApproval.requestData.ticker?.toLowerCase()\n    ) {\n      alerts.push(MISMATCHED_NETWORK_SYMBOL);\n    }\n\n    const { origin } = new URL(pendingApproval.requestData.rpcUrl);\n    if (\n      !data.matchedChain.rpc?.map((rpc) => new URL(rpc).origin).includes(origin)\n    ) {\n      alerts.push(MISMATCHED_NETWORK_RPC);\n    }\n    if (DEPRECATED_NETWORKS.includes(pendingApproval.requestData.chainId)) {\n      alerts.push(DEPRECATED_CHAIN_ALERT);\n    }\n  }\n\n  if (!data.matchedChain && data.useSafeChainsListValidation) {\n    if (data.providerError) {\n      alerts.push(SAFE_CHAIN_LIST_PROVIDER_ERROR);\n    } else {\n      alerts.push(UNRECOGNIZED_CHAIN);\n    }\n  }\n\n  if (alerts.length) {\n    alerts.push(MISMATCHED_CHAIN_RECOMMENDATION);\n  }\n\n  return alerts;\n}\n\nfunction getState(pendingApproval) {\n  if (parseInt(pendingApproval.requestData.chainId, 16) === 1) {\n    return { useWarningModal: true };\n  }\n  return {};\n}\n\nfunction getValues(pendingApproval, t, actions, history, data) {\n  const originIsMetaMask = pendingApproval.origin === 'metamask';\n  const customRpcUrl = pendingApproval.requestData.rpcUrl;\n\n  let title;\n  if (originIsMetaMask) {\n    title = t('wantToAddThisNetwork');\n  } else if (data.existingNetworkConfiguration) {\n    title = t('updateNetworkConfirmationTitle', [\n      data.existingNetworkConfiguration.name,\n    ]);\n  } else {\n    title = process.env.CHAIN_PERMISSIONS\n      ? t('addNetworkConfirmationTitle', [\n          pendingApproval.requestData.chainName,\n        ])\n      : t('addEthereumChainConfirmationTitle');\n  }\n\n  let subtitle;\n  if (data.existingNetworkConfiguration) {\n    subtitle = t('updateEthereumChainConfirmationDescription');\n  } else {\n    subtitle = process.env.CHAIN_PERMISSIONS\n      ? t('multichainAddEthereumChainConfirmationDescription')\n      : t('addEthereumChainConfirmationDescription');\n  }\n\n  return {\n    content: [\n      {\n        hide: !originIsMetaMask,\n        element: 'Box',\n        key: 'network-box',\n        props: {\n          textAlign: TextAlign.Center,\n          display: Display.Flex,\n          justifyContent: JustifyContent.center,\n          marginTop: 4,\n          marginBottom: 2,\n        },\n        children: [\n          {\n            element: 'Chip',\n            key: 'network-chip',\n            props: {\n              label: pendingApproval.requestData.chainName,\n              backgroundColor: BackgroundColor.backgroundAlternative,\n              leftIconUrl: pendingApproval.requestData.imageUrl,\n            },\n          },\n        ],\n      },\n      multichainFlag && {\n        element: 'BannerAlert',\n        key: 'only-add-networks-you-trust',\n        children: [\n          {\n            element: 'Typography',\n            key: 'description',\n            props: {\n              style: { display: originIsMetaMask && '-webkit-box' },\n            },\n            children: [\n              `${t('unknownChainWarning')} `,\n              {\n                hide: !originIsMetaMask,\n                element: 'Tooltip',\n                key: 'tooltip-info',\n                props: {\n                  position: 'bottom',\n                  interactive: true,\n                  trigger: 'mouseenter',\n                  html: (\n                    <div\n                      style={{\n                        width: '180px',\n                        margin: '16px',\n                        textAlign: 'left',\n                      }}\n                    >\n                      <a\n                        key=\"zendesk_page_link\"\n                        href={ZENDESK_URLS.UNKNOWN_NETWORK}\n                        rel=\"noreferrer\"\n                        target=\"_blank\"\n                        style={{ color: 'var(--color-primary-default)' }}\n                      >\n                        {t('learnMoreUpperCase')}\n                      </a>\n                    </div>\n                  ),\n                },\n                children: [\n                  {\n                    element: 'i',\n                    key: 'info-circle',\n                    props: {\n                      className: 'fas fa-info-circle',\n                      style: {\n                        marginLeft: '4px',\n                        color: 'var(--color-icon-default)',\n                      },\n                    },\n                  },\n                ],\n              },\n            ],\n          },\n          {\n            element: 'a',\n            children: t('learnMoreUpperCase'),\n            key: 'learnMoreUpperCase',\n            props: {\n              href: ZENDESK_URLS.USER_GUIDE_CUSTOM_NETWORKS,\n              target: '__blank',\n            },\n          },\n        ],\n        props: {\n          severity: BannerAlertSeverity.Warning,\n          boxProps: {\n            margin: [0, 4],\n            display: Display.Flex,\n            flexDirection: FlexDirection.Column,\n            alignItems: AlignItems.center,\n          },\n        },\n      },\n\n      {\n        element: 'Typography',\n        key: 'title',\n        children: title,\n        props: {\n          variant: TypographyVariant.H3,\n          align: 'center',\n          fontWeight: 'bold',\n          boxProps: {\n            margin: [0, 0, 4],\n          },\n        },\n      },\n      {\n        element: 'Typography',\n        key: 'description',\n        children: subtitle,\n        props: {\n          variant: TypographyVariant.H7,\n          align: 'center',\n          boxProps: {\n            margin: originIsMetaMask ? [0, 8, 4] : [0, 0, 4],\n          },\n        },\n      },\n      {\n        element: 'Typography',\n        key: 'only-add-networks-you-trust',\n        children: process.env.CHAIN_PERMISSIONS\n          ? []\n          : [\n              {\n                element: 'b',\n                key: 'bolded-text',\n                props: {\n                  style: { display: originIsMetaMask && '-webkit-box' },\n                },\n                children: [\n                  `${t('addEthereumChainConfirmationRisks')} `,\n                  {\n                    hide: !originIsMetaMask,\n                    element: 'Tooltip',\n                    key: 'tooltip-info',\n                    props: {\n                      position: 'bottom',\n                      interactive: true,\n                      trigger: 'mouseenter',\n                      html: (\n                        <div\n                          style={{\n                            width: '180px',\n                            margin: '16px',\n                            textAlign: 'left',\n                          }}\n                        >\n                          {t('someNetworksMayPoseSecurity')}{' '}\n                          <a\n                            key=\"zendesk_page_link\"\n                            href={ZENDESK_URLS.UNKNOWN_NETWORK}\n                            rel=\"noreferrer\"\n                            target=\"_blank\"\n                            style={{ color: 'var(--color-primary-default)' }}\n                          >\n                            {t('learnMoreUpperCase')}\n                          </a>\n                        </div>\n                      ),\n                    },\n                    children: [\n                      {\n                        element: 'i',\n                        key: 'info-circle',\n                        props: {\n                          className: 'fas fa-info-circle',\n                          style: {\n                            marginLeft: '4px',\n                            color: 'var(--color-icon-default)',\n                          },\n                        },\n                      },\n                    ],\n                  },\n                ],\n              },\n              {\n                element: 'MetaMaskTranslation',\n                key: 'learn-about-risks',\n                props: {\n                  translationKey: 'addEthereumChainConfirmationRisksLearnMore',\n                  variables: [\n                    {\n                      element: 'a',\n                      children: t(\n                        'addEthereumChainConfirmationRisksLearnMoreLink',\n                      ),\n                      key: 'addEthereumChainConfirmationRisksLearnMoreLink',\n                      props: {\n                        href: ZENDESK_URLS.USER_GUIDE_CUSTOM_NETWORKS,\n                        target: '__blank',\n                      },\n                    },\n                  ],\n                },\n              },\n            ],\n        props: {\n          variant: TypographyVariant.H7,\n          boxProps: {\n            margin: originIsMetaMask ? [0, 8] : 0,\n            display: Display.Flex,\n            flexDirection: FlexDirection.Column,\n            alignItems: AlignItems.center,\n          },\n        },\n      },\n      {\n        element: 'TruncatedDefinitionList',\n        key: 'network-details',\n        props: {\n          title: t('networkDetails'),\n          tooltips: {\n            [t('currencySymbol')]: t('currencySymbolDefinition'),\n            [t('networkURL')]: t('networkURLDefinition'),\n            [t('chainId')]: t('chainIdDefinition'),\n            [t('networkName')]: t('networkNameDefinition'),\n            [t('blockExplorerUrl')]: t('blockExplorerUrlDefinition'),\n          },\n          warnings: {\n            [t('networkURL')]: isValidASCIIURL(customRpcUrl)\n              ? undefined\n              : t('networkUrlErrorWarning', [toPunycodeURL(customRpcUrl)]),\n            [t('currencySymbol')]: data.currencySymbolWarning,\n          },\n          dictionary: {\n            [t('currencySymbol')]: pendingApproval.requestData.ticker,\n            [t('networkURL')]: customRpcUrl\n              .toLowerCase()\n              ?.includes(`/v3/${infuraProjectId}`)\n              ? customRpcUrl.replace(`/v3/${infuraProjectId}`, '').toLowerCase()\n              : customRpcUrl.toLowerCase(),\n            [t('chainId')]: parseInt(pendingApproval.requestData.chainId, 16),\n            [t('networkName')]: pendingApproval.requestData.chainName,\n            [t('blockExplorerUrl')]:\n              pendingApproval.requestData.rpcPrefs.blockExplorerUrl,\n          },\n          prefaceKeys: process.env.CHAIN_PERMISSIONS\n            ? [t('currencySymbol'), t('networkURL')]\n            : [\n                t('networkName'),\n                t('networkURL'),\n                t('chainId'),\n                t('currencySymbol'),\n              ],\n        },\n      },\n    ],\n    cancelText: t('cancel'),\n    submitText: t('approveButtonText'),\n    loadingText: t('addingCustomNetwork'),\n    onSubmit: async () => {\n      let endpointChainId;\n      try {\n        endpointChainId = await jsonRpcRequest(customRpcUrl, 'eth_chainId');\n      } catch (err) {\n        console.error(\n          `Request for method 'eth_chainId on ${customRpcUrl} failed`,\n        );\n        return [ERROR_CONNECTING_TO_RPC];\n      }\n\n      if (pendingApproval.requestData.chainId !== endpointChainId) {\n        console.error(\n          `Chain ID returned by RPC URL ${customRpcUrl} does not match ${endpointChainId}`,\n        );\n        return [MISMATCHED_NETWORK_RPC_CHAIN_ID];\n      }\n\n      await actions.resolvePendingApproval(\n        pendingApproval.id,\n        pendingApproval.requestData,\n      );\n      if (originIsMetaMask) {\n        const blockExplorer =\n          pendingApproval.requestData.rpcPrefs.blockExplorerUrl;\n\n        const addedNetwork = await actions.addNetwork({\n          chainId: pendingApproval.requestData.chainId,\n          name: pendingApproval.requestData.chainName,\n          nativeCurrency: pendingApproval.requestData.ticker,\n          blockExplorerUrls: blockExplorer ? [blockExplorer] : [],\n          defaultBlockExplorerUrlIndex: blockExplorer ? 0 : undefined,\n          defaultRpcEndpointIndex: 0,\n          rpcEndpoints: [\n            {\n              url: pendingApproval.requestData.rpcUrl,\n              type: RpcEndpointType.Custom,\n            },\n          ],\n        });\n\n        await actions.setNewNetworkAdded({\n          networkConfigurationId: addedNetwork.rpcEndpoints[0].networkClientId,\n          nickname: pendingApproval.requestData.chainName,\n        });\n\n        history.push(DEFAULT_ROUTE);\n      }\n      return [];\n    },\n    onCancel: () =>\n      actions.rejectPendingApproval(\n        pendingApproval.id,\n        ethErrors.provider.userRejectedRequest().serialize(),\n      ),\n    networkDisplay: !originIsMetaMask,\n  };\n}\n\nconst addEthereumChain = {\n  getAlerts,\n  getValues,\n  getState,\n};\n\nexport default addEthereumChain;\n","import {\n  MetaMetricsEventAccountType,\n  MetaMetricsEventCategory,\n  MetaMetricsEventName,\n} from '../../../../../shared/constants/metametrics';\n\n/**\n * Returns the templated values to be consumed in the confirmation page.\n *\n * @param {object} pendingApproval - The pending confirmation object.\n * @param {Function} t - Translation function.\n * @param {object} actions - Object containing safe actions that the template can invoke.\n * @param {object} _history - The application's history object (not used in this function).\n * @param {object} _data - The data object passed into the template from the confirmation page (not\n *   used in this function).\n * @param {object} contexts - Context objects passed into the template from the confirmation page.\n * @returns {object} An object containing templated values for the confirmation page.\n */\nfunction getValues(pendingApproval, t, actions, _history, _data, contexts) {\n  const { origin: snapId, snapName, requestData } = pendingApproval;\n  const { snapSuggestedAccountName } = requestData;\n  const { trackEvent } = contexts;\n\n  const trackSnapAccountEvent = (event) => {\n    trackEvent({\n      event,\n      category: MetaMetricsEventCategory.Accounts,\n      properties: {\n        account_type: MetaMetricsEventAccountType.Snap,\n        snap_id: snapId,\n        snap_name: snapName,\n      },\n    });\n  };\n\n  const onActionComplete = async (result) => {\n    if (result.success) {\n      trackSnapAccountEvent(MetaMetricsEventName.AddSnapAccountConfirmed);\n      actions.resolvePendingApproval(pendingApproval.id, result);\n    } else {\n      trackSnapAccountEvent(MetaMetricsEventName.AddSnapAccountCanceled);\n      // ! Resolve the pending approval to indicate that the user has canceled the flow. We do not\n      // ! reject the approval but resolve with `false` for `SnapKeyring` to handle cancellation.\n      actions.resolvePendingApproval(pendingApproval.id, false);\n    }\n  };\n\n  return {\n    content: [\n      {\n        element: 'CreateNamedSnapAccount',\n        key: 'create-named-snap-account',\n        props: {\n          onActionComplete,\n          snapSuggestedAccountName,\n        },\n      },\n    ],\n    loadingText: t('addingAccount'),\n    hideSubmitButton: true,\n    onLoad: () =>\n      trackSnapAccountEvent(MetaMetricsEventName.AddSnapAccountViewed),\n  };\n}\n\nconst createNamedSnapAccount = {\n  getValues,\n};\n\nexport default createNamedSnapAccount;\n","import {\n  MetaMetricsEventCategory,\n  MetaMetricsEventName,\n  MetaMetricsEventAccountType,\n} from '../../../../../shared/constants/metametrics';\n\nfunction getValues(pendingApproval, t, actions, _history, _data, contexts) {\n  const { origin: snapId, snapName } = pendingApproval;\n  const { trackEvent } = contexts;\n\n  const trackSnapAccountEvent = (event) => {\n    trackEvent({\n      event,\n      category: MetaMetricsEventCategory.Accounts,\n      properties: {\n        account_type: MetaMetricsEventAccountType.Snap,\n        snap_id: snapId,\n        snap_name: snapName,\n      },\n    });\n  };\n\n  const onCancel = () => {\n    trackSnapAccountEvent(MetaMetricsEventName.AddSnapAccountCanceled);\n    actions.resolvePendingApproval(pendingApproval.id, false);\n  };\n\n  return {\n    content: [\n      {\n        element: 'CreateSnapAccount',\n        key: 'create-snap-account',\n        props: {\n          snapId,\n          snapName,\n          onCancel,\n        },\n      },\n    ],\n    cancelText: t('cancel'),\n    submitText: t('create'),\n    onLoad: () =>\n      trackSnapAccountEvent(MetaMetricsEventName.AddSnapAccountViewed),\n    onSubmit: () => {\n      trackSnapAccountEvent(MetaMetricsEventName.AddSnapAccountConfirmed);\n      actions.resolvePendingApproval(pendingApproval.id, true);\n    },\n    onCancel,\n  };\n}\n\nconst createSnapAccount = {\n  getValues,\n};\n\nexport default createSnapAccount;\n","import { ApprovalType } from '@metamask/controller-utils';\nimport { ResultTemplate } from '../ResultTemplate';\n\nconst template = new ResultTemplate(ApprovalType.ResultError);\nconst error = { getValues: template.getValues.bind(template) };\n\nexport default error;\n","import { omit, pick } from 'lodash';\nimport { ApprovalType } from '@metamask/controller-utils';\nimport {\n  deleteInterface,\n  rejectPendingApproval,\n  resolvePendingApproval,\n  setNewNetworkAdded,\n  addNetwork,\n} from '../../../../store/actions';\nimport {\n  ///: BEGIN:ONLY_INCLUDE_IF(keyring-snaps)\n  SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES,\n  ///: END:ONLY_INCLUDE_IF\n  SMART_TRANSACTION_CONFIRMATION_TYPES,\n} from '../../../../../shared/constants/app';\nimport smartTransactionStatusPage from './smart-transaction-status-page';\n///: BEGIN:ONLY_INCLUDE_IF(keyring-snaps)\nimport createSnapAccount from './create-snap-account';\nimport removeSnapAccount from './remove-snap-account';\nimport snapAccountRedirect from './snap-account-redirect';\nimport createNamedSnapAccount from './create-named-snap-account';\n///: END:ONLY_INCLUDE_IF\nimport addEthereumChain from './add-ethereum-chain';\nimport switchEthereumChain from './switch-ethereum-chain';\nimport success from './success';\nimport error from './error';\nimport snapAlert from './snaps/snap-alert/snap-alert';\nimport snapConfirmation from './snaps/snap-confirmation/snap-confirmation';\nimport snapPrompt from './snaps/snap-prompt/snap-prompt';\nimport snapDefault from './snaps/snap-default/snap-default';\n\n/**\n * Approval templates that will be prioritized ahead of transaction and signature confirmations.\n */\nexport const PRIORITY_APPROVAL_TEMPLATE_TYPES = [\n  SMART_TRANSACTION_CONFIRMATION_TYPES.showSmartTransactionStatusPage,\n];\n\nconst APPROVAL_TEMPLATES = {\n  [ApprovalType.AddEthereumChain]: addEthereumChain,\n  [ApprovalType.SwitchEthereumChain]: switchEthereumChain,\n  // Use ApprovalType from utils controller\n  [ApprovalType.ResultSuccess]: success,\n  [ApprovalType.ResultError]: error,\n  [SMART_TRANSACTION_CONFIRMATION_TYPES.showSmartTransactionStatusPage]:\n    smartTransactionStatusPage,\n  [ApprovalType.SnapDialogAlert]: snapAlert,\n  [ApprovalType.SnapDialogConfirmation]: snapConfirmation,\n  [ApprovalType.SnapDialogPrompt]: snapPrompt,\n  [ApprovalType.SnapDialogDefault]: snapDefault,\n  ///: BEGIN:ONLY_INCLUDE_IF(keyring-snaps)\n  [SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.confirmAccountCreation]:\n    createSnapAccount,\n  [SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.confirmAccountRemoval]:\n    removeSnapAccount,\n  [SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showNameSnapAccount]:\n    createNamedSnapAccount,\n  [SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showSnapAccountRedirect]:\n    snapAccountRedirect,\n  ///: END:ONLY_INCLUDE_IF\n};\n\nexport const TEMPLATED_CONFIRMATION_APPROVAL_TYPES =\n  Object.keys(APPROVAL_TEMPLATES);\n\nconst ALLOWED_TEMPLATE_KEYS = [\n  'cancelText',\n  'content',\n  'onLoad',\n  'onCancel',\n  'onSubmit',\n  'networkDisplay',\n  'submitText',\n  'loadingText',\n  'hideSubmitButton',\n];\n\n/**\n * @typedef {object} PendingApproval\n * @property {string} id - The randomly generated id of the approval\n * @property {string} origin - The origin of the site requesting this approval\n * @property {number} time - The time the approval was requested\n * @property {string} type - The type of approval being requested\n * @property {object} requestData - The data submitted with the request\n */\n\n/**\n * getTemplateAlerts calls the getAlerts function exported by the template if\n * it exists, and then returns the result of that function. In the confirmation\n * page the alerts returned from the getAlerts method will be set into the\n * alertState state object.\n *\n * @param {object} pendingApproval - the object representing the confirmation\n * @param {object} state - The state object consist of required info to determine alerts.\n */\nexport async function getTemplateAlerts(pendingApproval, state) {\n  const fn = APPROVAL_TEMPLATES[pendingApproval.type]?.getAlerts;\n\n  const results = fn ? await fn(pendingApproval, state) : [];\n  if (!Array.isArray(results)) {\n    throw new Error(`Template alerts must be an array, received: ${results}`);\n  }\n  if (results.some((result) => result?.id === undefined)) {\n    throw new Error(\n      `Template alert entries must be objects with an id key. Received: ${results}`,\n    );\n  }\n  return results;\n}\n\n/**\n * The function call to return state must be a promise returning function\n * this \"NOOP\" is here to conform to the requirements for templates without\n * state.\n */\nasync function emptyState() {\n  return {};\n}\n\n/**\n * getTemplateState calls the getState function exported by the template if\n * it exists, and then returns the result of that function. In the confirmation\n * page the object returned from the getState method will be set into the\n * confirmationState state object. Note, this state is not consumed by the page\n * itself.\n *\n * @param {object} pendingApproval - the object representing the confirmation\n */\nexport async function getTemplateState(pendingApproval) {\n  const fn = APPROVAL_TEMPLATES[pendingApproval.type]?.getState ?? emptyState;\n  const result = await fn(pendingApproval);\n  if (typeof result !== 'object' || Array.isArray(result)) {\n    throw new Error(`Template state must be an object, received: ${result}`);\n  } else if (result === null || result === undefined) {\n    return {};\n  }\n  return result;\n}\n\n/**\n * We do not want to pass the entire dispatch function to the template.\n * This function should return an object of actions that we generally consider\n * to be safe for templates to invoke. In the future we could put these behind\n * permission sets so that snaps that wish to manipulate state must ask for\n * explicit permission to do so.\n *\n * @param {Function} dispatch - Redux dispatch function\n */\nfunction getAttenuatedDispatch(dispatch) {\n  return {\n    rejectPendingApproval: (...args) =>\n      dispatch(rejectPendingApproval(...args)),\n    resolvePendingApproval: (...args) =>\n      dispatch(resolvePendingApproval(...args)),\n    addNetwork: (...args) => dispatch(addNetwork(...args)),\n    setNewNetworkAdded: (...args) => dispatch(setNewNetworkAdded(...args)),\n    deleteInterface: (...args) => dispatch(deleteInterface(...args)),\n  };\n}\n\n/**\n * Returns the templated values to be consumed in the confirmation page\n *\n * @param {object} pendingApproval - The pending confirmation object.\n * @param {Function} t - Translation function.\n * @param {Function} dispatch - Redux dispatch function.\n * @param {object} history - The application's history object.\n * @param {object} data - The data object passed into the template from the confirmation page.\n * @param {object} contexts - Contexts objects passed into the template from the confirmation page.\n */\nexport function getTemplateValues(\n  pendingApproval,\n  t,\n  dispatch,\n  history,\n  data,\n  contexts,\n) {\n  const fn = APPROVAL_TEMPLATES[pendingApproval.type]?.getValues;\n  if (!fn) {\n    throw new Error(\n      `MESSAGE_TYPE: '${pendingApproval.type}' is not specified in approval templates`,\n    );\n  }\n\n  const safeActions = getAttenuatedDispatch(dispatch);\n  const values = fn(pendingApproval, t, safeActions, history, data, contexts);\n  const extraneousKeys = omit(values, ALLOWED_TEMPLATE_KEYS);\n  const safeValues = pick(values, ALLOWED_TEMPLATE_KEYS);\n  if (extraneousKeys.length > 0) {\n    throw new Error(\n      `Received extraneous keys from ${\n        pendingApproval.type\n      }.getValues. These keys are not passed to the confirmation page: ${Object.keys(\n        extraneousKeys,\n      )}`,\n    );\n  }\n  return safeValues;\n}\n","import {\n  MetaMetricsEventCategory,\n  MetaMetricsEventName,\n  MetaMetricsEventAccountType,\n} from '../../../../../shared/constants/metametrics';\n\nfunction getValues(pendingApproval, t, actions, _history, _data, contexts) {\n  const { origin: snapId, snapName } = pendingApproval;\n  const { publicAddress } = pendingApproval.requestData;\n  const { trackEvent } = contexts;\n\n  const trackSnapAccountEvent = (event) => {\n    trackEvent({\n      event,\n      category: MetaMetricsEventCategory.Accounts,\n      properties: {\n        account_type: MetaMetricsEventAccountType.Snap,\n        snap_id: snapId,\n        snap_name: snapName,\n      },\n    });\n  };\n\n  const onCancel = () => {\n    trackSnapAccountEvent(MetaMetricsEventName.RemoveSnapAccountCanceled);\n    actions.resolvePendingApproval(pendingApproval.id, false);\n  };\n\n  return {\n    content: [\n      {\n        element: 'RemoveSnapAccount',\n        key: 'remove-snap-account',\n        props: {\n          snapId,\n          snapName,\n          publicAddress,\n          onCancel,\n        },\n      },\n    ],\n    cancelText: t('cancel'),\n    submitText: t('remove'),\n    onLoad: () =>\n      trackSnapAccountEvent(MetaMetricsEventName.RemoveSnapAccountViewed),\n    onSubmit: () => {\n      trackSnapAccountEvent(MetaMetricsEventName.RemoveSnapAccountConfirmed);\n      actions.resolvePendingApproval(pendingApproval.id, true);\n    },\n    onCancel,\n  };\n}\n\nconst removeSnapAccount = {\n  getValues,\n};\n\nexport default removeSnapAccount;\n","// eslint-disable-next-line no-unused-vars\nfunction getValues(pendingApproval, t, actions, _history) {\n  const { id, requestState } = pendingApproval;\n  return {\n    content: [\n      {\n        element: 'SmartTransactionStatusPage',\n        key: 'smart-transaction-status-page',\n        props: {\n          requestState,\n          onCloseExtension: () => {\n            actions.resolvePendingApproval(id, true);\n          },\n          onViewActivity: () => {\n            actions.resolvePendingApproval(id, true);\n          },\n        },\n      },\n    ],\n    hideSubmitButton: true,\n  };\n}\n\nconst smartTransactionStatusPage = {\n  getValues,\n};\n\nexport default smartTransactionStatusPage;\n","import {\n  MetaMetricsEventCategory,\n  MetaMetricsEventName,\n  MetaMetricsEventAccountType,\n} from '../../../../../shared/constants/metametrics';\n\nfunction getValues(pendingApproval, t, actions, _history, _data, contexts) {\n  const { origin: snapId, snapName } = pendingApproval;\n  const { url, message, isBlockedUrl } = pendingApproval.requestData;\n  const { trackEvent } = contexts;\n\n  const trackSnapAccountEvent = (event) => {\n    trackEvent({\n      event,\n      category: MetaMetricsEventCategory.Transactions,\n      properties: {\n        account_type: MetaMetricsEventAccountType.Snap,\n        snap_id: snapId,\n        snap_name: snapName,\n      },\n    });\n  };\n\n  const hasValidNonBlockedUrl = () => {\n    return (\n      url !== undefined &&\n      url !== null &&\n      url.length > 0 &&\n      isBlockedUrl === false\n    );\n  };\n\n  // We can only submit if the URL is valid and non-blocked\n  const onSubmit = (event) => {\n    return hasValidNonBlockedUrl()\n      ? {\n          submitText: t('goToSite'),\n          onSubmit: () => {\n            trackSnapAccountEvent(event);\n            actions.resolvePendingApproval(pendingApproval.id, true);\n          },\n        }\n      : {};\n  };\n\n  return {\n    content: [\n      {\n        element: 'SnapAccountRedirect',\n        key: 'snap-account-redirect',\n        props: {\n          url,\n          message,\n          snapId,\n          snapName,\n          isBlockedUrl,\n          ...onSubmit(\n            MetaMetricsEventName.SnapAccountTransactionFinalizeRedirectSnapUrlClicked,\n          ),\n        },\n      },\n    ],\n    cancelText: t('close'),\n    onLoad: () =>\n      trackSnapAccountEvent(\n        MetaMetricsEventName.SnapAccountTransactionFinalizeViewed,\n      ),\n    onCancel: () => {\n      trackSnapAccountEvent(\n        MetaMetricsEventName.SnapAccountTransactionFinalizeClosed,\n      );\n      actions.resolvePendingApproval(pendingApproval.id, false);\n    },\n    ...onSubmit(\n      MetaMetricsEventName.SnapAccountTransactionFinalizeRedirectGoToSiteClicked,\n    ),\n  };\n}\n\nconst createSnapAccount = {\n  getValues,\n};\n\nexport default createSnapAccount;\n","function getValues(pendingApproval, t, actions) {\n  const {\n    requestData: { id },\n  } = pendingApproval;\n  return {\n    submitText: t('ok').toUpperCase(),\n    onSubmit: () => {\n      actions.resolvePendingApproval(pendingApproval.id, null);\n      actions.deleteInterface(id);\n    },\n  };\n}\n\nconst snapAlert = {\n  getValues,\n};\n\nexport default snapAlert;\n","function getValues(pendingApproval, t, actions) {\n  const {\n    requestData: { id },\n  } = pendingApproval;\n  return {\n    cancelText: t('reject'),\n    submitText: t('approveButtonText'),\n    onSubmit: () => {\n      actions.resolvePendingApproval(pendingApproval.id, true);\n      actions.deleteInterface(id);\n    },\n    onCancel: () => {\n      actions.resolvePendingApproval(pendingApproval.id, false);\n      actions.deleteInterface(id);\n    },\n  };\n}\n\nconst snapConfirmation = {\n  getValues,\n};\n\nexport default snapConfirmation;\n","function getValues(pendingApproval, _t, actions) {\n  const {\n    requestData: { id },\n  } = pendingApproval;\n  return {\n    onCancel: () => {\n      actions.resolvePendingApproval(pendingApproval.id, null);\n      actions.deleteInterface(id);\n    },\n  };\n}\n\nconst snapDefault = {\n  getValues,\n};\n\nexport default snapDefault;\n","function getValues(pendingApproval, t, actions) {\n  const {\n    requestData: { id },\n  } = pendingApproval;\n  return {\n    cancelText: t('cancel'),\n    submitText: t('submit'),\n    onSubmit: (inputValue) => {\n      actions.resolvePendingApproval(pendingApproval.id, inputValue);\n      actions.deleteInterface(id);\n    },\n    onCancel: () => {\n      actions.resolvePendingApproval(pendingApproval.id, null);\n      actions.deleteInterface(id);\n    },\n  };\n}\n\nconst snapConfirm = {\n  getValues,\n};\n\nexport default snapConfirm;\n","import { ApprovalType } from '@metamask/controller-utils';\nimport { ResultTemplate } from '../ResultTemplate';\n\nconst template = new ResultTemplate(ApprovalType.ResultSuccess);\nconst success = { getValues: template.getValues.bind(template) };\n\nexport default success;\n","import { ethErrors } from 'eth-rpc-errors';\nimport {\n  JustifyContent,\n  SEVERITIES,\n  TextColor,\n  TypographyVariant,\n} from '../../../../helpers/constants/design-system';\n\nconst PENDING_TX_DROP_NOTICE = {\n  id: 'PENDING_TX_DROP_NOTICE',\n  severity: SEVERITIES.WARNING,\n  content: {\n    element: 'span',\n    children: {\n      element: 'MetaMaskTranslation',\n      props: {\n        translationKey: 'switchingNetworksCancelsPendingConfirmations',\n      },\n    },\n  },\n};\n\nasync function getAlerts(_pendingApproval, state) {\n  const alerts = [];\n  if (state.unapprovedTxsCount > 0) {\n    alerts.push(PENDING_TX_DROP_NOTICE);\n  }\n  return alerts;\n}\n\nfunction getValues(pendingApproval, t, actions) {\n  return {\n    content: [\n      {\n        element: 'Typography',\n        key: 'title',\n        children: t('switchEthereumChainConfirmationTitle'),\n        props: {\n          variant: TypographyVariant.H3,\n          align: 'center',\n          fontWeight: 'normal',\n          boxProps: {\n            margin: [0, 0, 2],\n            padding: [0, 4, 0, 4],\n          },\n        },\n      },\n      {\n        element: 'Typography',\n        key: 'description',\n        children: t('switchEthereumChainConfirmationDescription'),\n        props: {\n          variant: TypographyVariant.H7,\n          color: TextColor.textAlternative,\n          align: 'center',\n          boxProps: {\n            padding: [0, 4, 0, 4],\n          },\n        },\n      },\n      {\n        element: 'Box',\n        key: 'status-box',\n        props: {\n          justifyContent: JustifyContent.center,\n        },\n        children: {\n          element: 'ConfirmationNetworkSwitch',\n          key: 'network-being-switched',\n          props: {\n            toNetwork: pendingApproval.requestData.toNetworkConfiguration,\n            fromNetwork: pendingApproval.requestData.fromNetworkConfiguration,\n          },\n        },\n      },\n    ],\n    cancelText: t('cancel'),\n    submitText: t('switchNetwork'),\n    onSubmit: () =>\n      actions.resolvePendingApproval(\n        pendingApproval.id,\n        pendingApproval.requestData.toNetworkConfiguration,\n      ),\n\n    onCancel: () =>\n      actions.rejectPendingApproval(\n        pendingApproval.id,\n        ethErrors.provider.userRejectedRequest().serialize(),\n      ),\n    networkDisplay: true,\n  };\n}\n\nconst switchEthereumChain = {\n  getAlerts,\n  getValues,\n};\n\nexport default switchEthereumChain;\n","import { ResultComponent } from '@metamask/approval-controller';\n\nexport type TemplateRendererComponent = {\n  key: string;\n  element: string;\n  props?: Record<string, unknown>;\n  children?:\n    | string\n    | TemplateRendererComponent\n    | (undefined | string | TemplateRendererComponent)[];\n};\n\n/**\n * Processes an error message or ResultComponent and returns a TemplateRendererComponent\n * or an array of strings | TemplateRendererComponents.\n *\n * @param input - The message or component to process.\n * @param fallback - The fallback message to use when the input is not valid.\n * @returns The processed error component.\n */\nexport function processError(\n  input: undefined | string | ResultComponent | ResultComponent[],\n  fallback: string,\n): TemplateRendererComponent | (string | TemplateRendererComponent)[] {\n  const currentInput = convertResultComponents(input) || fallback;\n\n  if (typeof currentInput !== 'string') {\n    return currentInput;\n  }\n\n  return {\n    key: 'error',\n    element: 'ActionableMessage',\n    props: { type: 'danger', message: currentInput },\n  };\n}\n\n/**\n * Processes a string or ResultComponent and returns a string or TemplateRendererComponent\n * or an array of strings | TemplateRendererComponents.\n *\n * @param input - The message or component to process.\n * @param fallback - The fallback string to use when the input is not valid.\n * @returns The processed message.\n */\nexport function processString(\n  input: undefined | string | ResultComponent | ResultComponent[],\n  fallback: string,\n): TemplateRendererComponent | (string | TemplateRendererComponent)[] {\n  const currentInput = convertResultComponents(input) || fallback;\n\n  if (typeof currentInput !== 'string') {\n    return currentInput;\n  }\n\n  return applyBold(currentInput);\n}\n\n/**\n * Processes a header configuration and returns a value compatible with the template renderer.\n *\n * @param header - The header configuration to process.\n * @returns The processed header.\n */\nexport function processHeader(\n  header: (string | ResultComponent)[] | undefined,\n) {\n  return convertResultComponents(header) as\n    | undefined\n    | (string | TemplateRendererComponent)[];\n}\n\n/**\n * Applies bold formatting to the message.\n *\n * @param message - The input message to apply bold formatting to.\n * @returns The formatted message.\n */\nfunction applyBold(message: string): (string | TemplateRendererComponent)[] {\n  const boldPattern = /\\*\\*(.+?)\\*\\*/gu;\n\n  return findMarkdown(message, boldPattern, (formattedText, index) => ({\n    key: `bold-${index}`,\n    element: 'b',\n    children: formattedText,\n  }));\n}\n\n/**\n * Finds and formats markdown elements in the given text.\n *\n * @param text - The input text to search for markdown elements.\n * @param pattern - The pattern to match the markdown elements.\n * @param getElement - The callback function to create the formatted elements.\n * @returns The array of formatted elements.\n */\nfunction findMarkdown(\n  text: string,\n  pattern: RegExp,\n  getElement: (\n    formattedText: string,\n    index: number,\n  ) => TemplateRendererComponent,\n): (string | TemplateRendererComponent)[] {\n  let position = 0;\n  let index = 0;\n\n  const matches = Array.from(text.matchAll(pattern));\n  const elements = [];\n\n  for (const match of matches) {\n    const rawText = text.substring(position, match.index);\n\n    if (rawText.length) {\n      elements.push(rawText);\n    }\n\n    const formattedText = match[1];\n    const formattedElement = getElement(formattedText, index);\n\n    elements.push(formattedElement);\n\n    position = (match.index as number) + match[0].length;\n    index += 1;\n  }\n\n  const finalRawText = text.substring(position);\n\n  if (finalRawText.length) {\n    elements.push(finalRawText);\n  }\n\n  return elements;\n}\n\nfunction convertResultComponents(\n  input: undefined | string | ResultComponent | (string | ResultComponent)[],\n):\n  | undefined\n  | string\n  | TemplateRendererComponent\n  | (string | TemplateRendererComponent)[] {\n  if (input === undefined) {\n    return undefined;\n  }\n\n  if (typeof input === 'string') {\n    return input;\n  }\n\n  if (Array.isArray(input)) {\n    return input.map(convertResultComponents) as (\n      | string\n      | TemplateRendererComponent\n    )[];\n  }\n\n  return {\n    key: input.key,\n    element: input.name,\n    props: input.properties,\n    children: convertResultComponents(input.children),\n  };\n}\n","import { CHAINLIST_CHAIN_IDS_MAP } from '../../../../shared/constants/network';\n\nexport const IGNORE_GAS_LIMIT_CHAIN_IDS = [CHAINLIST_CHAIN_IDS_MAP.MANTLE];\n\nexport const TYPED_SIGNATURE_VERSIONS = {\n  V1: 'V1',\n  V3: 'V3',\n  V4: 'V4',\n};\n\nexport const SPENDING_CAP_UNLIMITED_MSG = 'UNLIMITED MESSAGE';\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar bcUrRegistry = require('@keystonehq/bc-ur-registry');\nvar uuid = require('uuid');\nvar HDKey = _interopDefault(require('hdkey'));\nvar util = require('@ethereumjs/util');\n\nconst ExtendedRegistryTypes = {\n  ETH_SIGN_REQUEST: /*#__PURE__*/new bcUrRegistry.RegistryType(\"eth-sign-request\", 401),\n  ETH_SIGNATURE: /*#__PURE__*/new bcUrRegistry.RegistryType(\"eth-signature\", 402),\n  ETH_NFT_ITEM: /*#__PURE__*/new bcUrRegistry.RegistryType(\"eth-nft-item\", 403)\n};\n\nconst {\n  decodeToDataItem,\n  RegistryTypes\n} = bcUrRegistry.extend;\nvar Keys;\n\n(function (Keys) {\n  Keys[Keys[\"requestId\"] = 1] = \"requestId\";\n  Keys[Keys[\"signData\"] = 2] = \"signData\";\n  Keys[Keys[\"dataType\"] = 3] = \"dataType\";\n  Keys[Keys[\"chainId\"] = 4] = \"chainId\";\n  Keys[Keys[\"derivationPath\"] = 5] = \"derivationPath\";\n  Keys[Keys[\"address\"] = 6] = \"address\";\n  Keys[Keys[\"origin\"] = 7] = \"origin\";\n})(Keys || (Keys = {}));\n\n(function (DataType) {\n  DataType[DataType[\"transaction\"] = 1] = \"transaction\";\n  DataType[DataType[\"typedData\"] = 2] = \"typedData\";\n  DataType[DataType[\"personalMessage\"] = 3] = \"personalMessage\";\n  DataType[DataType[\"typedTransaction\"] = 4] = \"typedTransaction\";\n})(exports.DataType || (exports.DataType = {}));\n\nclass EthSignRequest extends bcUrRegistry.RegistryItem {\n  constructor(args) {\n    super();\n\n    this.getRegistryType = () => ExtendedRegistryTypes.ETH_SIGN_REQUEST;\n\n    this.getRequestId = () => this.requestId;\n\n    this.getSignData = () => this.signData;\n\n    this.getDataType = () => this.dataType;\n\n    this.getChainId = () => this.chainId;\n\n    this.getDerivationPath = () => this.derivationPath.getPath();\n\n    this.getSourceFingerprint = () => this.derivationPath.getSourceFingerprint();\n\n    this.getSignRequestAddress = () => this.address;\n\n    this.getOrigin = () => this.origin;\n\n    this.toDataItem = () => {\n      const map = {};\n\n      if (this.requestId) {\n        map[Keys.requestId] = new bcUrRegistry.DataItem(this.requestId, RegistryTypes.UUID.getTag());\n      }\n\n      if (this.address) {\n        map[Keys.address] = this.address;\n      }\n\n      if (this.chainId) {\n        map[Keys.chainId] = Number(this.chainId);\n      }\n\n      if (this.origin) {\n        map[Keys.origin] = this.origin;\n      }\n\n      map[Keys.signData] = this.signData;\n      map[Keys.dataType] = this.dataType;\n      const keyPath = this.derivationPath.toDataItem();\n      keyPath.setTag(this.derivationPath.getRegistryType().getTag());\n      map[Keys.derivationPath] = keyPath;\n      return new bcUrRegistry.DataItem(map);\n    };\n\n    this.requestId = args.requestId;\n    this.signData = args.signData;\n    this.dataType = args.dataType;\n    this.chainId = args.chainId;\n    this.derivationPath = args.derivationPath;\n    this.address = args.address;\n    this.origin = args.origin;\n  }\n\n  static constructETHRequest(signData, signDataType, hdPath, xfp, uuidString, chainId, address, origin) {\n    const paths = hdPath.replace(/[m|M]\\//, \"\").split(\"/\");\n    const hdpathObject = new bcUrRegistry.CryptoKeypath(paths.map(path => {\n      const index = parseInt(path.replace(\"'\", \"\"));\n      let isHardened = false;\n\n      if (path.endsWith(\"'\")) {\n        isHardened = true;\n      }\n\n      return new bcUrRegistry.PathComponent({\n        index,\n        hardened: isHardened\n      });\n    }), Buffer.from(xfp, \"hex\"));\n    return new EthSignRequest({\n      requestId: uuidString ? Buffer.from(uuid.parse(uuidString)) : undefined,\n      signData,\n      dataType: signDataType,\n      derivationPath: hdpathObject,\n      chainId,\n      address: address ? Buffer.from(address.replace(\"0x\", \"\"), \"hex\") : undefined,\n      origin: origin || undefined\n    });\n  }\n\n}\n\nEthSignRequest.fromDataItem = dataItem => {\n  const map = dataItem.getData();\n  const signData = map[Keys.signData];\n  const dataType = map[Keys.dataType];\n  const derivationPath = bcUrRegistry.CryptoKeypath.fromDataItem(map[Keys.derivationPath]);\n  const chainId = map[Keys.chainId] ? map[Keys.chainId] : undefined;\n  const address = map[Keys.address] ? map[Keys.address] : undefined;\n  const requestId = map[Keys.requestId] ? map[Keys.requestId].getData() : undefined;\n  const origin = map[Keys.origin] ? map[Keys.origin] : undefined;\n  return new EthSignRequest({\n    requestId,\n    signData,\n    dataType,\n    chainId,\n    derivationPath,\n    address,\n    origin\n  });\n};\n\nEthSignRequest.fromCBOR = _cborPayload => {\n  const dataItem = decodeToDataItem(_cborPayload);\n  return EthSignRequest.fromDataItem(dataItem);\n};\n\nconst {\n  RegistryTypes: RegistryTypes$1,\n  decodeToDataItem: decodeToDataItem$1\n} = bcUrRegistry.extend;\nvar Keys$1;\n\n(function (Keys) {\n  Keys[Keys[\"requestId\"] = 1] = \"requestId\";\n  Keys[Keys[\"signature\"] = 2] = \"signature\";\n  Keys[Keys[\"origin\"] = 3] = \"origin\";\n})(Keys$1 || (Keys$1 = {}));\n\nclass ETHSignature extends bcUrRegistry.RegistryItem {\n  constructor(signature, requestId, origin) {\n    super();\n\n    this.getRegistryType = () => ExtendedRegistryTypes.ETH_SIGNATURE;\n\n    this.getRequestId = () => this.requestId;\n\n    this.getSignature = () => this.signature;\n\n    this.getOrigin = () => this.origin;\n\n    this.toDataItem = () => {\n      const map = {};\n\n      if (this.requestId) {\n        map[Keys$1.requestId] = new bcUrRegistry.DataItem(this.requestId, RegistryTypes$1.UUID.getTag());\n      }\n\n      if (this.origin) map[Keys$1.origin] = this.origin;\n      map[Keys$1.signature] = this.signature;\n      return new bcUrRegistry.DataItem(map);\n    };\n\n    this.signature = signature;\n    this.requestId = requestId;\n    this.origin = origin;\n  }\n\n}\n\nETHSignature.fromDataItem = dataItem => {\n  const map = dataItem.getData();\n  const signature = map[Keys$1.signature];\n  const requestId = map[Keys$1.requestId] ? map[Keys$1.requestId].getData() : undefined;\n  return new ETHSignature(signature, requestId, map[Keys$1.origin]);\n};\n\nETHSignature.fromCBOR = _cborPayload => {\n  const dataItem = decodeToDataItem$1(_cborPayload);\n  return ETHSignature.fromDataItem(dataItem);\n};\n\nconst {\n  decodeToDataItem: decodeToDataItem$2\n} = bcUrRegistry.extend;\nvar Keys$2;\n\n(function (Keys) {\n  Keys[Keys[\"chainId\"] = 1] = \"chainId\";\n  Keys[Keys[\"contractAddress\"] = 2] = \"contractAddress\";\n  Keys[Keys[\"contractName\"] = 3] = \"contractName\";\n  Keys[Keys[\"name\"] = 4] = \"name\";\n  Keys[Keys[\"mediaData\"] = 5] = \"mediaData\";\n})(Keys$2 || (Keys$2 = {}));\n\nclass ETHNFTItem extends bcUrRegistry.RegistryItem {\n  constructor(args) {\n    super();\n\n    this.getRegistryType = () => ExtendedRegistryTypes.ETH_NFT_ITEM;\n\n    this.getChainId = () => this.chainId;\n\n    this.getName = () => this.name;\n\n    this.getmediaData = () => this.mediaData;\n\n    this.getContractAddress = () => this.contractAddress;\n\n    this.getContractName = () => this.contractName;\n\n    this.toDataItem = () => {\n      const map = {};\n      map[Keys$2.chainId] = this.chainId;\n      map[Keys$2.name] = this.name;\n      map[Keys$2.contractAddress] = this.contractAddress;\n      map[Keys$2.contractName] = this.contractName;\n      map[Keys$2.mediaData] = this.mediaData;\n      return new bcUrRegistry.DataItem(map);\n    };\n\n    this.chainId = args.chainId;\n    this.name = args.name;\n    this.contractAddress = args.contractAddress;\n    this.contractName = args.contractName;\n    this.mediaData = args.mediaData; // remove the data perfix for android usage\n  }\n\n  static constructETHNFTItem(chainId, contractAddress, contractName, name, mediaData) {\n    return new ETHNFTItem({\n      chainId,\n      contractAddress,\n      contractName,\n      mediaData,\n      name\n    });\n  }\n\n}\n\nETHNFTItem.fromDataItem = dataItem => {\n  const map = dataItem.getData();\n  const chainId = map[Keys$2.chainId];\n  const name = map[Keys$2.name];\n  const mediaData = map[Keys$2.mediaData];\n  const contractAddress = map[Keys$2.contractAddress];\n  const contractName = map[Keys$2.contractName];\n  return new ETHNFTItem({\n    chainId,\n    name,\n    contractAddress,\n    contractName,\n    mediaData\n  });\n};\n\nETHNFTItem.fromCBOR = _cborPayload => {\n  const dataItem = decodeToDataItem$2(_cborPayload);\n  return ETHNFTItem.fromDataItem(dataItem);\n};\n\n// @ts-ignore\nconst generateAddressFromXpub = (xpub, derivePath) => {\n  // @ts-ignore\n  const node = HDKey.fromExtendedKey(xpub);\n  const publicKey = node.derive(derivePath);\n  const address = \"0x\" + util.publicToAddress(publicKey.publicKey, true).toString(\"hex\");\n  return util.toChecksumAddress(address);\n};\nconst findHDPathFromAddress = (address, xpub, numberLimit, rootPath) => {\n  for (let i = 0; i < numberLimit; i++) {\n    const path = `M/0/${i}`;\n\n    const _address = generateAddressFromXpub(xpub, path);\n\n    if (address.toLowerCase() == _address.toLowerCase()) {\n      return `${rootPath}/0/${i}`;\n    }\n  }\n\n  return null;\n};\n\nbcUrRegistry.patchTags(Object.values(ExtendedRegistryTypes).filter(rt => !!rt.getTag()).map(rt => rt.getTag()));\n\nObject.keys(bcUrRegistry).forEach(function (k) {\n  if (k !== 'default') Object.defineProperty(exports, k, {\n    enumerable: true,\n    get: function () {\n      return bcUrRegistry[k];\n    }\n  });\n});\nexports.ETHNFTItem = ETHNFTItem;\nexports.ETHSignature = ETHSignature;\nexports.EthSignRequest = EthSignRequest;\nexports.findHDPathFromAddress = findHDPathFromAddress;\nexports.generateAddressFromXpub = generateAddressFromXpub;\n//# sourceMappingURL=bc-ur-registry-eth.cjs.development.js.map\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var t,e=require(\"@keystonehq/bc-ur-registry\"),a=require(\"uuid\"),s=(t=require(\"hdkey\"))&&\"object\"==typeof t&&\"default\"in t?t.default:t,i=require(\"@ethereumjs/util\");const r={ETH_SIGN_REQUEST:new e.RegistryType(\"eth-sign-request\",401),ETH_SIGNATURE:new e.RegistryType(\"eth-signature\",402),ETH_NFT_ITEM:new e.RegistryType(\"eth-nft-item\",403)},{decodeToDataItem:n,RegistryTypes:d}=e.extend;var o,h;!function(t){t[t.requestId=1]=\"requestId\",t[t.signData=2]=\"signData\",t[t.dataType=3]=\"dataType\",t[t.chainId=4]=\"chainId\",t[t.derivationPath=5]=\"derivationPath\",t[t.address=6]=\"address\",t[t.origin=7]=\"origin\"}(o||(o={})),(h=exports.DataType||(exports.DataType={}))[h.transaction=1]=\"transaction\",h[h.typedData=2]=\"typedData\",h[h.personalMessage=3]=\"personalMessage\",h[h.typedTransaction=4]=\"typedTransaction\";class c extends e.RegistryItem{constructor(t){super(),this.getRegistryType=()=>r.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const t={};this.requestId&&(t[o.requestId]=new e.DataItem(this.requestId,d.UUID.getTag())),this.address&&(t[o.address]=this.address),this.chainId&&(t[o.chainId]=Number(this.chainId)),this.origin&&(t[o.origin]=this.origin),t[o.signData]=this.signData,t[o.dataType]=this.dataType;const a=this.derivationPath.toDataItem();return a.setTag(this.derivationPath.getRegistryType().getTag()),t[o.derivationPath]=a,new e.DataItem(t)},this.requestId=t.requestId,this.signData=t.signData,this.dataType=t.dataType,this.chainId=t.chainId,this.derivationPath=t.derivationPath,this.address=t.address,this.origin=t.origin}static constructETHRequest(t,s,i,r,n,d,o,h){const g=i.replace(/[m|M]\\//,\"\").split(\"/\"),u=new e.CryptoKeypath(g.map(t=>{const a=parseInt(t.replace(\"'\",\"\"));let s=!1;return t.endsWith(\"'\")&&(s=!0),new e.PathComponent({index:a,hardened:s})}),Buffer.from(r,\"hex\"));return new c({requestId:n?Buffer.from(a.parse(n)):void 0,signData:t,dataType:s,derivationPath:u,chainId:d,address:o?Buffer.from(o.replace(\"0x\",\"\"),\"hex\"):void 0,origin:h||void 0})}}c.fromDataItem=t=>{const a=t.getData(),s=a[o.signData],i=a[o.dataType],r=e.CryptoKeypath.fromDataItem(a[o.derivationPath]),n=a[o.chainId]?a[o.chainId]:void 0,d=a[o.address]?a[o.address]:void 0,h=a[o.requestId]?a[o.requestId].getData():void 0;return new c({requestId:h,signData:s,dataType:i,chainId:n,derivationPath:r,address:d,origin:a[o.origin]?a[o.origin]:void 0})},c.fromCBOR=t=>{const e=n(t);return c.fromDataItem(e)};const{RegistryTypes:g,decodeToDataItem:u}=e.extend;var m;!function(t){t[t.requestId=1]=\"requestId\",t[t.signature=2]=\"signature\",t[t.origin=3]=\"origin\"}(m||(m={}));class I extends e.RegistryItem{constructor(t,a,s){super(),this.getRegistryType=()=>r.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const t={};return this.requestId&&(t[m.requestId]=new e.DataItem(this.requestId,g.UUID.getTag())),this.origin&&(t[m.origin]=this.origin),t[m.signature]=this.signature,new e.DataItem(t)},this.signature=t,this.requestId=a,this.origin=s}}I.fromDataItem=t=>{const e=t.getData(),a=e[m.signature],s=e[m.requestId]?e[m.requestId].getData():void 0;return new I(a,s,e[m.origin])},I.fromCBOR=t=>{const e=u(t);return I.fromDataItem(e)};const{decodeToDataItem:p}=e.extend;var D;!function(t){t[t.chainId=1]=\"chainId\",t[t.contractAddress=2]=\"contractAddress\",t[t.contractName=3]=\"contractName\",t[t.name=4]=\"name\",t[t.mediaData=5]=\"mediaData\"}(D||(D={}));class T extends e.RegistryItem{constructor(t){super(),this.getRegistryType=()=>r.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const t={};return t[D.chainId]=this.chainId,t[D.name]=this.name,t[D.contractAddress]=this.contractAddress,t[D.contractName]=this.contractName,t[D.mediaData]=this.mediaData,new e.DataItem(t)},this.chainId=t.chainId,this.name=t.name,this.contractAddress=t.contractAddress,this.contractName=t.contractName,this.mediaData=t.mediaData}static constructETHNFTItem(t,e,a,s,i){return new T({chainId:t,contractAddress:e,contractName:a,mediaData:i,name:s})}}T.fromDataItem=t=>{const e=t.getData();return new T({chainId:e[D.chainId],name:e[D.name],contractAddress:e[D.contractAddress],contractName:e[D.contractName],mediaData:e[D.mediaData]})},T.fromCBOR=t=>{const e=p(t);return T.fromDataItem(e)};const y=(t,e)=>{const a=s.fromExtendedKey(t).derive(e),r=\"0x\"+i.publicToAddress(a.publicKey,!0).toString(\"hex\");return i.toChecksumAddress(r)};e.patchTags(Object.values(r).filter(t=>!!t.getTag()).map(t=>t.getTag())),Object.keys(e).forEach((function(t){\"default\"!==t&&Object.defineProperty(exports,t,{enumerable:!0,get:function(){return e[t]}})})),exports.ETHNFTItem=T,exports.ETHSignature=I,exports.EthSignRequest=c,exports.findHDPathFromAddress=(t,e,a,s)=>{for(let i=0;i<a;i++){const a=y(e,\"M/0/\"+i);if(t.toLowerCase()==a.toLowerCase())return`${s}/0/${i}`}return null},exports.generateAddressFromXpub=y;\n//# sourceMappingURL=bc-ur-registry-eth.cjs.production.min.js.map\n","\n'use strict'\n\nif (\"production\" === 'production') {\n  module.exports = require('./bc-ur-registry-eth.cjs.production.min.js')\n} else {\n  module.exports = require('./bc-ur-registry-eth.cjs.development.js')\n}\n","import { ApprovalType } from '@metamask/controller-utils';\n\nimport { createSelector } from 'reselect';\nimport { getPendingApprovals } from '../../../selectors/approvals';\nimport { ConfirmMetamaskState } from '../types/confirm';\nimport { createDeepEqualSelector } from '../../../selectors/util';\nimport { getPreferences } from '../../../selectors/selectors';\n\nconst ConfirmationApprovalTypes = [\n  ApprovalType.PersonalSign,\n  ApprovalType.EthSignTypedData,\n  ApprovalType.Transaction,\n];\n\nexport function pendingConfirmationsSelector(state: ConfirmMetamaskState) {\n  return getPendingApprovals(state).filter(({ type }) =>\n    ConfirmationApprovalTypes.includes(type as ApprovalType),\n  );\n}\n\nexport function pendingConfirmationsSortedSelector(\n  state: ConfirmMetamaskState,\n) {\n  return getPendingApprovals(state)\n    .filter(({ type }) =>\n      ConfirmationApprovalTypes.includes(type as ApprovalType),\n    )\n    .sort((a1, a2) => a1.time - a2.time);\n}\n\nconst internalLatestPendingConfirmationSelector = createSelector(\n  pendingConfirmationsSortedSelector,\n  (pendingConfirmations) =>\n    pendingConfirmations.sort((a1, a2) => a2.time - a1.time)[0],\n);\n\nexport const latestPendingConfirmationSelector = createDeepEqualSelector(\n  internalLatestPendingConfirmationSelector,\n  (latestPendingConfirmation) => latestPendingConfirmation,\n);\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getIsRedesignedConfirmationsDeveloperEnabled(state: any) {\n  return getPreferences(state).isRedesignedConfirmationsDeveloperEnabled;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Bytes = void 0;\nconst lib_1 = require(\"./lib\");\nconst RegistryItem_1 = require(\"./RegistryItem\");\nconst RegistryType_1 = require(\"./RegistryType\");\nclass Bytes extends RegistryItem_1.RegistryItem {\n    constructor(bytes) {\n        super();\n        this.bytes = bytes;\n        this.getRegistryType = () => {\n            return RegistryType_1.RegistryTypes.BYTES;\n        };\n        this.getData = () => this.bytes;\n        this.toDataItem = () => {\n            return new lib_1.DataItem(this.bytes);\n        };\n    }\n}\nexports.Bytes = Bytes;\nBytes.fromDataItem = (dataItem) => {\n    const bytes = dataItem.getData();\n    if (!bytes) {\n        throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${dataItem}`);\n    }\n    return new Bytes(bytes);\n};\nBytes.fromCBOR = (_cborPayload) => {\n    const dataItem = (0, lib_1.decodeToDataItem)(_cborPayload);\n    return Bytes.fromDataItem(dataItem);\n};\n//# sourceMappingURL=Bytes.js.map","import { MIN_GAS_LIMIT_HEX } from '../../../../shared/constants/gas';\nimport { Numeric } from '../../../../shared/modules/Numeric';\nimport { EtherDenomination } from '../../../../shared/constants/common';\n\nconst MIN_GAS_PRICE_DEC = '0';\nconst MIN_GAS_PRICE_HEX = parseInt(MIN_GAS_PRICE_DEC, 10).toString(16);\nconst MIN_GAS_LIMIT_DEC = new Numeric('21000', 10);\nconst MAX_GAS_LIMIT_DEC = '7920027';\n\nconst HIGH_FEE_WARNING_MULTIPLIER = 1.5;\nconst MIN_GAS_PRICE_GWEI = new Numeric(\n  MIN_GAS_PRICE_HEX,\n  16,\n  EtherDenomination.WEI,\n)\n  .toDenomination(EtherDenomination.GWEI)\n  .round(1)\n  .toPrefixedHexString();\n\nconst MIN_GAS_TOTAL = new Numeric(MIN_GAS_LIMIT_HEX, 16)\n  .times(new Numeric(MIN_GAS_PRICE_HEX, 16, EtherDenomination.WEI))\n  .toPrefixedHexString();\n\nconst TOKEN_TRANSFER_FUNCTION_SIGNATURE = '0xa9059cbb';\nconst NFT_TRANSFER_FROM_FUNCTION_SIGNATURE = '0x23b872dd';\nconst NFT_SAFE_TRANSFER_FROM_FUNCTION_SIGNATURE = '0xf242432a';\n\nconst INSUFFICIENT_FUNDS_ERROR = 'insufficientFunds';\nconst INSUFFICIENT_FUNDS_FOR_GAS_ERROR = 'insufficientFundsForGas';\nconst INSUFFICIENT_TOKENS_ERROR = 'insufficientTokens';\nconst NEGATIVE_ETH_ERROR = 'negativeETH';\nconst NEGATIVE_OR_ZERO_AMOUNT_TOKENS_ERROR = 'negativeOrZeroAmountToken';\nconst FLOAT_TOKENS_ERROR = 'floatAmountToken';\nconst INVALID_RECIPIENT_ADDRESS_ERROR = 'invalidAddressRecipient';\nconst REQUIRED_ERROR = 'required';\nconst KNOWN_RECIPIENT_ADDRESS_WARNING = 'knownAddressRecipient';\nconst CONTRACT_ADDRESS_ERROR = 'contractAddressError';\nconst CONFUSING_ENS_ERROR = 'confusingEnsDomain';\nconst ENS_UNKNOWN_ERROR = 'ensUnknownError';\nconst NO_RESOLUTION_FOR_DOMAIN = 'noDomainResolution';\nconst SWAPS_NO_QUOTES = 'swapQuotesNotAvailableErrorTitle';\nconst SWAPS_QUOTES_ERROR = 'swapFetchingQuotesErrorTitle';\n\nconst RECIPIENT_TYPES = {\n  SMART_CONTRACT: 'SMART_CONTRACT',\n  NON_CONTRACT: 'NON_CONTRACT',\n};\n\nexport {\n  MAX_GAS_LIMIT_DEC,\n  HIGH_FEE_WARNING_MULTIPLIER,\n  INSUFFICIENT_FUNDS_ERROR,\n  INSUFFICIENT_FUNDS_FOR_GAS_ERROR,\n  INSUFFICIENT_TOKENS_ERROR,\n  INVALID_RECIPIENT_ADDRESS_ERROR,\n  KNOWN_RECIPIENT_ADDRESS_WARNING,\n  CONTRACT_ADDRESS_ERROR,\n  ENS_UNKNOWN_ERROR,\n  MIN_GAS_LIMIT_DEC,\n  MIN_GAS_PRICE_DEC,\n  MIN_GAS_PRICE_GWEI,\n  MIN_GAS_PRICE_HEX,\n  MIN_GAS_TOTAL,\n  NEGATIVE_ETH_ERROR,\n  NEGATIVE_OR_ZERO_AMOUNT_TOKENS_ERROR,\n  NO_RESOLUTION_FOR_DOMAIN,\n  FLOAT_TOKENS_ERROR,\n  REQUIRED_ERROR,\n  CONFUSING_ENS_ERROR,\n  TOKEN_TRANSFER_FUNCTION_SIGNATURE,\n  NFT_TRANSFER_FROM_FUNCTION_SIGNATURE,\n  NFT_SAFE_TRANSFER_FROM_FUNCTION_SIGNATURE,\n  RECIPIENT_TYPES,\n  SWAPS_NO_QUOTES,\n  SWAPS_QUOTES_ERROR,\n};\n","import { encode } from '@metamask/abi-utils';\n\nimport { addHexPrefix } from '../../../../app/scripts/lib/util';\nimport { TokenStandard } from '../../../../shared/constants/transaction';\nimport { Numeric } from '../../../../shared/modules/Numeric';\nimport {\n  TOKEN_TRANSFER_FUNCTION_SIGNATURE,\n  NFT_TRANSFER_FROM_FUNCTION_SIGNATURE,\n  NFT_SAFE_TRANSFER_FROM_FUNCTION_SIGNATURE,\n} from './send.constants';\n\nexport {\n  addGasBuffer,\n  getAssetTransferData,\n  generateERC20TransferData,\n  generateERC721TransferData,\n  generateERC1155TransferData,\n  isBalanceSufficient,\n  isTokenBalanceSufficient,\n  isERC1155BalanceSufficient,\n  ellipsify,\n};\n\nfunction isBalanceSufficient({\n  amount = '0x0',\n  balance = '0x0',\n  conversionRate = 1,\n  gasTotal = '0x0',\n  primaryCurrency = undefined,\n}) {\n  let totalAmount = new Numeric(amount, 16).add(new Numeric(gasTotal, 16));\n  let balanceNumeric = new Numeric(balance, 16);\n\n  if (typeof primaryCurrency !== 'undefined' && primaryCurrency !== null) {\n    totalAmount = totalAmount.applyConversionRate(conversionRate);\n    balanceNumeric = balanceNumeric.applyConversionRate(conversionRate);\n  }\n\n  return balanceNumeric.greaterThanOrEqualTo(totalAmount);\n}\n\nfunction isTokenBalanceSufficient({ amount = '0x0', tokenBalance, decimals }) {\n  const amountNumeric = new Numeric(amount, 16).shiftedBy(decimals);\n  const tokenBalanceNumeric = new Numeric(tokenBalance, 16);\n\n  return tokenBalanceNumeric.greaterThanOrEqualTo(amountNumeric);\n}\n\nfunction isERC1155BalanceSufficient({ amount = '0', tokenBalance }) {\n  const amountNumeric = new Numeric(amount, 16);\n  const tokenBalanceNumeric = new Numeric(tokenBalance, 10);\n\n  return tokenBalanceNumeric.greaterThanOrEqualTo(amountNumeric);\n}\n\nfunction addGasBuffer(\n  initialGasLimitHex,\n  blockGasLimitHex,\n  bufferMultiplier = 1.5,\n) {\n  const initialGasLimit = new Numeric(initialGasLimitHex, 16);\n  const upperGasLimit = new Numeric(blockGasLimitHex, 16)\n    .times(new Numeric(0.9, 10))\n    .round(0);\n\n  const bufferedGasLimit = initialGasLimit\n    .times(new Numeric(bufferMultiplier, 10))\n    .round(0);\n\n  // if initialGasLimit is above blockGasLimit, dont modify it\n  if (initialGasLimit.greaterThanOrEqualTo(upperGasLimit)) {\n    return initialGasLimitHex;\n  }\n  // if bufferedGasLimit is below blockGasLimit, use bufferedGasLimit\n  if (bufferedGasLimit.lessThan(upperGasLimit)) {\n    return bufferedGasLimit.toString();\n  }\n  // otherwise use blockGasLimit\n  return upperGasLimit.toString();\n}\n\nfunction generateERC20TransferData({\n  toAddress = '0x0',\n  amount = '0x0',\n  sendToken,\n}) {\n  if (!sendToken) {\n    return undefined;\n  }\n  return (\n    TOKEN_TRANSFER_FUNCTION_SIGNATURE +\n    Array.prototype.map\n      .call(\n        encode(\n          ['address', 'uint256'],\n          [addHexPrefix(toAddress), addHexPrefix(amount)],\n        ),\n        (x) => `00${x.toString(16)}`.slice(-2),\n      )\n      .join('')\n  );\n}\n\nfunction generateERC721TransferData({\n  toAddress = '0x0',\n  fromAddress = '0x0',\n  tokenId,\n}) {\n  if (!tokenId) {\n    return undefined;\n  }\n  return (\n    NFT_TRANSFER_FROM_FUNCTION_SIGNATURE +\n    Array.prototype.map\n      .call(\n        encode(\n          ['address', 'address', 'uint256'],\n          [addHexPrefix(fromAddress), addHexPrefix(toAddress), BigInt(tokenId)],\n        ),\n        (x) => `00${x.toString(16)}`.slice(-2),\n      )\n      .join('')\n  );\n}\n\nfunction generateERC1155TransferData({\n  toAddress = '0x0',\n  fromAddress = '0x0',\n  tokenId,\n  amount = '1',\n  data = '0',\n}) {\n  if (!tokenId) {\n    return undefined;\n  }\n  return (\n    NFT_SAFE_TRANSFER_FROM_FUNCTION_SIGNATURE +\n    Array.prototype.map\n      .call(\n        encode(\n          ['address', 'address', 'uint256', 'uint256', 'bytes'],\n          [\n            addHexPrefix(fromAddress),\n            addHexPrefix(toAddress),\n            BigInt(tokenId),\n            addHexPrefix(amount),\n            addHexPrefix(data),\n          ],\n        ),\n        (x) => `00${x.toString(16)}`.slice(-2),\n      )\n      .join('')\n  );\n}\n\nfunction getAssetTransferData({ sendToken, fromAddress, toAddress, amount }) {\n  switch (sendToken.standard) {\n    case TokenStandard.ERC721:\n      return generateERC721TransferData({\n        toAddress,\n        fromAddress,\n        tokenId: sendToken.tokenId,\n      });\n    case TokenStandard.ERC1155:\n      return generateERC1155TransferData({\n        toAddress,\n        fromAddress,\n        tokenId: sendToken.tokenId,\n      });\n    case TokenStandard.ERC20:\n    default:\n      return generateERC20TransferData({\n        toAddress,\n        amount,\n        sendToken,\n      });\n  }\n}\n\nfunction ellipsify(text, first = 6, last = 4) {\n  if (!text) {\n    return '';\n  }\n\n  return `${text.slice(0, first)}...${text.slice(-last)}`;\n}\n","import { ApprovalRequest } from '@metamask/approval-controller';\nimport { ApprovalType } from '@metamask/controller-utils';\nimport { TransactionType } from '@metamask/transaction-controller';\nimport { Json } from '@metamask/utils';\nimport {\n  PRIMARY_TYPES_ORDER,\n  PRIMARY_TYPES_PERMIT,\n} from '../../../../shared/constants/signatures';\nimport { parseTypedDataMessage } from '../../../../shared/modules/transaction.utils';\nimport { sanitizeMessage } from '../../../helpers/utils/util';\nimport { Confirmation, SignatureRequestType } from '../types/confirm';\nimport { TYPED_SIGNATURE_VERSIONS } from '../constants';\n\nexport const REDESIGN_APPROVAL_TYPES = [\n  ApprovalType.EthSignTypedData,\n  ApprovalType.PersonalSign,\n];\n\nexport const REDESIGN_USER_TRANSACTION_TYPES = [\n  TransactionType.contractInteraction,\n  TransactionType.deployContract,\n];\n\nexport const REDESIGN_DEV_TRANSACTION_TYPES = [\n  ...REDESIGN_USER_TRANSACTION_TYPES,\n  TransactionType.tokenMethodApprove,\n  TransactionType.tokenMethodIncreaseAllowance,\n];\n\nconst SIGNATURE_APPROVAL_TYPES = [\n  ApprovalType.PersonalSign,\n  ApprovalType.EthSignTypedData,\n];\n\nexport const isSignatureApprovalRequest = (\n  request: ApprovalRequest<Record<string, Json>>,\n) => SIGNATURE_APPROVAL_TYPES.includes(request.type as ApprovalType);\n\nexport const SIGNATURE_TRANSACTION_TYPES = [\n  TransactionType.personalSign,\n  TransactionType.signTypedData,\n];\n\nexport const isSignatureTransactionType = (request?: Record<string, unknown>) =>\n  request &&\n  SIGNATURE_TRANSACTION_TYPES.includes(request.type as TransactionType);\n\nexport const parseSanitizeTypedDataMessage = (dataToParse: string) => {\n  const { message, primaryType, types } = parseTypedDataMessage(dataToParse);\n  const sanitizedMessage = sanitizeMessage(message, primaryType, types);\n  return { sanitizedMessage, primaryType };\n};\n\n/**\n * Returns true if the request is a SIWE signature request\n *\n * @param request - The confirmation request to check\n */\nexport const isSIWESignatureRequest = (request?: Confirmation) =>\n  Boolean((request as SignatureRequestType)?.msgParams?.siwe?.isSIWEMessage);\n\nexport const isOrderSignatureRequest = (request: SignatureRequestType) => {\n  if (\n    !request ||\n    !isSignatureTransactionType(request) ||\n    request.type !== 'eth_signTypedData' ||\n    request.msgParams?.version?.toUpperCase() === TYPED_SIGNATURE_VERSIONS.V1\n  ) {\n    return false;\n  }\n  const { primaryType } = parseTypedDataMessage(\n    request.msgParams?.data as string,\n  );\n\n  return PRIMARY_TYPES_ORDER.includes(primaryType);\n};\n\n/**\n * Returns true if the request is a Permit Typed Sign signature request\n *\n * @param request - The confirmation request to check\n */\nexport const isPermitSignatureRequest = (request?: Confirmation) => {\n  if (\n    !request ||\n    !isSignatureTransactionType(request) ||\n    request.type !== 'eth_signTypedData' ||\n    (request as SignatureRequestType).msgParams?.version?.toUpperCase() ===\n      TYPED_SIGNATURE_VERSIONS.V1\n  ) {\n    return false;\n  }\n  const { primaryType } = parseTypedDataMessage(\n    (request as SignatureRequestType).msgParams?.data as string,\n  );\n\n  return PRIMARY_TYPES_PERMIT.includes(primaryType);\n};\n\nexport const isValidASCIIURL = (urlString?: string) => {\n  try {\n    return urlString?.includes(new URL(urlString).host);\n  } catch (exp: unknown) {\n    console.error(exp);\n    return false;\n  }\n};\n\nexport const toPunycodeURL = (urlString: string) => {\n  try {\n    return new URL(urlString).href;\n  } catch (err: unknown) {\n    console.error(`Failed to convert URL to Punycode: ${err}`);\n    return undefined;\n  }\n};\n","export * from './confirm';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CryptoAccount = void 0;\nconst _1 = require(\".\");\nconst lib_1 = require(\"./lib\");\nconst RegistryItem_1 = require(\"./RegistryItem\");\nconst RegistryType_1 = require(\"./RegistryType\");\nvar Keys;\n(function (Keys) {\n    Keys[Keys[\"masterFingerprint\"] = 1] = \"masterFingerprint\";\n    Keys[Keys[\"outputDescriptors\"] = 2] = \"outputDescriptors\";\n})(Keys || (Keys = {}));\nclass CryptoAccount extends RegistryItem_1.RegistryItem {\n    constructor(masterFingerprint, outputDescriptors) {\n        super();\n        this.masterFingerprint = masterFingerprint;\n        this.outputDescriptors = outputDescriptors;\n        this.getRegistryType = () => {\n            return RegistryType_1.RegistryTypes.CRYPTO_ACCOUNT;\n        };\n        this.getMasterFingerprint = () => this.masterFingerprint;\n        this.getOutputDescriptors = () => this.outputDescriptors;\n        this.toDataItem = () => {\n            const map = {};\n            if (this.masterFingerprint) {\n                map[Keys.masterFingerprint] = this.masterFingerprint.readUInt32BE(0);\n            }\n            if (this.outputDescriptors) {\n                map[Keys.outputDescriptors] = this.outputDescriptors.map((item) => item.toDataItem());\n            }\n            return new lib_1.DataItem(map);\n        };\n    }\n}\nexports.CryptoAccount = CryptoAccount;\nCryptoAccount.fromDataItem = (dataItem) => {\n    const map = dataItem.getData();\n    const masterFingerprint = Buffer.alloc(4);\n    const _masterFingerprint = map[Keys.masterFingerprint];\n    if (_masterFingerprint) {\n        masterFingerprint.writeUInt32BE(_masterFingerprint, 0);\n    }\n    const outputDescriptors = map[Keys.outputDescriptors];\n    const cryptoOutputs = outputDescriptors.map((item) => _1.CryptoOutput.fromDataItem(item));\n    return new CryptoAccount(masterFingerprint, cryptoOutputs);\n};\nCryptoAccount.fromCBOR = (_cborPayload) => {\n    const dataItem = (0, lib_1.decodeToDataItem)(_cborPayload);\n    return CryptoAccount.fromDataItem(dataItem);\n};\n//# sourceMappingURL=CryptoAccount.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CryptoCoinInfo = exports.Network = exports.Type = void 0;\nconst lib_1 = require(\"./lib\");\nconst RegistryItem_1 = require(\"./RegistryItem\");\nconst RegistryType_1 = require(\"./RegistryType\");\nvar Keys;\n(function (Keys) {\n    Keys[\"type\"] = \"1\";\n    Keys[\"network\"] = \"2\";\n})(Keys || (Keys = {}));\nvar Type;\n(function (Type) {\n    Type[Type[\"bitcoin\"] = 0] = \"bitcoin\";\n})(Type = exports.Type || (exports.Type = {}));\nvar Network;\n(function (Network) {\n    Network[Network[\"mainnet\"] = 0] = \"mainnet\";\n    Network[Network[\"testnet\"] = 1] = \"testnet\";\n})(Network = exports.Network || (exports.Network = {}));\nclass CryptoCoinInfo extends RegistryItem_1.RegistryItem {\n    constructor(type, network) {\n        super();\n        this.type = type;\n        this.network = network;\n        this.getRegistryType = () => {\n            return RegistryType_1.RegistryTypes.CRYPTO_COIN_INFO;\n        };\n        this.getType = () => {\n            return this.type || Type.bitcoin;\n        };\n        this.getNetwork = () => {\n            return this.network || Network.mainnet;\n        };\n        this.toDataItem = () => {\n            const map = {};\n            if (this.type) {\n                map[Keys.type] = this.type;\n            }\n            if (this.network) {\n                map[Keys.network] = this.network;\n            }\n            return new lib_1.DataItem(map);\n        };\n    }\n}\nexports.CryptoCoinInfo = CryptoCoinInfo;\nCryptoCoinInfo.fromDataItem = (dataItem) => {\n    const map = dataItem.getData();\n    const type = map[Keys.type];\n    const network = map[Keys.network];\n    return new CryptoCoinInfo(type, network);\n};\nCryptoCoinInfo.fromCBOR = (_cborPayload) => {\n    const dataItem = (0, lib_1.decodeToDataItem)(_cborPayload);\n    return CryptoCoinInfo.fromDataItem(dataItem);\n};\n//# sourceMappingURL=CryptoCoinInfo.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CryptoECKey = void 0;\nconst lib_1 = require(\"./lib\");\nconst RegistryItem_1 = require(\"./RegistryItem\");\nconst RegistryType_1 = require(\"./RegistryType\");\nvar Keys;\n(function (Keys) {\n    Keys[Keys[\"curve\"] = 1] = \"curve\";\n    Keys[Keys[\"private\"] = 2] = \"private\";\n    Keys[Keys[\"data\"] = 3] = \"data\";\n})(Keys || (Keys = {}));\nclass CryptoECKey extends RegistryItem_1.RegistryItem {\n    constructor(args) {\n        super();\n        this.isECKey = () => {\n            return true;\n        };\n        this.getCurve = () => this.curve || 0;\n        this.isPrivateKey = () => this.privateKey || false;\n        this.getData = () => this.data;\n        this.getRegistryType = () => {\n            return RegistryType_1.RegistryTypes.CRYPTO_ECKEY;\n        };\n        this.toDataItem = () => {\n            const map = {};\n            if (this.curve) {\n                map[Keys.curve] = this.curve;\n            }\n            if (this.privateKey !== undefined) {\n                map[Keys.private] = this.privateKey;\n            }\n            map[Keys.data] = this.data;\n            return new lib_1.DataItem(map);\n        };\n        this.getOutputDescriptorContent = () => {\n            return this.data.toString('hex');\n        };\n        this.data = args.data;\n        this.curve = args.curve;\n        this.privateKey = args.privateKey || undefined;\n    }\n}\nexports.CryptoECKey = CryptoECKey;\nCryptoECKey.fromDataItem = (dataItem) => {\n    const map = dataItem.getData();\n    const curve = map[Keys.curve];\n    const privateKey = map[Keys.private];\n    const data = map[Keys.data];\n    if (!data) {\n        throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${dataItem}`);\n    }\n    return new CryptoECKey({ data, curve, privateKey });\n};\nCryptoECKey.fromCBOR = (_cborPayload) => {\n    const dataItem = (0, lib_1.decodeToDataItem)(_cborPayload);\n    return CryptoECKey.fromDataItem(dataItem);\n};\n//# sourceMappingURL=CryptoECKey.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CryptoHDKey = void 0;\nconst bs58check_1 = require(\"bs58check\");\nconst CryptoCoinInfo_1 = require(\"./CryptoCoinInfo\");\nconst CryptoKeypath_1 = require(\"./CryptoKeypath\");\nconst lib_1 = require(\"./lib\");\nconst RegistryItem_1 = require(\"./RegistryItem\");\nconst RegistryType_1 = require(\"./RegistryType\");\nvar Keys;\n(function (Keys) {\n    Keys[Keys[\"is_master\"] = 1] = \"is_master\";\n    Keys[Keys[\"is_private\"] = 2] = \"is_private\";\n    Keys[Keys[\"key_data\"] = 3] = \"key_data\";\n    Keys[Keys[\"chain_code\"] = 4] = \"chain_code\";\n    Keys[Keys[\"use_info\"] = 5] = \"use_info\";\n    Keys[Keys[\"origin\"] = 6] = \"origin\";\n    Keys[Keys[\"children\"] = 7] = \"children\";\n    Keys[Keys[\"parent_fingerprint\"] = 8] = \"parent_fingerprint\";\n    Keys[Keys[\"name\"] = 9] = \"name\";\n    Keys[Keys[\"note\"] = 10] = \"note\";\n})(Keys || (Keys = {}));\nclass CryptoHDKey extends RegistryItem_1.RegistryItem {\n    constructor(args) {\n        super();\n        this.isECKey = () => {\n            return false;\n        };\n        this.getKey = () => this.key;\n        this.getChainCode = () => this.chainCode;\n        this.isMaster = () => this.master;\n        this.isPrivateKey = () => !!this.privateKey;\n        this.getUseInfo = () => this.useInfo;\n        this.getOrigin = () => this.origin;\n        this.getChildren = () => this.children;\n        this.getParentFingerprint = () => this.parentFingerprint;\n        this.getName = () => this.name;\n        this.getNote = () => this.note;\n        this.getBip32Key = () => {\n            var _a, _b, _c;\n            let version;\n            let depth;\n            let index = 0;\n            let parentFingerprint = Buffer.alloc(4).fill(0);\n            if (this.isMaster()) {\n                version = Buffer.from('0488ADE4', 'hex');\n                depth = 0;\n                index = 0;\n            }\n            else {\n                depth = ((_a = this.getOrigin()) === null || _a === void 0 ? void 0 : _a.getComponents().length) || ((_b = this.getOrigin()) === null || _b === void 0 ? void 0 : _b.getDepth());\n                const paths = (_c = this.getOrigin()) === null || _c === void 0 ? void 0 : _c.getComponents();\n                const lastPath = paths[paths.length - 1];\n                if (lastPath) {\n                    index = lastPath.isHardened() ? lastPath.getIndex() + 0x80000000 : lastPath.getIndex();\n                    if (this.getParentFingerprint()) {\n                        parentFingerprint = this.getParentFingerprint();\n                    }\n                }\n                if (this.isPrivateKey()) {\n                    version = Buffer.from('0488ADE4', 'hex');\n                }\n                else {\n                    version = Buffer.from('0488B21E', 'hex');\n                }\n            }\n            const depthBuffer = Buffer.alloc(1);\n            depthBuffer.writeUInt8(depth, 0);\n            const indexBuffer = Buffer.alloc(4);\n            indexBuffer.writeUInt32BE(index, 0);\n            const chainCode = this.getChainCode();\n            const key = this.getKey();\n            return (0, bs58check_1.encode)(Buffer.concat([version, depthBuffer, parentFingerprint, indexBuffer, chainCode, key]));\n        };\n        this.getRegistryType = () => {\n            return RegistryType_1.RegistryTypes.CRYPTO_HDKEY;\n        };\n        this.getOutputDescriptorContent = () => {\n            var _a, _b, _c, _d, _e, _f, _g;\n            let result = '';\n            if (this.getOrigin()) {\n                if (((_a = this.getOrigin()) === null || _a === void 0 ? void 0 : _a.getSourceFingerprint()) && ((_b = this.getOrigin()) === null || _b === void 0 ? void 0 : _b.getPath())) {\n                    result += `${(_d = (_c = this.getOrigin()) === null || _c === void 0 ? void 0 : _c.getSourceFingerprint()) === null || _d === void 0 ? void 0 : _d.toString('hex')}/${(_e = this.getOrigin()) === null || _e === void 0 ? void 0 : _e.getPath()}`;\n                }\n            }\n            result += this.getBip32Key();\n            if (this.getChildren()) {\n                if ((_f = this.getChildren()) === null || _f === void 0 ? void 0 : _f.getPath()) {\n                    result += `/${(_g = this.getChildren()) === null || _g === void 0 ? void 0 : _g.getPath()}`;\n                }\n            }\n            return result;\n        };\n        this.setupMasterKey = (args) => {\n            this.master = true;\n            this.key = args.key;\n            this.chainCode = args.chainCode;\n        };\n        this.setupDeriveKey = (args) => {\n            this.master = false;\n            this.privateKey = args.isPrivateKey;\n            this.key = args.key;\n            this.chainCode = args.chainCode;\n            this.useInfo = args.useInfo;\n            this.origin = args.origin;\n            this.children = args.children;\n            this.parentFingerprint = args.parentFingerprint;\n            this.name = args.name;\n            this.note = args.note;\n        };\n        this.toDataItem = () => {\n            const map = {};\n            if (this.master) {\n                map[Keys.is_master] = true;\n                map[Keys.key_data] = this.key;\n                map[Keys.chain_code] = this.chainCode;\n            }\n            else {\n                if (this.privateKey !== undefined) {\n                    map[Keys.is_private] = this.privateKey;\n                }\n                map[Keys.key_data] = this.key;\n                if (this.chainCode) {\n                    map[Keys.chain_code] = this.chainCode;\n                }\n                if (this.useInfo) {\n                    const useInfo = this.useInfo.toDataItem();\n                    useInfo.setTag(this.useInfo.getRegistryType().getTag());\n                    map[Keys.use_info] = useInfo;\n                }\n                if (this.origin) {\n                    const origin = this.origin.toDataItem();\n                    origin.setTag(this.origin.getRegistryType().getTag());\n                    map[Keys.origin] = origin;\n                }\n                if (this.children) {\n                    const children = this.children.toDataItem();\n                    children.setTag(this.children.getRegistryType().getTag());\n                    map[Keys.children] = children;\n                }\n                if (this.parentFingerprint) {\n                    map[Keys.parent_fingerprint] = this.parentFingerprint.readUInt32BE(0);\n                }\n                if (this.name !== undefined) {\n                    map[Keys.name] = this.name;\n                }\n                if (this.note !== undefined) {\n                    map[Keys.note] = this.note;\n                }\n            }\n            return new lib_1.DataItem(map);\n        };\n        if (args.isMaster) {\n            this.setupMasterKey(args);\n        }\n        else {\n            this.setupDeriveKey(args);\n        }\n    }\n}\nexports.CryptoHDKey = CryptoHDKey;\nCryptoHDKey.fromDataItem = (dataItem) => {\n    const map = dataItem.getData();\n    const isMaster = !!map[Keys.is_master];\n    const isPrivateKey = map[Keys.is_private];\n    const key = map[Keys.key_data];\n    const chainCode = map[Keys.chain_code];\n    const useInfo = map[Keys.use_info]\n        ? CryptoCoinInfo_1.CryptoCoinInfo.fromDataItem(map[Keys.use_info])\n        : undefined;\n    const origin = map[Keys.origin]\n        ? CryptoKeypath_1.CryptoKeypath.fromDataItem(map[Keys.origin])\n        : undefined;\n    const children = map[Keys.children]\n        ? CryptoKeypath_1.CryptoKeypath.fromDataItem(map[Keys.children])\n        : undefined;\n    const _parentFingerprint = map[Keys.parent_fingerprint];\n    let parentFingerprint = undefined;\n    if (_parentFingerprint) {\n        parentFingerprint = Buffer.alloc(4);\n        parentFingerprint.writeUInt32BE(_parentFingerprint, 0);\n    }\n    const name = map[Keys.name];\n    const note = map[Keys.note];\n    return new CryptoHDKey({\n        isMaster,\n        isPrivateKey,\n        key,\n        chainCode,\n        useInfo,\n        origin,\n        children,\n        parentFingerprint,\n        name,\n        note,\n    });\n};\nCryptoHDKey.fromCBOR = (_cborPayload) => {\n    const dataItem = (0, lib_1.decodeToDataItem)(_cborPayload);\n    return CryptoHDKey.fromDataItem(dataItem);\n};\n//# sourceMappingURL=CryptoHDKey.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CryptoKeypath = void 0;\nconst lib_1 = require(\"./lib\");\nconst PathComponent_1 = require(\"./PathComponent\");\nconst RegistryItem_1 = require(\"./RegistryItem\");\nconst RegistryType_1 = require(\"./RegistryType\");\nvar Keys;\n(function (Keys) {\n    Keys[Keys[\"components\"] = 1] = \"components\";\n    Keys[Keys[\"source_fingerprint\"] = 2] = \"source_fingerprint\";\n    Keys[Keys[\"depth\"] = 3] = \"depth\";\n})(Keys || (Keys = {}));\nclass CryptoKeypath extends RegistryItem_1.RegistryItem {\n    constructor(components = [], sourceFingerprint, depth) {\n        super();\n        this.components = components;\n        this.sourceFingerprint = sourceFingerprint;\n        this.depth = depth;\n        this.getRegistryType = () => {\n            return RegistryType_1.RegistryTypes.CRYPTO_KEYPATH;\n        };\n        this.getPath = () => {\n            if (this.components.length === 0) {\n                return undefined;\n            }\n            const components = this.components.map((component) => {\n                return `${component.isWildcard() ? '*' : component.getIndex()}${component.isHardened() ? \"'\" : ''}`;\n            });\n            return components.join('/');\n        };\n        this.getComponents = () => this.components;\n        this.getSourceFingerprint = () => this.sourceFingerprint;\n        this.getDepth = () => this.depth;\n        this.toDataItem = () => {\n            const map = {};\n            const components = [];\n            this.components &&\n                this.components.forEach((component) => {\n                    if (component.isWildcard()) {\n                        components.push([]);\n                    }\n                    else {\n                        components.push(component.getIndex());\n                    }\n                    components.push(component.isHardened());\n                });\n            map[Keys.components] = components;\n            if (this.sourceFingerprint) {\n                map[Keys.source_fingerprint] = this.sourceFingerprint.readUInt32BE(0);\n            }\n            if (this.depth !== undefined) {\n                map[Keys.depth] = this.depth;\n            }\n            return new lib_1.DataItem(map);\n        };\n    }\n}\nexports.CryptoKeypath = CryptoKeypath;\nCryptoKeypath.fromDataItem = (dataItem) => {\n    const map = dataItem.getData();\n    const pathComponents = [];\n    const components = map[Keys.components];\n    if (components) {\n        for (let i = 0; i < components.length; i += 2) {\n            const isHardened = components[i + 1];\n            const path = components[i];\n            if (typeof path === 'number') {\n                pathComponents.push(new PathComponent_1.PathComponent({ index: path, hardened: isHardened }));\n            }\n            else {\n                pathComponents.push(new PathComponent_1.PathComponent({ hardened: isHardened }));\n            }\n        }\n    }\n    const _sourceFingerprint = map[Keys.source_fingerprint];\n    let sourceFingerprint;\n    if (_sourceFingerprint) {\n        sourceFingerprint = Buffer.alloc(4);\n        sourceFingerprint.writeUInt32BE(_sourceFingerprint, 0);\n    }\n    const depth = map[Keys.depth];\n    return new CryptoKeypath(pathComponents, sourceFingerprint, depth);\n};\nCryptoKeypath.fromCBOR = (_cborPayload) => {\n    const dataItem = (0, lib_1.decodeToDataItem)(_cborPayload);\n    return CryptoKeypath.fromDataItem(dataItem);\n};\n//# sourceMappingURL=CryptoKeypath.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CryptoOutput = void 0;\nconst CryptoECKey_1 = require(\"./CryptoECKey\");\nconst CryptoHDKey_1 = require(\"./CryptoHDKey\");\nconst lib_1 = require(\"./lib\");\nconst MultiKey_1 = require(\"./MultiKey\");\nconst RegistryItem_1 = require(\"./RegistryItem\");\nconst RegistryType_1 = require(\"./RegistryType\");\nconst ScriptExpression_1 = require(\"./ScriptExpression\");\nclass CryptoOutput extends RegistryItem_1.RegistryItem {\n    constructor(scriptExpressions, cryptoKey) {\n        super();\n        this.scriptExpressions = scriptExpressions;\n        this.cryptoKey = cryptoKey;\n        this.getRegistryType = () => {\n            return RegistryType_1.RegistryTypes.CRYPTO_OUTPUT;\n        };\n        this.getCryptoKey = () => this.cryptoKey;\n        this.getHDKey = () => {\n            if (this.cryptoKey instanceof CryptoHDKey_1.CryptoHDKey) {\n                return this.cryptoKey;\n            }\n            else {\n                return undefined;\n            }\n        };\n        this.getECKey = () => {\n            if (this.cryptoKey instanceof CryptoECKey_1.CryptoECKey) {\n                return this.cryptoKey;\n            }\n            else {\n                return undefined;\n            }\n        };\n        this.getMultiKey = () => {\n            if (this.cryptoKey instanceof MultiKey_1.MultiKey) {\n                return this.cryptoKey;\n            }\n            else {\n                return undefined;\n            }\n        };\n        this.getScriptExpressions = () => this.scriptExpressions;\n        this._toOutputDescriptor = (seIndex) => {\n            if (seIndex >= this.scriptExpressions.length) {\n                return this.cryptoKey.getOutputDescriptorContent();\n            }\n            else {\n                return `${this.scriptExpressions[seIndex].getExpression()}(${this._toOutputDescriptor(seIndex + 1)})`;\n            }\n        };\n        this.toString = () => {\n            return this._toOutputDescriptor(0);\n        };\n        this.toDataItem = () => {\n            let dataItem = this.cryptoKey.toDataItem();\n            if (this.cryptoKey instanceof CryptoECKey_1.CryptoECKey ||\n                this.cryptoKey instanceof CryptoHDKey_1.CryptoHDKey) {\n                dataItem.setTag(this.cryptoKey.getRegistryType().getTag());\n            }\n            const clonedSe = [...this.scriptExpressions];\n            clonedSe.reverse().forEach((se) => {\n                const tagValue = se.getTag();\n                if (dataItem.getTag() === undefined) {\n                    dataItem.setTag(tagValue);\n                }\n                else {\n                    dataItem = new lib_1.DataItem(dataItem, tagValue);\n                }\n            });\n            return dataItem;\n        };\n    }\n}\nexports.CryptoOutput = CryptoOutput;\nCryptoOutput.fromDataItem = (dataItem) => {\n    const scriptExpressions = [];\n    let _dataItem = dataItem;\n    while (true) {\n        let _tag = _dataItem.getTag();\n        const se = ScriptExpression_1.ScriptExpression.fromTag(_tag);\n        if (se) {\n            scriptExpressions.push(se);\n            if (_dataItem.getData() instanceof lib_1.DataItem) {\n                _dataItem = _dataItem.getData();\n                _tag = _dataItem.getTag();\n            }\n            else {\n                break;\n            }\n        }\n        else {\n            break;\n        }\n    }\n    const seLength = scriptExpressions.length;\n    const isMultiKey = seLength > 0 &&\n        (scriptExpressions[seLength - 1].getExpression() ===\n            ScriptExpression_1.ScriptExpressions.MULTISIG.getExpression() ||\n            scriptExpressions[seLength - 1].getExpression() ===\n                ScriptExpression_1.ScriptExpressions.SORTED_MULTISIG.getExpression());\n    if (isMultiKey) {\n        const multiKey = MultiKey_1.MultiKey.fromDataItem(_dataItem);\n        return new CryptoOutput(scriptExpressions, multiKey);\n    }\n    if (_dataItem.getTag() === RegistryType_1.RegistryTypes.CRYPTO_HDKEY.getTag()) {\n        const cryptoHDKey = CryptoHDKey_1.CryptoHDKey.fromDataItem(_dataItem);\n        return new CryptoOutput(scriptExpressions, cryptoHDKey);\n    }\n    else {\n        const cryptoECKey = CryptoECKey_1.CryptoECKey.fromDataItem(_dataItem);\n        return new CryptoOutput(scriptExpressions, cryptoECKey);\n    }\n};\nCryptoOutput.fromCBOR = (_cborPayload) => {\n    const dataItem = (0, lib_1.decodeToDataItem)(_cborPayload);\n    return CryptoOutput.fromDataItem(dataItem);\n};\n//# sourceMappingURL=CryptoOutput.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CryptoPSBT = void 0;\nconst lib_1 = require(\"./lib\");\nconst RegistryItem_1 = require(\"./RegistryItem\");\nconst RegistryType_1 = require(\"./RegistryType\");\nclass CryptoPSBT extends RegistryItem_1.RegistryItem {\n    constructor(psbt) {\n        super();\n        this.psbt = psbt;\n        this.getRegistryType = () => RegistryType_1.RegistryTypes.CRYPTO_PSBT;\n        this.getPSBT = () => this.psbt;\n        this.toDataItem = () => {\n            return new lib_1.DataItem(this.psbt);\n        };\n    }\n}\nexports.CryptoPSBT = CryptoPSBT;\nCryptoPSBT.fromDataItem = (dataItem) => {\n    const psbt = dataItem.getData();\n    if (!psbt) {\n        throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${dataItem}`);\n    }\n    return new CryptoPSBT(psbt);\n};\nCryptoPSBT.fromCBOR = (_cborPayload) => {\n    const dataItem = (0, lib_1.decodeToDataItem)(_cborPayload);\n    return CryptoPSBT.fromDataItem(dataItem);\n};\n//# sourceMappingURL=CryptoPSBT.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.URRegistryDecoder = void 0;\nconst bc_ur_1 = require(\"@ngraveio/bc-ur\");\nconst __1 = require(\"..\");\nconst RegistryType_1 = require(\"../RegistryType\");\nconst errors_1 = require(\"../errors\");\nclass URRegistryDecoder extends bc_ur_1.URDecoder {\n    constructor() {\n        super(...arguments);\n        this.resultRegistryType = () => {\n            const ur = this.resultUR();\n            switch (ur.type) {\n                case RegistryType_1.RegistryTypes.BYTES.getType():\n                    return __1.Bytes.fromCBOR(ur.cbor);\n                case RegistryType_1.RegistryTypes.CRYPTO_HDKEY.getType():\n                    return __1.CryptoHDKey.fromCBOR(ur.cbor);\n                case RegistryType_1.RegistryTypes.CRYPTO_KEYPATH.getType():\n                    return __1.CryptoKeypath.fromCBOR(ur.cbor);\n                case RegistryType_1.RegistryTypes.CRYPTO_COIN_INFO.getType():\n                    return __1.CryptoCoinInfo.fromCBOR(ur.cbor);\n                case RegistryType_1.RegistryTypes.CRYPTO_ECKEY.getType():\n                    return __1.CryptoECKey.fromCBOR(ur.cbor);\n                case RegistryType_1.RegistryTypes.CRYPTO_OUTPUT.getType():\n                    return __1.CryptoOutput.fromCBOR(ur.cbor);\n                case RegistryType_1.RegistryTypes.CRYPTO_PSBT.getType():\n                    return __1.CryptoPSBT.fromCBOR(ur.cbor);\n                case RegistryType_1.RegistryTypes.CRYPTO_ACCOUNT.getType():\n                    return __1.CryptoAccount.fromCBOR(ur.cbor);\n                default:\n                    throw new errors_1.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${ur.type} is not supported now`);\n            }\n        };\n    }\n}\nexports.URRegistryDecoder = URRegistryDecoder;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultiKey = void 0;\nconst CryptoECKey_1 = require(\"./CryptoECKey\");\nconst CryptoHDKey_1 = require(\"./CryptoHDKey\");\nconst DataItem_1 = require(\"./lib/DataItem\");\nconst RegistryItem_1 = require(\"./RegistryItem\");\nconst RegistryType_1 = require(\"./RegistryType\");\nvar Keys;\n(function (Keys) {\n    Keys[Keys[\"threshold\"] = 1] = \"threshold\";\n    Keys[Keys[\"keys\"] = 2] = \"keys\";\n})(Keys || (Keys = {}));\nclass MultiKey extends RegistryItem_1.RegistryItem {\n    constructor(threshold, keys) {\n        super();\n        this.threshold = threshold;\n        this.keys = keys;\n        this.getThreshold = () => this.threshold;\n        this.getKeys = () => this.keys;\n        this.toDataItem = () => {\n            const map = {};\n            map[Keys.threshold] = this.threshold;\n            const keys = this.keys.map((k) => {\n                const dataItem = k.toDataItem();\n                dataItem.setTag(k.getRegistryType().getTag());\n                return dataItem;\n            });\n            map[Keys.keys] = keys;\n            return new DataItem_1.DataItem(map);\n        };\n        this.getOutputDescriptorContent = () => {\n            return [this.getThreshold(),\n                this.keys.map(k => k.getOutputDescriptorContent()).join(','),\n            ].join(',');\n        };\n    }\n}\nexports.MultiKey = MultiKey;\nMultiKey.fromDataItem = (dataItem) => {\n    const map = dataItem.getData();\n    const threshold = map[Keys.threshold];\n    const _keys = map[Keys.keys];\n    const keys = [];\n    _keys.forEach((k) => {\n        if (k.getTag() === RegistryType_1.RegistryTypes.CRYPTO_HDKEY.getTag()) {\n            keys.push(CryptoHDKey_1.CryptoHDKey.fromDataItem(k));\n        }\n        else if (k.getTag() === RegistryType_1.RegistryTypes.CRYPTO_ECKEY.getTag()) {\n            keys.push(CryptoECKey_1.CryptoECKey.fromDataItem(k));\n        }\n    });\n    return new MultiKey(threshold, keys);\n};\n//# sourceMappingURL=MultiKey.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PathComponent = void 0;\nclass PathComponent {\n    constructor(args) {\n        this.getIndex = () => this.index;\n        this.isWildcard = () => this.wildcard;\n        this.isHardened = () => this.hardened;\n        this.index = args.index;\n        this.hardened = args.hardened;\n        if (this.index !== undefined) {\n            this.wildcard = false;\n        }\n        else {\n            this.wildcard = true;\n        }\n        if (this.index && (this.index & PathComponent.HARDENED_BIT) !== 0) {\n            throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`);\n        }\n    }\n}\nexports.PathComponent = PathComponent;\nPathComponent.HARDENED_BIT = 0x80000000;\n//# sourceMappingURL=PathComponent.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RegistryItem = void 0;\nconst bc_ur_1 = require(\"@ngraveio/bc-ur\");\nconst lib_1 = require(\"./lib\");\nclass RegistryItem {\n    constructor() {\n        this.toCBOR = () => {\n            if (this.toDataItem() === undefined) {\n                throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);\n            }\n            return (0, lib_1.encodeDataItem)(this.toDataItem());\n        };\n        this.toUR = () => {\n            return new bc_ur_1.UR(this.toCBOR(), this.getRegistryType().getType());\n        };\n        this.toUREncoder = (maxFragmentLength, firstSeqNum, minFragmentLength) => {\n            const ur = this.toUR();\n            const urEncoder = new bc_ur_1.UREncoder(ur, maxFragmentLength, firstSeqNum, minFragmentLength);\n            return urEncoder;\n        };\n    }\n}\nexports.RegistryItem = RegistryItem;\n//# sourceMappingURL=RegistryItem.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RegistryTypes = exports.RegistryType = void 0;\nclass RegistryType {\n    constructor(type, tag) {\n        this.type = type;\n        this.tag = tag;\n        this.getTag = () => this.tag;\n        this.getType = () => this.type;\n    }\n}\nexports.RegistryType = RegistryType;\nexports.RegistryTypes = {\n    UUID: new RegistryType('uuid', 37),\n    BYTES: new RegistryType('bytes', undefined),\n    CRYPTO_HDKEY: new RegistryType('crypto-hdkey', 303),\n    CRYPTO_KEYPATH: new RegistryType('crypto-keypath', 304),\n    CRYPTO_COIN_INFO: new RegistryType('crypto-coin-info', 305),\n    CRYPTO_ECKEY: new RegistryType('crypto-eckey', 306),\n    CRYPTO_OUTPUT: new RegistryType('crypto-output', 308),\n    CRYPTO_PSBT: new RegistryType('crypto-psbt', 310),\n    CRYPTO_ACCOUNT: new RegistryType('crypto-account', 311),\n    CRYPTO_MULTI_ACCOUNTS: new RegistryType(\"crypto-multi-accounts\", 1103),\n    QR_HARDWARE_CALL: new RegistryType(\"qr-hardware-call\", 1201),\n    KEY_DERIVATION_CALL: new RegistryType(\"key-derivation-call\", 1301),\n    KEY_DERIVATION_SCHEMA: new RegistryType(\"key-derivation-schema\", 1302),\n};\n//# sourceMappingURL=RegistryType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScriptExpressions = exports.ScriptExpression = void 0;\nclass ScriptExpression {\n    constructor(tag, expression) {\n        this.tag = tag;\n        this.expression = expression;\n        this.getTag = () => this.tag;\n        this.getExpression = () => this.expression;\n    }\n}\nexports.ScriptExpression = ScriptExpression;\nScriptExpression.fromTag = (tag) => {\n    const se = Object.values(exports.ScriptExpressions).find((se) => se.getTag() === tag);\n    return se;\n};\nexports.ScriptExpressions = {\n    SCRIPT_HASH: new ScriptExpression(400, 'sh'),\n    WITNESS_SCRIPT_HASH: new ScriptExpression(401, 'wsh'),\n    PUBLIC_KEY: new ScriptExpression(402, 'pk'),\n    PUBLIC_KEY_HASH: new ScriptExpression(403, 'pkh'),\n    WITNESS_PUBLIC_KEY_HASH: new ScriptExpression(404, 'wpkh'),\n    COMBO: new ScriptExpression(405, 'combo'),\n    MULTISIG: new ScriptExpression(406, 'multi'),\n    SORTED_MULTISIG: new ScriptExpression(407, 'sortedmulti'),\n    ADDRESS: new ScriptExpression(307, 'addr'),\n    RAW_SCRIPT: new ScriptExpression(408, 'raw'),\n};\n//# sourceMappingURL=ScriptExpression.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnknownURTypeError = void 0;\nclass UnknownURTypeError extends Error {\n    constructor(message) {\n        super(message);\n    }\n}\nexports.UnknownURTypeError = UnknownURTypeError;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CryptoMultiAccounts = void 0;\nconst RegistryType_1 = require(\"../RegistryType\");\nconst CryptoHDKey_1 = require(\"../CryptoHDKey\");\nconst RegistryItem_1 = require(\"../RegistryItem\");\nconst lib_1 = require(\"../lib\");\nvar Keys;\n(function (Keys) {\n    Keys[Keys[\"masterFingerprint\"] = 1] = \"masterFingerprint\";\n    Keys[Keys[\"keys\"] = 2] = \"keys\";\n    Keys[Keys[\"device\"] = 3] = \"device\";\n    Keys[Keys[\"deviceId\"] = 4] = \"deviceId\";\n    Keys[Keys[\"version\"] = 5] = \"version\";\n})(Keys || (Keys = {}));\nclass CryptoMultiAccounts extends RegistryItem_1.RegistryItem {\n    constructor(masterFingerprint, keys, device, deviceId, version) {\n        super();\n        this.masterFingerprint = masterFingerprint;\n        this.keys = keys;\n        this.device = device;\n        this.deviceId = deviceId;\n        this.version = version;\n        this.getRegistryType = () => RegistryType_1.RegistryTypes.CRYPTO_MULTI_ACCOUNTS;\n        this.getMasterFingerprint = () => this.masterFingerprint;\n        this.getKeys = () => this.keys;\n        this.getDevice = () => this.device;\n        this.getDeviceId = () => this.deviceId;\n        this.getVersion = () => this.version;\n        this.toDataItem = () => {\n            const map = {};\n            if (this.masterFingerprint) {\n                map[Keys.masterFingerprint] = this.masterFingerprint.readUInt32BE(0);\n            }\n            if (this.keys) {\n                map[Keys.keys] = this.keys.map((item) => {\n                    const dataItem = item.toDataItem();\n                    dataItem.setTag(item.getRegistryType().getTag());\n                    return dataItem;\n                });\n            }\n            if (this.device) {\n                map[Keys.device] = this.device;\n            }\n            if (this.deviceId) {\n                map[Keys.deviceId] = this.deviceId;\n            }\n            if (this.version) {\n                map[Keys.version] = this.version;\n            }\n            return new lib_1.DataItem(map);\n        };\n    }\n}\nexports.CryptoMultiAccounts = CryptoMultiAccounts;\nCryptoMultiAccounts.fromDataItem = (dataItem) => {\n    const map = dataItem.getData();\n    const masterFingerprint = Buffer.alloc(4);\n    const _masterFingerprint = map[Keys.masterFingerprint];\n    if (_masterFingerprint) {\n        masterFingerprint.writeUInt32BE(_masterFingerprint, 0);\n    }\n    const keys = map[Keys.keys];\n    const cryptoHDKeys = keys.map((item) => CryptoHDKey_1.CryptoHDKey.fromDataItem(item));\n    const device = map[Keys.device];\n    const deviceId = map[Keys.deviceId];\n    const version = map[Keys.version];\n    return new CryptoMultiAccounts(masterFingerprint, cryptoHDKeys, device, deviceId, version);\n};\nCryptoMultiAccounts.fromCBOR = (_cborPayload) => {\n    const dataItem = (0, lib_1.decodeToDataItem)(_cborPayload);\n    return CryptoMultiAccounts.fromDataItem(dataItem);\n};\n//# sourceMappingURL=CryptoMultiAccounts.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyDerivationSchema = exports.DerivationAlgorithm = exports.Curve = void 0;\nconst RegistryType_1 = require(\"../RegistryType\");\nconst RegistryItem_1 = require(\"../RegistryItem\");\nconst lib_1 = require(\"../lib\");\nconst CryptoKeypath_1 = require(\"../CryptoKeypath\");\nvar Keys;\n(function (Keys) {\n    Keys[Keys[\"keyPath\"] = 1] = \"keyPath\";\n    Keys[Keys[\"curve\"] = 2] = \"curve\";\n    Keys[Keys[\"algo\"] = 3] = \"algo\";\n})(Keys || (Keys = {}));\nvar Curve;\n(function (Curve) {\n    Curve[Curve[\"secp256k1\"] = 0] = \"secp256k1\";\n    Curve[Curve[\"ed25519\"] = 1] = \"ed25519\";\n})(Curve = exports.Curve || (exports.Curve = {}));\nvar DerivationAlgorithm;\n(function (DerivationAlgorithm) {\n    DerivationAlgorithm[DerivationAlgorithm[\"slip10\"] = 0] = \"slip10\";\n    DerivationAlgorithm[DerivationAlgorithm[\"bip32ed25519\"] = 1] = \"bip32ed25519\";\n})(DerivationAlgorithm = exports.DerivationAlgorithm || (exports.DerivationAlgorithm = {}));\nclass KeyDerivationSchema extends RegistryItem_1.RegistryItem {\n    constructor(keypath, curve = Curve.secp256k1, algo = DerivationAlgorithm.slip10) {\n        super();\n        this.keypath = keypath;\n        this.curve = curve;\n        this.algo = algo;\n        this.getRegistryType = () => RegistryType_1.RegistryTypes.KEY_DERIVATION_SCHEMA;\n        this.getKeypath = () => this.keypath;\n        this.getCurve = () => this.curve;\n        this.getAlgo = () => this.algo;\n        this.toDataItem = () => {\n            const map = {};\n            const dataItem = this.getKeypath().toDataItem();\n            dataItem.setTag(this.getKeypath().getRegistryType().getTag());\n            map[Keys.keyPath] = dataItem;\n            map[Keys.curve] = this.curve;\n            map[Keys.algo] = this.algo;\n            return new lib_1.DataItem(map);\n        };\n    }\n}\nexports.KeyDerivationSchema = KeyDerivationSchema;\nKeyDerivationSchema.fromDataItem = (dataItem) => {\n    const map = dataItem.getData();\n    const keypaths = CryptoKeypath_1.CryptoKeypath.fromDataItem(map[Keys.keyPath]);\n    const curve = map[Keys.curve];\n    const algo = map[Keys.algo];\n    return new KeyDerivationSchema(keypaths, curve, algo);\n};\nKeyDerivationSchema.fromCBOR = (_cborPayload) => {\n    const dataItem = (0, lib_1.decodeToDataItem)(_cborPayload);\n    return KeyDerivationSchema.fromDataItem(dataItem);\n};\n//# sourceMappingURL=DerivationSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyDerivation = void 0;\nconst RegistryType_1 = require(\"../RegistryType\");\nconst RegistryItem_1 = require(\"../RegistryItem\");\nconst lib_1 = require(\"../lib\");\nconst DerivationSchema_1 = require(\"./DerivationSchema\");\nvar Keys;\n(function (Keys) {\n    Keys[Keys[\"schemas\"] = 1] = \"schemas\";\n})(Keys || (Keys = {}));\nclass KeyDerivation extends RegistryItem_1.RegistryItem {\n    constructor(schemas) {\n        super();\n        this.schemas = schemas;\n        this.getRegistryType = () => RegistryType_1.RegistryTypes.KEY_DERIVATION_CALL;\n        this.getSchemas = () => this.schemas;\n        this.toDataItem = () => {\n            const map = {};\n            map[Keys.schemas] = this.schemas.map(schema => {\n                const dataItem = schema.toDataItem();\n                dataItem.setTag(schema.getRegistryType().getTag());\n                return dataItem;\n            });\n            return new lib_1.DataItem(map);\n        };\n    }\n}\nexports.KeyDerivation = KeyDerivation;\nKeyDerivation.fromDataItem = (dataItem) => {\n    const map = dataItem.getData();\n    const schemas = map[Keys.schemas].map(keypath => DerivationSchema_1.KeyDerivationSchema.fromDataItem(keypath));\n    return new KeyDerivation(schemas);\n};\nKeyDerivation.fromCBOR = (_cborPayload) => {\n    const dataItem = (0, lib_1.decodeToDataItem)(_cborPayload);\n    return KeyDerivation.fromDataItem(dataItem);\n};\n//# sourceMappingURL=KeyDerivation.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QRHardwareCall = exports.QRHardwareCallType = void 0;\nconst RegistryType_1 = require(\"../RegistryType\");\nconst RegistryItem_1 = require(\"../RegistryItem\");\nconst lib_1 = require(\"../lib\");\nconst KeyDerivation_1 = require(\"./KeyDerivation\");\nvar Keys;\n(function (Keys) {\n    Keys[Keys[\"type\"] = 1] = \"type\";\n    Keys[Keys[\"params\"] = 2] = \"params\";\n    Keys[Keys[\"origin\"] = 3] = \"origin\";\n})(Keys || (Keys = {}));\nvar QRHardwareCallType;\n(function (QRHardwareCallType) {\n    QRHardwareCallType[QRHardwareCallType[\"KeyDerivation\"] = 0] = \"KeyDerivation\";\n})(QRHardwareCallType = exports.QRHardwareCallType || (exports.QRHardwareCallType = {}));\nclass QRHardwareCall extends RegistryItem_1.RegistryItem {\n    constructor(type, params, origin) {\n        super();\n        this.type = type;\n        this.params = params;\n        this.origin = origin;\n        this.getRegistryType = () => RegistryType_1.RegistryTypes.QR_HARDWARE_CALL;\n        this.getType = () => this.type;\n        this.getParams = () => this.params;\n        this.getOrigin = () => this.origin;\n        this.toDataItem = () => {\n            const map = {};\n            map[Keys.type] = this.type;\n            const param = this.params.toDataItem();\n            param.setTag(this.params.getRegistryType().getTag());\n            map[Keys.params] = param;\n            if (this.origin) {\n                map[Keys.origin] = this.origin;\n            }\n            return new lib_1.DataItem(map);\n        };\n    }\n}\nexports.QRHardwareCall = QRHardwareCall;\nQRHardwareCall.fromDataItem = (dataItem) => {\n    const map = dataItem.getData();\n    const type = map[Keys.type] || QRHardwareCallType.KeyDerivation;\n    let params;\n    switch (type) {\n        case QRHardwareCallType.KeyDerivation:\n            params = KeyDerivation_1.KeyDerivation.fromDataItem(map[Keys.params]);\n    }\n    const origin = map[Keys.origin];\n    return new QRHardwareCall(type, params, origin);\n};\nQRHardwareCall.fromCBOR = (_cborPayload) => {\n    const dataItem = (0, lib_1.decodeToDataItem)(_cborPayload);\n    return QRHardwareCall.fromDataItem(dataItem);\n};\n//# sourceMappingURL=QRHardwareCall.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Buffer = exports.extend = exports.PathComponent = exports.ScriptExpressions = exports.MultiKey = exports.CryptoPSBT = exports.CryptoOutput = exports.CryptoECKey = exports.CryptoCoinInfoNetwork = exports.CryptoCoinInfoType = exports.CryptoCoinInfo = exports.CryptoKeypath = exports.CryptoMultiAccounts = exports.CryptoHDKey = exports.CryptoAccount = exports.Bytes = exports.URRegistryDecoder = exports.DataItem = void 0;\nconst tslib_1 = require(\"tslib\");\nrequire(\"./patchCBOR\");\nconst buffer_1 = require(\"buffer/\");\nObject.defineProperty(exports, \"Buffer\", { enumerable: true, get: function () { return buffer_1.Buffer; } });\nconst CryptoHDKey_1 = require(\"./CryptoHDKey\");\nObject.defineProperty(exports, \"CryptoHDKey\", { enumerable: true, get: function () { return CryptoHDKey_1.CryptoHDKey; } });\nconst CryptoKeypath_1 = require(\"./CryptoKeypath\");\nObject.defineProperty(exports, \"CryptoKeypath\", { enumerable: true, get: function () { return CryptoKeypath_1.CryptoKeypath; } });\nconst CryptoCoinInfo_1 = require(\"./CryptoCoinInfo\");\nObject.defineProperty(exports, \"CryptoCoinInfo\", { enumerable: true, get: function () { return CryptoCoinInfo_1.CryptoCoinInfo; } });\nObject.defineProperty(exports, \"CryptoCoinInfoType\", { enumerable: true, get: function () { return CryptoCoinInfo_1.Type; } });\nObject.defineProperty(exports, \"CryptoCoinInfoNetwork\", { enumerable: true, get: function () { return CryptoCoinInfo_1.Network; } });\nconst CryptoECKey_1 = require(\"./CryptoECKey\");\nObject.defineProperty(exports, \"CryptoECKey\", { enumerable: true, get: function () { return CryptoECKey_1.CryptoECKey; } });\nconst Bytes_1 = require(\"./Bytes\");\nObject.defineProperty(exports, \"Bytes\", { enumerable: true, get: function () { return Bytes_1.Bytes; } });\nconst CryptoOutput_1 = require(\"./CryptoOutput\");\nObject.defineProperty(exports, \"CryptoOutput\", { enumerable: true, get: function () { return CryptoOutput_1.CryptoOutput; } });\nconst CryptoPSBT_1 = require(\"./CryptoPSBT\");\nObject.defineProperty(exports, \"CryptoPSBT\", { enumerable: true, get: function () { return CryptoPSBT_1.CryptoPSBT; } });\nconst CryptoAccount_1 = require(\"./CryptoAccount\");\nObject.defineProperty(exports, \"CryptoAccount\", { enumerable: true, get: function () { return CryptoAccount_1.CryptoAccount; } });\nconst Decoder_1 = require(\"./Decoder\");\nObject.defineProperty(exports, \"URRegistryDecoder\", { enumerable: true, get: function () { return Decoder_1.URRegistryDecoder; } });\nconst MultiKey_1 = require(\"./MultiKey\");\nObject.defineProperty(exports, \"MultiKey\", { enumerable: true, get: function () { return MultiKey_1.MultiKey; } });\nconst ScriptExpression_1 = require(\"./ScriptExpression\");\nObject.defineProperty(exports, \"ScriptExpressions\", { enumerable: true, get: function () { return ScriptExpression_1.ScriptExpressions; } });\nconst PathComponent_1 = require(\"./PathComponent\");\nObject.defineProperty(exports, \"PathComponent\", { enumerable: true, get: function () { return PathComponent_1.PathComponent; } });\nconst RegistryItem_1 = require(\"./RegistryItem\");\nconst RegistryType_1 = require(\"./RegistryType\");\nconst lib_1 = require(\"./lib\");\nvar lib_2 = require(\"./lib\");\nObject.defineProperty(exports, \"DataItem\", { enumerable: true, get: function () { return lib_2.DataItem; } });\nconst utils_1 = require(\"./utils\");\nconst CryptoMultiAccounts_1 = require(\"./extended/CryptoMultiAccounts\");\nObject.defineProperty(exports, \"CryptoMultiAccounts\", { enumerable: true, get: function () { return CryptoMultiAccounts_1.CryptoMultiAccounts; } });\nconst URlib = {\n    URRegistryDecoder: Decoder_1.URRegistryDecoder,\n    Bytes: Bytes_1.Bytes,\n    CryptoAccount: CryptoAccount_1.CryptoAccount,\n    CryptoHDKey: CryptoHDKey_1.CryptoHDKey,\n    CryptoMultiAccounts: CryptoMultiAccounts_1.CryptoMultiAccounts,\n    CryptoKeypath: CryptoKeypath_1.CryptoKeypath,\n    CryptoCoinInfo: CryptoCoinInfo_1.CryptoCoinInfo,\n    CryptoCoinInfoType: CryptoCoinInfo_1.Type,\n    CryptoCoinInfoNetwork: CryptoCoinInfo_1.Network,\n    CryptoECKey: CryptoECKey_1.CryptoECKey,\n    CryptoOutput: CryptoOutput_1.CryptoOutput,\n    CryptoPSBT: CryptoPSBT_1.CryptoPSBT,\n    MultiKey: MultiKey_1.MultiKey,\n    ScriptExpressions: ScriptExpression_1.ScriptExpressions,\n    PathComponent: PathComponent_1.PathComponent,\n};\nconst cbor = {\n    addReader: lib_1.addReader,\n    addSemanticDecode: lib_1.addSemanticDecode,\n    addSemanticEncode: lib_1.addSemanticEncode,\n    addWriter: lib_1.addWriter,\n    patchTags: utils_1.patchTags,\n};\nconst extend = {\n    RegistryTypes: RegistryType_1.RegistryTypes,\n    RegistryItem: RegistryItem_1.RegistryItem,\n    RegistryType: RegistryType_1.RegistryType,\n    decodeToDataItem: lib_1.decodeToDataItem,\n    encodeDataItem: lib_1.encodeDataItem,\n    cbor,\n};\nexports.extend = extend;\n(0, tslib_1.__exportStar)(require(\"./errors\"), exports);\n(0, tslib_1.__exportStar)(require(\"./Decoder\"), exports);\n(0, tslib_1.__exportStar)(require(\"./lib\"), exports);\n(0, tslib_1.__exportStar)(require(\"./CryptoAccount\"), exports);\n(0, tslib_1.__exportStar)(require(\"./CryptoPSBT\"), exports);\n(0, tslib_1.__exportStar)(require(\"./CryptoHDKey\"), exports);\n(0, tslib_1.__exportStar)(require(\"./extended/CryptoMultiAccounts\"), exports);\n(0, tslib_1.__exportStar)(require(\"./extended/QRHardwareCall\"), exports);\n(0, tslib_1.__exportStar)(require(\"./extended/KeyDerivation\"), exports);\n(0, tslib_1.__exportStar)(require(\"./extended/DerivationSchema\"), exports);\n(0, tslib_1.__exportStar)(require(\"./CryptoOutput\"), exports);\n(0, tslib_1.__exportStar)(require(\"./CryptoCoinInfo\"), exports);\n(0, tslib_1.__exportStar)(require(\"./CryptoECKey\"), exports);\n(0, tslib_1.__exportStar)(require(\"./MultiKey\"), exports);\n(0, tslib_1.__exportStar)(require(\"./CryptoKeypath\"), exports);\n(0, tslib_1.__exportStar)(require(\"./patchCBOR\"), exports);\n(0, tslib_1.__exportStar)(require(\"./PathComponent\"), exports);\n(0, tslib_1.__exportStar)(require(\"./RegistryItem\"), exports);\n(0, tslib_1.__exportStar)(require(\"./RegistryType\"), exports);\n(0, tslib_1.__exportStar)(require(\"./types\"), exports);\n(0, tslib_1.__exportStar)(require(\"./utils\"), exports);\nexports.default = URlib;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DataItem = void 0;\nclass DataItem {\n    constructor(data, tag) {\n        this.setTag = (tag) => {\n            this.tag = tag;\n        };\n        this.clearTag = () => {\n            this.tag = undefined;\n        };\n        this.getTag = () => {\n            return this.tag;\n        };\n        this.getData = () => {\n            return this.data;\n        };\n        this.data = data;\n        this.tag = tag;\n    }\n}\nexports.DataItem = DataItem;\n//# sourceMappingURL=DataItem.js.map","\"use strict\";\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([], factory);\n    }\n    else if (typeof module !== 'undefined' && module.exports) {\n        module.exports = factory();\n    }\n    else {\n        global.CBOR = factory();\n    }\n})(this, function () {\n    const { DataItem } = require('./DataItem');\n    var CBOR = (function () {\n        function BinaryHex(hex) {\n            this.$hex = hex;\n        }\n        BinaryHex.prototype = {\n            length: function () {\n                return this.$hex.length / 2;\n            },\n            toString: function (format) {\n                if (!format || format === 'hex' || format === 16)\n                    return this.$hex;\n                if (format === 'utf-8') {\n                    var encoded = '';\n                    for (var i = 0; i < this.$hex.length; i += 2) {\n                        encoded += '%' + this.$hex.substring(i, i + 2);\n                    }\n                    return decodeURIComponent(encoded);\n                }\n                if (format === 'latin') {\n                    var encoded = [];\n                    for (var i = 0; i < this.$hex.length; i += 2) {\n                        encoded.push(parseInt(this.$hex.substring(i, i + 2), 16));\n                    }\n                    return String.fromCharCode.apply(String, encoded);\n                }\n                throw new Error('Unrecognised format: ' + format);\n            },\n        };\n        BinaryHex.fromLatinString = function (latinString) {\n            var hex = '';\n            for (var i = 0; i < latinString.length; i++) {\n                var pair = latinString.charCodeAt(i).toString(16);\n                if (pair.length === 1)\n                    pair = '0' + pair;\n                hex += pair;\n            }\n            return new BinaryHex(hex);\n        };\n        BinaryHex.fromUtf8String = function (utf8String) {\n            var encoded = encodeURIComponent(utf8String);\n            var hex = '';\n            for (var i = 0; i < encoded.length; i++) {\n                if (encoded.charAt(i) === '%') {\n                    hex += encoded.substring(i + 1, i + 3);\n                    i += 2;\n                }\n                else {\n                    var hexPair = encoded.charCodeAt(i).toString(16);\n                    if (hexPair.length < 2)\n                        hexPair = '0' + hexPair;\n                    hex += hexPair;\n                }\n            }\n            return new BinaryHex(hex);\n        };\n        var semanticEncoders = [];\n        var semanticDecoders = {};\n        var notImplemented = function (label) {\n            return function () {\n                throw new Error(label + ' not implemented');\n            };\n        };\n        function Reader() { }\n        Reader.prototype = {\n            peekByte: notImplemented('peekByte'),\n            readByte: notImplemented('readByte'),\n            readChunk: notImplemented('readChunk'),\n            readFloat16: function () {\n                var half = this.readUint16();\n                var exponent = (half & 0x7fff) >> 10;\n                var mantissa = half & 0x3ff;\n                var negative = half & 0x8000;\n                if (exponent === 0x1f) {\n                    if (mantissa === 0) {\n                        return negative ? -Infinity : Infinity;\n                    }\n                    return NaN;\n                }\n                var magnitude = exponent\n                    ? Math.pow(2, exponent - 25) * (1024 + mantissa)\n                    : Math.pow(2, -24) * mantissa;\n                return negative ? -magnitude : magnitude;\n            },\n            readFloat32: function () {\n                var intValue = this.readUint32();\n                var exponent = (intValue & 0x7fffffff) >> 23;\n                var mantissa = intValue & 0x7fffff;\n                var negative = intValue & 0x80000000;\n                if (exponent === 0xff) {\n                    if (mantissa === 0) {\n                        return negative ? -Infinity : Infinity;\n                    }\n                    return NaN;\n                }\n                var magnitude = exponent\n                    ? Math.pow(2, exponent - 23 - 127) * (8388608 + mantissa)\n                    : Math.pow(2, -23 - 126) * mantissa;\n                return negative ? -magnitude : magnitude;\n            },\n            readFloat64: function () {\n                var int1 = this.readUint32(), int2 = this.readUint32();\n                var exponent = (int1 >> 20) & 0x7ff;\n                var mantissa = (int1 & 0xfffff) * 4294967296 + int2;\n                var negative = int1 & 0x80000000;\n                if (exponent === 0x7ff) {\n                    if (mantissa === 0) {\n                        return negative ? -Infinity : Infinity;\n                    }\n                    return NaN;\n                }\n                var magnitude = exponent\n                    ? Math.pow(2, exponent - 52 - 1023) * (4503599627370496 + mantissa)\n                    : Math.pow(2, -52 - 1022) * mantissa;\n                return negative ? -magnitude : magnitude;\n            },\n            readUint16: function () {\n                return this.readByte() * 256 + this.readByte();\n            },\n            readUint32: function () {\n                return this.readUint16() * 65536 + this.readUint16();\n            },\n            readUint64: function () {\n                return this.readUint32() * 4294967296 + this.readUint32();\n            },\n        };\n        function Writer() { }\n        Writer.prototype = {\n            writeByte: notImplemented('writeByte'),\n            result: notImplemented('result'),\n            writeFloat16: notImplemented('writeFloat16'),\n            writeFloat32: notImplemented('writeFloat32'),\n            writeFloat64: notImplemented('writeFloat64'),\n            writeUint16: function (value) {\n                this.writeByte((value >> 8) & 0xff);\n                this.writeByte(value & 0xff);\n            },\n            writeUint32: function (value) {\n                this.writeUint16((value >> 16) & 0xffff);\n                this.writeUint16(value & 0xffff);\n            },\n            writeUint64: function (value) {\n                if (value >= 9007199254740992 || value <= -9007199254740992) {\n                    throw new Error('Cannot encode Uint64 of: ' +\n                        value +\n                        ' magnitude to big (floating point errors)');\n                }\n                this.writeUint32(Math.floor(value / 4294967296));\n                this.writeUint32(value % 4294967296);\n            },\n            writeString: notImplemented('writeString'),\n            canWriteBinary: function (chunk) {\n                return false;\n            },\n            writeBinary: notImplemented('writeChunk'),\n        };\n        function readHeaderRaw(reader) {\n            var firstByte = reader.readByte();\n            var majorType = firstByte >> 5, value = firstByte & 0x1f;\n            return { type: majorType, value: value };\n        }\n        function valueFromHeader(header, reader) {\n            var value = header.value;\n            if (value < 24) {\n                return value;\n            }\n            else if (value == 24) {\n                return reader.readByte();\n            }\n            else if (value == 25) {\n                return reader.readUint16();\n            }\n            else if (value == 26) {\n                return reader.readUint32();\n            }\n            else if (value == 27) {\n                return reader.readUint64();\n            }\n            else if (value == 31) {\n                return null;\n            }\n            notImplemented('Additional info: ' + value)();\n        }\n        function writeHeaderRaw(type, value, writer) {\n            writer.writeByte((type << 5) | value);\n        }\n        function writeHeader(type, value, writer) {\n            var firstByte = type << 5;\n            if (value < 24) {\n                writer.writeByte(firstByte | value);\n            }\n            else if (value < 256) {\n                writer.writeByte(firstByte | 24);\n                writer.writeByte(value);\n            }\n            else if (value < 65536) {\n                writer.writeByte(firstByte | 25);\n                writer.writeUint16(value);\n            }\n            else if (value < 4294967296) {\n                writer.writeByte(firstByte | 26);\n                writer.writeUint32(value);\n            }\n            else {\n                writer.writeByte(firstByte | 27);\n                writer.writeUint64(value);\n            }\n        }\n        var stopCode = new Error();\n        function decodeReader(reader) {\n            var header = readHeaderRaw(reader);\n            switch (header.type) {\n                case 0:\n                    return valueFromHeader(header, reader);\n                case 1:\n                    return -1 - valueFromHeader(header, reader);\n                case 2:\n                    return reader.readChunk(valueFromHeader(header, reader));\n                case 3:\n                    var buffer = reader.readChunk(valueFromHeader(header, reader));\n                    return buffer.toString('utf-8');\n                case 4:\n                case 5:\n                    var arrayLength = valueFromHeader(header, reader);\n                    var result = [];\n                    if (arrayLength !== null) {\n                        if (header.type === 5) {\n                            arrayLength *= 2;\n                        }\n                        for (var i = 0; i < arrayLength; i++) {\n                            result[i] = decodeReader(reader);\n                        }\n                    }\n                    else {\n                        var item;\n                        while ((item = decodeReader(reader)) !== stopCode) {\n                            result.push(item);\n                        }\n                    }\n                    if (header.type === 5) {\n                        var objResult = {};\n                        for (var i = 0; i < result.length; i += 2) {\n                            objResult[result[i]] = result[i + 1];\n                        }\n                        return objResult;\n                    }\n                    else {\n                        return result;\n                    }\n                case 6:\n                    var tag = valueFromHeader(header, reader);\n                    var decoder = semanticDecoders[tag];\n                    var result = decodeReader(reader);\n                    return decoder ? decoder(result) : result;\n                case 7:\n                    if (header.value === 25) {\n                        return reader.readFloat16();\n                    }\n                    else if (header.value === 26) {\n                        return reader.readFloat32();\n                    }\n                    else if (header.value === 27) {\n                        return reader.readFloat64();\n                    }\n                    switch (valueFromHeader(header, reader)) {\n                        case 20:\n                            return false;\n                        case 21:\n                            return true;\n                        case 22:\n                            return null;\n                        case 23:\n                            return undefined;\n                        case null:\n                            return stopCode;\n                        default:\n                            throw new Error('Unknown fixed value: ' + header.value);\n                    }\n                default:\n                    throw new Error('Unsupported header: ' + JSON.stringify(header));\n            }\n            throw new Error('not implemented yet');\n        }\n        function encodeWriter(data, writer) {\n            for (var i = 0; i < semanticEncoders.length; i++) {\n                var replacement = semanticEncoders[i].fn(data);\n                if (replacement !== undefined) {\n                    writeHeader(6, semanticEncoders[i].tag, writer);\n                    return encodeWriter(replacement, writer);\n                }\n            }\n            if (data && typeof data.toCBOR === 'function') {\n                data = data.toCBOR();\n            }\n            if (data === false) {\n                writeHeader(7, 20, writer);\n            }\n            else if (data === true) {\n                writeHeader(7, 21, writer);\n            }\n            else if (data === null) {\n                writeHeader(7, 22, writer);\n            }\n            else if (data === undefined) {\n                writeHeader(7, 23, writer);\n            }\n            else if (typeof data === 'number') {\n                if (Math.floor(data) === data &&\n                    data < 9007199254740992 &&\n                    data > -9007199254740992) {\n                    if (data < 0) {\n                        writeHeader(1, -1 - data, writer);\n                    }\n                    else {\n                        writeHeader(0, data, writer);\n                    }\n                }\n                else {\n                    writeHeaderRaw(7, 27, writer);\n                    writer.writeFloat64(data);\n                }\n            }\n            else if (typeof data === 'string') {\n                writer.writeString(data, function (length) {\n                    writeHeader(3, length, writer);\n                });\n            }\n            else if (writer.canWriteBinary(data)) {\n                writer.writeBinary(data, function (length) {\n                    writeHeader(2, length, writer);\n                });\n            }\n            else if (typeof data === 'object') {\n                if (api.config.useToJSON && typeof data.toJSON === 'function') {\n                    data = data.toJSON();\n                }\n                if (Array.isArray(data)) {\n                    writeHeader(4, data.length, writer);\n                    for (var i = 0; i < data.length; i++) {\n                        encodeWriter(data[i], writer);\n                    }\n                }\n                else {\n                    var keys = Object.keys(data);\n                    writeHeader(5, keys.length, writer);\n                    for (var i = 0; i < keys.length; i++) {\n                        const number = parseInt(keys[i]);\n                        if (isNaN(number)) {\n                            encodeWriter(keys[i], writer);\n                            encodeWriter(data[keys[i]], writer);\n                        }\n                        else {\n                            encodeWriter(number, writer);\n                            encodeWriter(data[keys[i]], writer);\n                        }\n                    }\n                }\n            }\n            else {\n                throw new Error('CBOR encoding not supported: ' + data);\n            }\n        }\n        var readerFunctions = [];\n        var writerFunctions = [];\n        var api = {\n            config: {\n                useToJSON: true,\n            },\n            addWriter: function (format, writerFunction) {\n                if (typeof format === 'string') {\n                    writerFunctions.push(function (f) {\n                        if (format === f)\n                            return writerFunction(f);\n                    });\n                }\n                else {\n                    writerFunctions.push(format);\n                }\n            },\n            addReader: function (format, readerFunction) {\n                if (typeof format === 'string') {\n                    readerFunctions.push(function (data, f) {\n                        if (format === f)\n                            return readerFunction(data, f);\n                    });\n                }\n                else {\n                    readerFunctions.push(format);\n                }\n            },\n            encode: function (data, format) {\n                for (var i = 0; i < writerFunctions.length; i++) {\n                    var func = writerFunctions[i];\n                    var writer = func(format);\n                    if (writer) {\n                        encodeWriter(data, writer);\n                        return writer.result();\n                    }\n                }\n                throw new Error('Unsupported output format: ' + format);\n            },\n            encodeDataItem: function (data, format) {\n                for (var i = 0; i < writerFunctions.length; i++) {\n                    var func = writerFunctions[i];\n                    var writer = func(format);\n                    if (writer) {\n                        if (data.getTag() !== undefined) {\n                            encodeWriter(data, writer);\n                            return writer.result();\n                        }\n                        else {\n                            encodeWriter(data.getData(), writer);\n                            return writer.result();\n                        }\n                    }\n                }\n                throw new Error('Unsupported output format: ' + format);\n            },\n            decode: function (data, format) {\n                for (var i = 0; i < readerFunctions.length; i++) {\n                    var func = readerFunctions[i];\n                    var reader = func(data, format);\n                    if (reader) {\n                        return decodeReader(reader);\n                    }\n                }\n                throw new Error('Unsupported input format: ' + format);\n            },\n            decodeToDataItem: function (data, format) {\n                for (var i = 0; i < readerFunctions.length; i++) {\n                    var func = readerFunctions[i];\n                    var reader = func(data, format);\n                    if (reader) {\n                        const result = decodeReader(reader);\n                        if (result instanceof DataItem) {\n                            return result;\n                        }\n                        else {\n                            return new DataItem(result);\n                        }\n                    }\n                }\n                throw new Error('Unsupported input format: ' + format);\n            },\n            addSemanticEncode: function (tag, fn) {\n                if (typeof tag !== 'number' || tag % 1 !== 0 || tag < 0) {\n                    throw new Error('Tag must be a positive integer');\n                }\n                semanticEncoders.push({ tag: tag, fn: fn });\n                return this;\n            },\n            addSemanticDecode: function (tag, fn) {\n                if (typeof tag !== 'number' || tag % 1 !== 0 || tag < 0) {\n                    throw new Error('Tag must be a positive integer');\n                }\n                semanticDecoders[tag] = fn;\n                return this;\n            },\n        };\n        function BufferReader(buffer) {\n            this.buffer = buffer;\n            this.pos = 0;\n        }\n        BufferReader.prototype = Object.create(Reader.prototype);\n        BufferReader.prototype.peekByte = function () {\n            return this.buffer[this.pos];\n        };\n        BufferReader.prototype.readByte = function () {\n            return this.buffer[this.pos++];\n        };\n        BufferReader.prototype.readUint16 = function () {\n            var result = this.buffer.readUInt16BE(this.pos);\n            this.pos += 2;\n            return result;\n        };\n        BufferReader.prototype.readUint32 = function () {\n            var result = this.buffer.readUInt32BE(this.pos);\n            this.pos += 4;\n            return result;\n        };\n        BufferReader.prototype.readFloat32 = function () {\n            var result = this.buffer.readFloatBE(this.pos);\n            this.pos += 4;\n            return result;\n        };\n        BufferReader.prototype.readFloat64 = function () {\n            var result = this.buffer.readDoubleBE(this.pos);\n            this.pos += 8;\n            return result;\n        };\n        BufferReader.prototype.readChunk = function (length) {\n            var result = Buffer.alloc(length);\n            this.buffer.copy(result, 0, this.pos, (this.pos += length));\n            return result;\n        };\n        function BufferWriter(stringFormat) {\n            this.byteLength = 0;\n            this.defaultBufferLength = 16384;\n            this.latestBuffer = Buffer.alloc(this.defaultBufferLength);\n            this.latestBufferOffset = 0;\n            this.completeBuffers = [];\n            this.stringFormat = stringFormat;\n        }\n        BufferWriter.prototype = Object.create(Writer.prototype);\n        BufferWriter.prototype.writeByte = function (value) {\n            this.latestBuffer[this.latestBufferOffset++] = value;\n            if (this.latestBufferOffset >= this.latestBuffer.length) {\n                this.completeBuffers.push(this.latestBuffer);\n                this.latestBuffer = Buffer.alloc(this.defaultBufferLength);\n                this.latestBufferOffset = 0;\n            }\n            this.byteLength++;\n        };\n        BufferWriter.prototype.writeFloat32 = function (value) {\n            var buffer = Buffer.alloc(4);\n            buffer.writeFloatBE(value, 0);\n            this.writeBuffer(buffer);\n        };\n        BufferWriter.prototype.writeFloat64 = function (value) {\n            var buffer = Buffer.alloc(8);\n            buffer.writeDoubleBE(value, 0);\n            this.writeBuffer(buffer);\n        };\n        BufferWriter.prototype.writeString = function (string, lengthFunc) {\n            var buffer = Buffer.from(string, 'utf-8');\n            lengthFunc(buffer.length);\n            this.writeBuffer(buffer);\n        };\n        BufferWriter.prototype.canWriteBinary = function (data) {\n            return data instanceof Buffer;\n        };\n        BufferWriter.prototype.writeBinary = function (buffer, lengthFunc) {\n            lengthFunc(buffer.length);\n            this.writeBuffer(buffer);\n        };\n        BufferWriter.prototype.writeBuffer = function (chunk) {\n            if (!(chunk instanceof Buffer))\n                throw new TypeError('BufferWriter only accepts Buffers');\n            if (!this.latestBufferOffset) {\n                this.completeBuffers.push(chunk);\n            }\n            else if (this.latestBuffer.length - this.latestBufferOffset >=\n                chunk.length) {\n                chunk.copy(this.latestBuffer, this.latestBufferOffset);\n                this.latestBufferOffset += chunk.length;\n                if (this.latestBufferOffset >= this.latestBuffer.length) {\n                    this.completeBuffers.push(this.latestBuffer);\n                    this.latestBuffer = Buffer.alloc(this.defaultBufferLength);\n                    this.latestBufferOffset = 0;\n                }\n            }\n            else {\n                this.completeBuffers.push(this.latestBuffer.slice(0, this.latestBufferOffset));\n                this.completeBuffers.push(chunk);\n                this.latestBuffer = Buffer.alloc(this.defaultBufferLength);\n                this.latestBufferOffset = 0;\n            }\n            this.byteLength += chunk.length;\n        };\n        BufferWriter.prototype.result = function () {\n            var result = Buffer.alloc(this.byteLength);\n            var offset = 0;\n            for (var i = 0; i < this.completeBuffers.length; i++) {\n                var buffer = this.completeBuffers[i];\n                buffer.copy(result, offset, 0, buffer.length);\n                offset += buffer.length;\n            }\n            if (this.latestBufferOffset) {\n                this.latestBuffer.copy(result, offset, 0, this.latestBufferOffset);\n            }\n            if (this.stringFormat)\n                return result.toString(this.stringFormat);\n            return result;\n        };\n        if (typeof Buffer === 'function') {\n            api.addReader(function (data, format) {\n                if (Buffer.isBuffer(data)) {\n                    return new BufferReader(data);\n                }\n                if (format === 'hex' || format === 'base64') {\n                    var buffer = Buffer.from(data, format);\n                    return new BufferReader(buffer);\n                }\n            });\n            api.addWriter(function (format) {\n                if (!format || format === 'buffer') {\n                    return new BufferWriter();\n                }\n                else if (format === 'hex' || format === 'base64') {\n                    return new BufferWriter(format);\n                }\n            });\n        }\n        function HexReader(hex) {\n            this.hex = hex;\n            this.pos = 0;\n        }\n        HexReader.prototype = Object.create(Reader.prototype);\n        HexReader.prototype.peekByte = function () {\n            var pair = this.hex.substring(this.pos, 2);\n            return parseInt(pair, 16);\n        };\n        HexReader.prototype.readByte = function () {\n            var pair = this.hex.substring(this.pos, this.pos + 2);\n            this.pos += 2;\n            return parseInt(pair, 16);\n        };\n        HexReader.prototype.readChunk = function (length) {\n            var hex = this.hex.substring(this.pos, this.pos + length * 2);\n            this.pos += length * 2;\n            if (typeof Buffer === 'function')\n                return Buffer.from(hex, 'hex');\n            return new BinaryHex(hex);\n        };\n        function HexWriter(finalFormat) {\n            this.$hex = '';\n            this.finalFormat = finalFormat || 'hex';\n        }\n        HexWriter.prototype = Object.create(Writer.prototype);\n        HexWriter.prototype.writeByte = function (value) {\n            if (value < 0 || value > 255)\n                throw new Error('Byte value out of range: ' + value);\n            var hex = value.toString(16);\n            if (hex.length == 1) {\n                hex = '0' + hex;\n            }\n            this.$hex += hex;\n        };\n        HexWriter.prototype.canWriteBinary = function (chunk) {\n            return (chunk instanceof BinaryHex ||\n                (typeof Buffer === 'function' && chunk instanceof Buffer));\n        };\n        HexWriter.prototype.writeBinary = function (chunk, lengthFunction) {\n            if (chunk instanceof BinaryHex) {\n                lengthFunction(chunk.length());\n                this.$hex += chunk.$hex;\n            }\n            else if (typeof Buffer === 'function' && chunk instanceof Buffer) {\n                lengthFunction(chunk.length);\n                this.$hex += chunk.toString('hex');\n            }\n            else {\n                throw new TypeError('HexWriter only accepts BinaryHex or Buffers');\n            }\n        };\n        HexWriter.prototype.result = function () {\n            if (this.finalFormat === 'buffer' && typeof Buffer === 'function') {\n                return Buffer.from(this.$hex, 'hex');\n            }\n            return new BinaryHex(this.$hex).toString(this.finalFormat);\n        };\n        HexWriter.prototype.writeString = function (string, lengthFunction) {\n            var buffer = BinaryHex.fromUtf8String(string);\n            lengthFunction(buffer.length());\n            this.$hex += buffer.$hex;\n        };\n        api.addReader(function (data, format) {\n            if (data instanceof BinaryHex || data.$hex) {\n                return new HexReader(data.$hex);\n            }\n            if (format === 'hex') {\n                return new HexReader(data);\n            }\n        });\n        api.addWriter(function (format) {\n            if (format === 'hex') {\n                return new HexWriter();\n            }\n        });\n        return api;\n    })();\n    CBOR.addSemanticEncode(0, function (data) {\n        if (data instanceof Date) {\n            return data.toISOString();\n        }\n    })\n        .addSemanticDecode(0, function (isoString) {\n        return new Date(isoString);\n    })\n        .addSemanticDecode(1, function (isoString) {\n        return new Date(isoString);\n    });\n    return CBOR;\n});\n//# sourceMappingURL=cbor-sync.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DataItem = exports.addWriter = exports.addReader = exports.addSemanticEncode = exports.addSemanticDecode = exports.decodeToDataItem = exports.encodeDataItem = void 0;\nvar cbor_sync_1 = require(\"./cbor-sync\");\nObject.defineProperty(exports, \"encodeDataItem\", { enumerable: true, get: function () { return cbor_sync_1.encodeDataItem; } });\nObject.defineProperty(exports, \"decodeToDataItem\", { enumerable: true, get: function () { return cbor_sync_1.decodeToDataItem; } });\nObject.defineProperty(exports, \"addSemanticDecode\", { enumerable: true, get: function () { return cbor_sync_1.addSemanticDecode; } });\nObject.defineProperty(exports, \"addSemanticEncode\", { enumerable: true, get: function () { return cbor_sync_1.addSemanticEncode; } });\nObject.defineProperty(exports, \"addReader\", { enumerable: true, get: function () { return cbor_sync_1.addReader; } });\nObject.defineProperty(exports, \"addWriter\", { enumerable: true, get: function () { return cbor_sync_1.addWriter; } });\nvar DataItem_1 = require(\"./DataItem\");\nObject.defineProperty(exports, \"DataItem\", { enumerable: true, get: function () { return DataItem_1.DataItem; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils_1 = require(\"./utils\");\nconst RegistryType_1 = require(\"./RegistryType\");\nconst ScriptExpression_1 = require(\"./ScriptExpression\");\nconst registryTags = Object.values(RegistryType_1.RegistryTypes)\n    .filter((r) => !!r.getTag())\n    .map((r) => r.getTag());\nconst scriptExpressionTags = Object.values(ScriptExpression_1.ScriptExpressions).map((se) => se.getTag());\n(0, utils_1.patchTags)(registryTags.concat(scriptExpressionTags));\n//# sourceMappingURL=patchCBOR.js.map","import { BigNumber } from 'bignumber.js';\nimport { Json } from '@metamask/utils';\nimport { IndividualTxFees } from '@metamask/smart-transactions-controller/dist/types';\nimport {\n  ALLOWED_CONTRACT_ADDRESSES,\n  ARBITRUM,\n  AVALANCHE,\n  BASE,\n  BSC,\n  ETHEREUM,\n  GOERLI,\n  LINEA,\n  OPTIMISM,\n  POLYGON,\n  ZKSYNC_ERA,\n  SWAPS_API_V2_BASE_URL,\n  SWAPS_CHAINID_DEFAULT_TOKEN_MAP,\n  SWAPS_CLIENT_ID,\n  SWAPS_DEV_API_V2_BASE_URL,\n  SwapsTokenObject,\n} from '../../../shared/constants/swaps';\nimport {\n  isSwapsDefaultTokenAddress,\n  isSwapsDefaultTokenSymbol,\n} from '../../../shared/modules/swaps.utils';\nimport { CHAIN_IDS } from '../../../shared/constants/network';\nimport { formatCurrency } from '../../helpers/utils/confirm-tx.util';\nimport fetchWithCache from '../../../shared/lib/fetch-with-cache';\n\nimport { isValidHexAddress } from '../../../shared/modules/hexstring-utils';\nimport {\n  calcGasTotal,\n  calcTokenAmount,\n  toPrecisionWithoutTrailingZeros,\n} from '../../../shared/lib/transactions-controller-utils';\nimport {\n  getBaseApi,\n  truthyString,\n  validateData,\n} from '../../../shared/lib/swaps-utils';\nimport {\n  decimalToHex,\n  getValueFromWeiHex,\n  sumHexes,\n} from '../../../shared/modules/conversion.utils';\nimport { EtherDenomination } from '../../../shared/constants/common';\n\nconst CACHE_REFRESH_FIVE_MINUTES = 300000;\nconst USD_CURRENCY_CODE = 'usd';\n\nconst clientIdHeader = { 'X-Client-Id': SWAPS_CLIENT_ID };\n\ntype Validator = {\n  property: string;\n  type: string;\n  validator: (a: string) => boolean;\n};\n\nconst TOKEN_VALIDATORS: Validator[] = [\n  {\n    property: 'address',\n    type: 'string',\n    validator: (input) => isValidHexAddress(input, { allowNonPrefixed: false }),\n  },\n  {\n    property: 'symbol',\n    type: 'string',\n    validator: (string) => truthyString(string) && string.length <= 12,\n  },\n  {\n    property: 'decimals',\n    type: 'string|number',\n    validator: (string) => Number(string) >= 0 && Number(string) <= 36,\n  },\n];\n\nconst TOP_ASSET_VALIDATORS = TOKEN_VALIDATORS.slice(0, 2);\n\nconst AGGREGATOR_METADATA_VALIDATORS: Validator[] = [\n  {\n    property: 'color',\n    type: 'string',\n    validator: (string) => Boolean(string.match(/^#[A-Fa-f0-9]+$/u)),\n  },\n  {\n    property: 'title',\n    type: 'string',\n    validator: truthyString,\n  },\n  {\n    property: 'icon',\n    type: 'string',\n    validator: (string) => Boolean(string.match(/^data:image/u)),\n  },\n];\n\n// TODO: Replace `any` with type\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isValidDecimalNumber = (string: any): boolean =>\n  !isNaN(string) && string.match(/^[.0-9]+$/u) && !isNaN(parseFloat(string));\n\nconst SWAP_GAS_PRICE_VALIDATOR: Validator[] = [\n  {\n    property: 'SafeGasPrice',\n    type: 'string',\n    validator: isValidDecimalNumber,\n  },\n  {\n    property: 'ProposeGasPrice',\n    type: 'string',\n    validator: isValidDecimalNumber,\n  },\n  {\n    property: 'FastGasPrice',\n    type: 'string',\n    validator: isValidDecimalNumber,\n  },\n];\n\nexport async function fetchToken(\n  contractAddress: string,\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  chainId: any,\n): Promise<Json> {\n  const tokenUrl = getBaseApi('token', chainId);\n  return await fetchWithCache({\n    url: `${tokenUrl}?address=${contractAddress}`,\n    fetchOptions: { method: 'GET', headers: clientIdHeader },\n    cacheOptions: { cacheRefreshTime: CACHE_REFRESH_FIVE_MINUTES },\n    functionName: 'fetchToken',\n  });\n}\n\nexport async function fetchBlockedTokens(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  chainId: any,\n): Promise<string[]> {\n  const blockedTokensUrl = getBaseApi('blockedTokens', chainId);\n  return await fetchWithCache({\n    url: `${blockedTokensUrl}`,\n    fetchOptions: { method: 'GET', headers: clientIdHeader },\n    cacheOptions: { cacheRefreshTime: CACHE_REFRESH_FIVE_MINUTES },\n    functionName: 'fetchBlockedTokens',\n  });\n}\n\ntype Token = { symbol: string; address: string };\nexport async function fetchTokens(\n  chainId: keyof typeof SWAPS_CHAINID_DEFAULT_TOKEN_MAP,\n): Promise<SwapsTokenObject[]> {\n  const tokensUrl = getBaseApi('tokens', chainId);\n  const tokens = await fetchWithCache({\n    url: tokensUrl,\n    fetchOptions: { method: 'GET', headers: clientIdHeader },\n    cacheOptions: { cacheRefreshTime: CACHE_REFRESH_FIVE_MINUTES },\n    functionName: 'fetchTokens',\n  });\n  const logError = false;\n  const tokenObject = SWAPS_CHAINID_DEFAULT_TOKEN_MAP[chainId] || null;\n  return [\n    tokenObject,\n    ...tokens.filter((token: Token) => {\n      return (\n        validateData(TOKEN_VALIDATORS, token, tokensUrl, logError) &&\n        !(\n          isSwapsDefaultTokenSymbol(token.symbol, chainId) ||\n          isSwapsDefaultTokenAddress(token.address, chainId)\n        )\n      );\n    }),\n  ];\n}\n\n// TODO: Replace `any` with type\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport async function fetchAggregatorMetadata(chainId: any): Promise<object> {\n  const aggregatorMetadataUrl = getBaseApi('aggregatorMetadata', chainId);\n  const aggregators = await fetchWithCache({\n    url: aggregatorMetadataUrl,\n    fetchOptions: { method: 'GET', headers: clientIdHeader },\n    cacheOptions: { cacheRefreshTime: CACHE_REFRESH_FIVE_MINUTES },\n    functionName: 'fetchAggregatorMetadata',\n  });\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const filteredAggregators = {} as any;\n  for (const aggKey in aggregators) {\n    if (\n      validateData(\n        AGGREGATOR_METADATA_VALIDATORS,\n        aggregators[aggKey],\n        aggregatorMetadataUrl,\n      )\n    ) {\n      filteredAggregators[aggKey] = aggregators[aggKey];\n    }\n  }\n  return filteredAggregators;\n}\n\n// TODO: Replace `any` with type\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport async function fetchTopAssets(chainId: any): Promise<object> {\n  const topAssetsUrl = getBaseApi('topAssets', chainId);\n  const response =\n    (await fetchWithCache({\n      url: topAssetsUrl,\n      functionName: 'fetchTopAssets',\n      fetchOptions: { method: 'GET', headers: clientIdHeader },\n      cacheOptions: { cacheRefreshTime: CACHE_REFRESH_FIVE_MINUTES },\n    })) || [];\n  const topAssetsMap = response.reduce(\n    // TODO: Replace `any` with type\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (_topAssetsMap: any, asset: { address: string }, index: number) => {\n      if (validateData(TOP_ASSET_VALIDATORS, asset, topAssetsUrl)) {\n        return { ..._topAssetsMap, [asset.address]: { index: String(index) } };\n      }\n      return _topAssetsMap;\n    },\n    {},\n  );\n  return topAssetsMap;\n}\n\n// TODO: Replace `any` with type\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport async function fetchSwapsFeatureFlags(): Promise<any> {\n  const v2ApiBaseUrl = process.env.SWAPS_USE_DEV_APIS\n    ? SWAPS_DEV_API_V2_BASE_URL\n    : SWAPS_API_V2_BASE_URL;\n  return await fetchWithCache({\n    url: `${v2ApiBaseUrl}/featureFlags`,\n    fetchOptions: { method: 'GET', headers: clientIdHeader },\n    cacheOptions: { cacheRefreshTime: 600000 },\n    functionName: 'fetchSwapsFeatureFlags',\n  });\n}\n\nexport async function fetchTokenPrice(\n  tokenContractAddress: string,\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n): Promise<any> {\n  const query = `spot-prices?tokenAddresses=${tokenContractAddress}&vsCurrency=eth&includeMarketData=false`;\n\n  const prices = await fetchWithCache({\n    url: `https://price.api.cx.metamask.io/v2/chains/1/${query}`,\n    fetchOptions: {\n      method: 'GET',\n    },\n    cacheOptions: { cacheRefreshTime: 60000 },\n    functionName: 'fetchTokenPrice',\n  });\n  return prices?.[tokenContractAddress]?.eth;\n}\n\n// TODO: Replace `any` with type\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport async function fetchSwapsGasPrices(chainId: any): Promise<\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  | any\n  | {\n      safeLow: string;\n      average: string;\n      fast: string;\n    }\n> {\n  const gasPricesUrl = getBaseApi('gasPrices', chainId);\n  const response = await fetchWithCache({\n    url: gasPricesUrl,\n    fetchOptions: { method: 'GET', headers: clientIdHeader },\n    cacheOptions: { cacheRefreshTime: 30000 },\n    functionName: 'fetchSwapsGasPrices',\n  });\n  const responseIsValid = validateData(\n    SWAP_GAS_PRICE_VALIDATOR,\n    response,\n    gasPricesUrl,\n  );\n\n  if (!responseIsValid) {\n    throw new Error(`${gasPricesUrl} response is invalid`);\n  }\n\n  const {\n    SafeGasPrice: safeLow,\n    ProposeGasPrice: average,\n    FastGasPrice: fast,\n  } = response;\n\n  return {\n    safeLow,\n    average,\n    fast,\n  };\n}\n\nexport const getFeeForSmartTransaction = ({\n  chainId,\n  currentCurrency,\n  conversionRate,\n  USDConversionRate,\n  nativeCurrencySymbol,\n  feeInWeiDec,\n}: {\n  chainId: keyof typeof SWAPS_CHAINID_DEFAULT_TOKEN_MAP;\n  currentCurrency: string;\n  conversionRate: number;\n  USDConversionRate?: number;\n  nativeCurrencySymbol: string;\n  feeInWeiDec: number;\n}) => {\n  const feeInWeiHex = decimalToHex(feeInWeiDec);\n  const ethFee = getValueFromWeiHex({\n    value: feeInWeiHex,\n    toDenomination: EtherDenomination.ETH,\n    numberOfDecimals: 5,\n  });\n  const rawNetworkFees = getValueFromWeiHex({\n    value: feeInWeiHex,\n    toCurrency: currentCurrency,\n    conversionRate,\n    numberOfDecimals: 2,\n  });\n  let feeInUsd;\n  if (currentCurrency === USD_CURRENCY_CODE) {\n    feeInUsd = rawNetworkFees;\n  } else {\n    feeInUsd = getValueFromWeiHex({\n      value: feeInWeiHex,\n      toCurrency: USD_CURRENCY_CODE,\n      conversionRate: USDConversionRate,\n      numberOfDecimals: 2,\n    });\n  }\n  const formattedNetworkFee = formatCurrency(rawNetworkFees, currentCurrency);\n  const chainCurrencySymbolToUse =\n    nativeCurrencySymbol || SWAPS_CHAINID_DEFAULT_TOKEN_MAP[chainId]?.symbol;\n  return {\n    feeInUsd,\n    feeInFiat: formattedNetworkFee,\n    feeInEth: `${ethFee} ${chainCurrencySymbolToUse}`,\n    rawEthFee: ethFee,\n  };\n};\n\nexport function getRenderableNetworkFeesForQuote({\n  tradeGas,\n  approveGas,\n  gasPrice,\n  currentCurrency,\n  conversionRate,\n  USDConversionRate,\n  tradeValue,\n  sourceSymbol,\n  sourceAmount,\n  chainId,\n  nativeCurrencySymbol,\n  multiLayerL1FeeTotal,\n}: {\n  tradeGas: string;\n  approveGas: string;\n  gasPrice: string;\n  currentCurrency: string;\n  conversionRate: number;\n  USDConversionRate?: number;\n  tradeValue: number;\n  sourceSymbol: string;\n  sourceAmount: number;\n  chainId: keyof typeof SWAPS_CHAINID_DEFAULT_TOKEN_MAP;\n  nativeCurrencySymbol?: string;\n  multiLayerL1FeeTotal: string | null;\n}): {\n  rawNetworkFees: string | number | BigNumber;\n  feeInUsd: string | number | BigNumber;\n  rawEthFee: string | number | BigNumber;\n  feeInFiat: string;\n  feeInEth: string;\n  nonGasFee: string;\n} {\n  const totalGasLimitForCalculation = new BigNumber(tradeGas || '0x0', 16)\n    .plus(approveGas || '0x0', 16)\n    .toString(16);\n  let gasTotalInWeiHex = calcGasTotal(totalGasLimitForCalculation, gasPrice);\n  if (multiLayerL1FeeTotal !== null) {\n    gasTotalInWeiHex = sumHexes(\n      gasTotalInWeiHex || '0x0',\n      multiLayerL1FeeTotal || '0x0',\n    );\n  }\n\n  const nonGasFee = new BigNumber(tradeValue, 16)\n    .minus(\n      isSwapsDefaultTokenSymbol(sourceSymbol, chainId) ? sourceAmount : 0,\n      10,\n    )\n    .toString(16);\n\n  const totalWeiCost = new BigNumber(gasTotalInWeiHex, 16)\n    .plus(nonGasFee, 16)\n    .toString(16);\n  const ethFee = getValueFromWeiHex({\n    value: totalWeiCost,\n    toDenomination: EtherDenomination.ETH,\n    numberOfDecimals: 5,\n  });\n  const rawNetworkFees = getValueFromWeiHex({\n    value: totalWeiCost,\n    toCurrency: currentCurrency,\n    conversionRate,\n    numberOfDecimals: 2,\n  });\n  const formattedNetworkFee = formatCurrency(rawNetworkFees, currentCurrency);\n\n  let feeInUsd;\n  if (currentCurrency === USD_CURRENCY_CODE) {\n    feeInUsd = rawNetworkFees;\n  } else {\n    feeInUsd = getValueFromWeiHex({\n      value: totalWeiCost,\n      toCurrency: USD_CURRENCY_CODE,\n      conversionRate: USDConversionRate,\n      numberOfDecimals: 2,\n    });\n  }\n\n  const chainCurrencySymbolToUse =\n    nativeCurrencySymbol || SWAPS_CHAINID_DEFAULT_TOKEN_MAP[chainId].symbol;\n\n  return {\n    rawNetworkFees,\n    feeInUsd,\n    rawEthFee: ethFee,\n    feeInFiat: formattedNetworkFee,\n    feeInEth: `${ethFee} ${chainCurrencySymbolToUse}`,\n    nonGasFee,\n  };\n}\n\nexport function quotesToRenderableData({\n  quotes,\n  gasPrice,\n  conversionRate,\n  currentCurrency,\n  approveGas,\n  tokenConversionRates,\n  chainId,\n  smartTransactionEstimatedGas,\n  nativeCurrencySymbol,\n  multiLayerL1ApprovalFeeTotal,\n}: {\n  quotes: object;\n  gasPrice: string;\n  conversionRate: number;\n  currentCurrency: string;\n  approveGas: string;\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  tokenConversionRates: Record<string, any>;\n  chainId: keyof typeof SWAPS_CHAINID_DEFAULT_TOKEN_MAP;\n  smartTransactionEstimatedGas: IndividualTxFees;\n  nativeCurrencySymbol: string;\n  multiLayerL1ApprovalFeeTotal: string | null;\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n}): Record<string, any> {\n  return Object.values(quotes).map((quote) => {\n    const {\n      destinationAmount = 0,\n      sourceAmount = 0,\n      sourceTokenInfo,\n      destinationTokenInfo,\n      slippage,\n      aggType,\n      aggregator,\n      gasEstimateWithRefund,\n      averageGas,\n      fee,\n      trade,\n      multiLayerL1TradeFeeTotal,\n    } = quote;\n    let multiLayerL1FeeTotal = null;\n    if (\n      multiLayerL1TradeFeeTotal !== null &&\n      multiLayerL1ApprovalFeeTotal !== null\n    ) {\n      multiLayerL1FeeTotal = sumHexes(\n        multiLayerL1TradeFeeTotal || '0x0',\n        multiLayerL1ApprovalFeeTotal || '0x0',\n      );\n    } else if (multiLayerL1TradeFeeTotal !== null) {\n      multiLayerL1FeeTotal = multiLayerL1TradeFeeTotal;\n    }\n    const sourceValue = calcTokenAmount(\n      sourceAmount,\n      sourceTokenInfo.decimals,\n    ).toString(10);\n    const destinationValue = calcTokenAmount(\n      destinationAmount,\n      destinationTokenInfo.decimals,\n    ).toPrecision(8);\n\n    let feeInFiat = null;\n    let feeInEth = null;\n    let rawNetworkFees = null;\n    let rawEthFee = null;\n\n    ({ feeInFiat, feeInEth, rawNetworkFees, rawEthFee } =\n      getRenderableNetworkFeesForQuote({\n        tradeGas: gasEstimateWithRefund || decimalToHex(averageGas || 800000),\n        approveGas,\n        gasPrice,\n        currentCurrency,\n        conversionRate,\n        tradeValue: trade.value,\n        sourceSymbol: sourceTokenInfo.symbol,\n        sourceAmount,\n        chainId,\n        multiLayerL1FeeTotal,\n      }));\n\n    if (smartTransactionEstimatedGas) {\n      ({ feeInFiat, feeInEth } = getFeeForSmartTransaction({\n        chainId,\n        currentCurrency,\n        conversionRate,\n        nativeCurrencySymbol,\n        feeInWeiDec: smartTransactionEstimatedGas.feeEstimate,\n      }));\n    }\n\n    const slippageMultiplier = new BigNumber(100 - slippage).div(100);\n    const minimumAmountReceived = new BigNumber(destinationValue)\n      .times(slippageMultiplier)\n      .toFixed(6);\n\n    const tokenConversionRate =\n      tokenConversionRates[destinationTokenInfo.address];\n    const ethValueOfTrade = isSwapsDefaultTokenSymbol(\n      destinationTokenInfo.symbol,\n      chainId,\n    )\n      ? calcTokenAmount(destinationAmount, destinationTokenInfo.decimals).minus(\n          rawEthFee,\n          10,\n        )\n      : new BigNumber(tokenConversionRate || 0, 10)\n          .times(\n            calcTokenAmount(destinationAmount, destinationTokenInfo.decimals),\n            10,\n          )\n          .minus(rawEthFee, 10);\n\n    let liquiditySourceKey;\n    let renderedSlippage = slippage;\n\n    if (aggType === 'AGG') {\n      liquiditySourceKey = 'swapAggregator';\n    } else if (aggType === 'RFQ') {\n      liquiditySourceKey = 'swapRequestForQuotation';\n      renderedSlippage = 0;\n    } else if (aggType === 'DEX') {\n      liquiditySourceKey = 'swapDecentralizedExchange';\n    } else if (aggType === 'CONTRACT') {\n      liquiditySourceKey = 'swapDirectContract';\n    } else {\n      liquiditySourceKey = 'swapUnknown';\n    }\n\n    return {\n      aggId: aggregator,\n      amountReceiving: `${destinationValue} ${destinationTokenInfo.symbol}`,\n      destinationTokenDecimals: destinationTokenInfo.decimals,\n      destinationTokenSymbol: destinationTokenInfo.symbol,\n      destinationTokenValue: formatSwapsValueForDisplay(destinationValue),\n      destinationIconUrl: destinationTokenInfo.iconUrl,\n      isBestQuote: quote.isBestQuote,\n      liquiditySourceKey,\n      feeInEth,\n      detailedNetworkFees: `${feeInEth} (${feeInFiat})`,\n      networkFees: feeInFiat,\n      quoteSource: aggType,\n      rawNetworkFees,\n      slippage: renderedSlippage,\n      sourceTokenDecimals: sourceTokenInfo.decimals,\n      sourceTokenSymbol: sourceTokenInfo.symbol,\n      sourceTokenValue: sourceValue,\n      sourceTokenIconUrl: sourceTokenInfo.iconUrl,\n      ethValueOfTrade,\n      minimumAmountReceived,\n      metaMaskFee: fee,\n    };\n  });\n}\n\nexport function formatSwapsValueForDisplay(\n  destinationAmount: string | BigNumber,\n): string {\n  let amountToDisplay;\n  if (\n    typeof destinationAmount === 'string' &&\n    destinationAmount.includes('...')\n  ) {\n    amountToDisplay = destinationAmount;\n  } else {\n    amountToDisplay = toPrecisionWithoutTrailingZeros(destinationAmount, 12);\n  }\n  if (amountToDisplay.match(/e[+-]/u)) {\n    amountToDisplay = new BigNumber(amountToDisplay).toFixed();\n  }\n  return amountToDisplay;\n}\n\nexport const getClassNameForCharLength = (\n  num: string,\n  classNamePrefix: string,\n): string => {\n  let modifier;\n  if (!num || num.length <= 10) {\n    modifier = 'lg';\n  } else if (num.length > 10 && num.length <= 13) {\n    modifier = 'md';\n  } else {\n    modifier = 'sm';\n  }\n  return `${classNamePrefix}--${modifier}`;\n};\n\n/**\n * Checks whether a contract address is valid before swapping tokens.\n *\n * @param contractAddress - E.g. \"0x881d40237659c251811cec9c364ef91dc08d300c\" for mainnet\n * @param chainId - The hex encoded chain ID to check\n * @returns Whether a contract address is valid or not\n */\nexport const isContractAddressValid = (\n  contractAddress: string,\n  chainId: keyof typeof ALLOWED_CONTRACT_ADDRESSES,\n): boolean => {\n  if (!contractAddress || !ALLOWED_CONTRACT_ADDRESSES[chainId]) {\n    return false;\n  }\n  return ALLOWED_CONTRACT_ADDRESSES[chainId].some(\n    // Sometimes we get a contract address with a few upper-case chars and since addresses are\n    // case-insensitive, we compare lowercase versions for validity.\n    (allowedContractAddress: string) =>\n      contractAddress.toLowerCase() === allowedContractAddress.toLowerCase(),\n  );\n};\n\n/**\n * @param chainId\n * @returns string e.g. ethereum, bsc or polygon\n */\nexport const getNetworkNameByChainId = (chainId: string): string => {\n  switch (chainId) {\n    case CHAIN_IDS.MAINNET:\n      return ETHEREUM;\n    case CHAIN_IDS.BSC:\n      return BSC;\n    case CHAIN_IDS.POLYGON:\n      return POLYGON;\n    case CHAIN_IDS.GOERLI:\n      return GOERLI;\n    case CHAIN_IDS.AVALANCHE:\n      return AVALANCHE;\n    case CHAIN_IDS.OPTIMISM:\n      return OPTIMISM;\n    case CHAIN_IDS.ARBITRUM:\n      return ARBITRUM;\n    case CHAIN_IDS.ZKSYNC_ERA:\n      return ZKSYNC_ERA;\n    case CHAIN_IDS.LINEA_MAINNET:\n      return LINEA;\n    case CHAIN_IDS.BASE:\n      return BASE;\n    default:\n      return '';\n  }\n};\n\n/**\n * It returns info about if Swaps are enabled and if we should use our new APIs for it.\n *\n * @param chainId\n * @param swapsFeatureFlags\n * @returns object with 2 items: \"swapsFeatureIsLive\"\n */\nexport const getSwapsLivenessForNetwork = (\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  chainId: any,\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  swapsFeatureFlags: any = {},\n) => {\n  const networkName = getNetworkNameByChainId(chainId);\n  // Use old APIs for testnet and Goerli.\n  if ([CHAIN_IDS.LOCALHOST, CHAIN_IDS.GOERLI].includes(chainId)) {\n    return {\n      swapsFeatureIsLive: true,\n    };\n  }\n  // If a network name is not found in the list of feature flags, disable Swaps.\n  if (!swapsFeatureFlags[networkName]) {\n    return {\n      swapsFeatureIsLive: false,\n    };\n  }\n  const isNetworkEnabledForNewApi =\n    swapsFeatureFlags[networkName].extensionActive;\n  if (isNetworkEnabledForNewApi) {\n    return {\n      swapsFeatureIsLive: true,\n    };\n  }\n  return {\n    swapsFeatureIsLive: swapsFeatureFlags[networkName].fallbackToV1,\n  };\n};\n\n/**\n * @param value\n * @returns number\n */\n// TODO: Replace `any` with type\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const countDecimals = (value: any): number => {\n  if (!value || Math.floor(value) === value) {\n    return 0;\n  }\n  return value.toString().split('.')[1]?.length || 0;\n};\n\nexport const showRemainingTimeInMinAndSec = (\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  remainingTimeInSec: any,\n): string => {\n  if (!Number.isInteger(remainingTimeInSec)) {\n    return '0:00';\n  }\n  const minutes = Math.floor(remainingTimeInSec / 60);\n  const seconds = remainingTimeInSec % 60;\n  return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n};\n\nexport enum StxErrorTypes {\n  unavailable = 'unavailable',\n  notEnoughFunds = 'not_enough_funds',\n  regularTxPending = 'regular_tx_pending',\n}\n\nexport const getTranslatedStxErrorMessage = (\n  errorType: StxErrorTypes,\n  // TODO: Replace `any` with type\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  t: (...args: any[]) => string,\n): string => {\n  switch (errorType) {\n    case StxErrorTypes.unavailable:\n    case StxErrorTypes.regularTxPending:\n      return t('smartSwapsErrorUnavailable');\n    case StxErrorTypes.notEnoughFunds:\n      return t('smartSwapsErrorNotEnoughFunds');\n    default:\n      return t('smartSwapsErrorUnavailable');\n  }\n};\n\nexport const parseSmartTransactionsError = (errorMessage: string): string => {\n  const errorJson = errorMessage.slice(12);\n  return JSON.parse(errorJson.trim());\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.patchTags = void 0;\nconst lib_1 = require(\"./lib\");\nconst alreadyPatchedTag = [];\nconst patchTags = (tags) => {\n    tags.forEach((tag) => {\n        if (alreadyPatchedTag.find((i) => i === tag))\n            return;\n        (0, lib_1.addSemanticEncode)(tag, (data) => {\n            if (data instanceof lib_1.DataItem) {\n                if (data.getTag() === tag) {\n                    return data.getData();\n                }\n            }\n        });\n        (0, lib_1.addSemanticDecode)(tag, (data) => {\n            return new lib_1.DataItem(data, tag);\n        });\n        alreadyPatchedTag.push(tag);\n    });\n};\nexports.patchTags = patchTags;\n//# sourceMappingURL=utils.js.map","import { ApprovalControllerState } from '@metamask/approval-controller';\nimport { ApprovalType } from '@metamask/controller-utils';\nimport { createSelector } from 'reselect';\nimport { createDeepEqualSelector } from './util';\n\nexport type ApprovalsMetaMaskState = {\n  metamask: {\n    pendingApprovals: ApprovalControllerState['pendingApprovals'];\n    approvalFlows: ApprovalControllerState['approvalFlows'];\n  };\n};\n\nexport function hasPendingApprovals(\n  state: ApprovalsMetaMaskState,\n  approvalTypes: ApprovalType[],\n  predicate?: (\n    approval: ApprovalControllerState['pendingApprovals'][string],\n  ) => boolean,\n) {\n  const pendingApprovalRequests = Object.values(\n    state.metamask.pendingApprovals,\n  ).filter(({ type }) => approvalTypes.includes(type as ApprovalType));\n\n  if (predicate) {\n    return pendingApprovalRequests.some(predicate);\n  }\n\n  return pendingApprovalRequests.length > 0;\n}\n\nexport const getApprovalRequestsByType = (\n  state: ApprovalsMetaMaskState,\n  approvalType: ApprovalType,\n  predicate?: (\n    approval: ApprovalControllerState['pendingApprovals'][string],\n  ) => boolean,\n) => {\n  const pendingApprovalRequests = Object.values(\n    state.metamask.pendingApprovals,\n  ).filter(({ type }) => type === approvalType);\n\n  if (predicate) {\n    return pendingApprovalRequests.filter(predicate);\n  }\n\n  return pendingApprovalRequests;\n};\n\nexport function getApprovalFlows(state: ApprovalsMetaMaskState) {\n  return state.metamask.approvalFlows;\n}\n\nexport function getPendingApprovals(state: ApprovalsMetaMaskState) {\n  return Object.values(state.metamask.pendingApprovals ?? []);\n}\n\nexport function pendingApprovalsSortedSelector(state: ApprovalsMetaMaskState) {\n  return getPendingApprovals(state).sort((a1, a2) => a1.time - a2.time);\n}\n\nconst internalSelectPendingApproval = createSelector(\n  getPendingApprovals,\n  (_state: ApprovalsMetaMaskState, id: string) => id,\n  (approvals, id) => approvals.find(({ id: approvalId }) => approvalId === id),\n);\n\nexport const selectPendingApproval = createDeepEqualSelector(\n  internalSelectPendingApproval,\n  (approval) => approval,\n);\n","import { createSelector } from 'reselect';\nimport { TransactionEnvelopeType } from '@metamask/transaction-controller';\nimport txHelper from '../helpers/utils/tx-helper';\nimport {\n  roundExponential,\n  getTransactionFee,\n  addFiat,\n  addEth,\n} from '../helpers/utils/confirm-tx.util';\nimport {\n  getGasEstimateType,\n  getGasFeeEstimates,\n  getNativeCurrency,\n  getProviderConfig,\n} from '../ducks/metamask/metamask';\nimport {\n  GasEstimateTypes,\n  CUSTOM_GAS_ESTIMATE,\n} from '../../shared/constants/gas';\nimport {\n  getMaximumGasTotalInHexWei,\n  getMinimumGasTotalInHexWei,\n} from '../../shared/modules/gas.utils';\nimport { isEqualCaseInsensitive } from '../../shared/modules/string-utils';\nimport { calcTokenAmount } from '../../shared/lib/transactions-controller-utils';\nimport {\n  decGWEIToHexWEI,\n  getValueFromWeiHex,\n  subtractHexes,\n  sumHexes,\n} from '../../shared/modules/conversion.utils';\nimport { getAveragePriceEstimateInHexWEI } from './custom-gas';\nimport {\n  checkNetworkAndAccountSupports1559,\n  getCurrentChainId,\n  getMetaMaskAccounts,\n  getTokenExchangeRates,\n} from './selectors';\nimport {\n  getUnapprovedTransactions,\n  selectTransactionMetadata,\n  selectTransactionSender,\n} from './transactions';\n\nconst unapprovedTxsSelector = (state) => getUnapprovedTransactions(state);\nconst unapprovedPersonalMsgsSelector = (state) =>\n  state.metamask.unapprovedPersonalMsgs;\nconst unapprovedDecryptMsgsSelector = (state) =>\n  state.metamask.unapprovedDecryptMsgs;\nconst unapprovedEncryptionPublicKeyMsgsSelector = (state) =>\n  state.metamask.unapprovedEncryptionPublicKeyMsgs;\nconst unapprovedTypedMessagesSelector = (state) =>\n  state.metamask.unapprovedTypedMessages;\n\nexport const unconfirmedTransactionsListSelector = createSelector(\n  unapprovedTxsSelector,\n  unapprovedPersonalMsgsSelector,\n  unapprovedDecryptMsgsSelector,\n  unapprovedEncryptionPublicKeyMsgsSelector,\n  unapprovedTypedMessagesSelector,\n  getCurrentChainId,\n  (\n    unapprovedTxs = {},\n    unapprovedPersonalMsgs = {},\n    unapprovedDecryptMsgs = {},\n    unapprovedEncryptionPublicKeyMsgs = {},\n    unapprovedTypedMessages = {},\n    chainId,\n  ) =>\n    txHelper(\n      unapprovedTxs,\n      unapprovedPersonalMsgs,\n      unapprovedDecryptMsgs,\n      unapprovedEncryptionPublicKeyMsgs,\n      unapprovedTypedMessages,\n      chainId,\n    ) || [],\n);\n\nexport const unconfirmedTransactionsHashSelector = createSelector(\n  unapprovedTxsSelector,\n  unapprovedPersonalMsgsSelector,\n  unapprovedDecryptMsgsSelector,\n  unapprovedEncryptionPublicKeyMsgsSelector,\n  unapprovedTypedMessagesSelector,\n  getCurrentChainId,\n  (\n    unapprovedTxs = {},\n    unapprovedPersonalMsgs = {},\n    unapprovedDecryptMsgs = {},\n    unapprovedEncryptionPublicKeyMsgs = {},\n    unapprovedTypedMessages = {},\n    chainId,\n  ) => {\n    const filteredUnapprovedTxs = Object.keys(unapprovedTxs).reduce(\n      (acc, address) => {\n        const transactions = { ...acc };\n\n        if (unapprovedTxs[address].chainId === chainId) {\n          transactions[address] = unapprovedTxs[address];\n        }\n\n        return transactions;\n      },\n      {},\n    );\n\n    return {\n      ...filteredUnapprovedTxs,\n      ...unapprovedPersonalMsgs,\n      ...unapprovedDecryptMsgs,\n      ...unapprovedEncryptionPublicKeyMsgs,\n      ...unapprovedTypedMessages,\n    };\n  },\n);\n\nexport const unconfirmedMessagesHashSelector = createSelector(\n  unapprovedPersonalMsgsSelector,\n  unapprovedDecryptMsgsSelector,\n  unapprovedEncryptionPublicKeyMsgsSelector,\n  unapprovedTypedMessagesSelector,\n  (\n    unapprovedPersonalMsgs = {},\n    unapprovedDecryptMsgs = {},\n    unapprovedEncryptionPublicKeyMsgs = {},\n    unapprovedTypedMessages = {},\n  ) => {\n    return {\n      ...unapprovedPersonalMsgs,\n      ...unapprovedDecryptMsgs,\n      ...unapprovedEncryptionPublicKeyMsgs,\n      ...unapprovedTypedMessages,\n    };\n  },\n);\nexport const use4ByteResolutionSelector = (state) =>\n  state.metamask.use4ByteResolution;\nexport const currentCurrencySelector = (state) =>\n  state.metamask.currentCurrency;\nexport const conversionRateSelector = (state) =>\n  state.metamask.currencyRates[getProviderConfig(state).ticker]?.conversionRate;\nexport const txDataSelector = (state) => state.confirmTransaction.txData;\nconst tokenDataSelector = (state) => state.confirmTransaction.tokenData;\nconst tokenPropsSelector = (state) => state.confirmTransaction.tokenProps;\n\nconst tokenDecimalsSelector = createSelector(\n  tokenPropsSelector,\n  (tokenProps) => tokenProps && tokenProps.decimals,\n);\n\nconst tokenDataArgsSelector = createSelector(\n  tokenDataSelector,\n  (tokenData) => (tokenData && tokenData.args) || [],\n);\n\nconst txParamsSelector = createSelector(\n  txDataSelector,\n  (txData) => (txData && txData.txParams) || {},\n);\n\nexport const tokenAddressSelector = createSelector(\n  txParamsSelector,\n  (txParams) => txParams && txParams.to,\n);\n\nconst TOKEN_PARAM_TO = '_to';\nconst TOKEN_PARAM_VALUE = '_value';\n\nexport const sendTokenTokenAmountAndToAddressSelector = createSelector(\n  tokenDataArgsSelector,\n  tokenDecimalsSelector,\n  (args, tokenDecimals) => {\n    let toAddress = '';\n    let tokenAmount = '0';\n\n    // Token params here are ethers BigNumbers, which have a different\n    // interface than bignumber.js\n    if (args && args.length) {\n      toAddress = args[TOKEN_PARAM_TO];\n      let value = args[TOKEN_PARAM_VALUE].toString();\n\n      if (tokenDecimals) {\n        // bignumber.js return value\n        value = calcTokenAmount(value, tokenDecimals).toFixed();\n      }\n\n      tokenAmount = roundExponential(value);\n    }\n\n    return {\n      toAddress,\n      tokenAmount,\n    };\n  },\n);\n\nexport const contractExchangeRateSelector = createSelector(\n  (state) => getTokenExchangeRates(state),\n  tokenAddressSelector,\n  (contractExchangeRates, tokenAddress) => {\n    return contractExchangeRates[\n      Object.keys(contractExchangeRates).find((address) => {\n        return isEqualCaseInsensitive(address, tokenAddress);\n      })\n    ];\n  },\n);\n\nexport const transactionFeeSelector = function (state, txData) {\n  const currentCurrency = currentCurrencySelector(state);\n  const conversionRate = conversionRateSelector(state);\n  const nativeCurrency = getNativeCurrency(state);\n  const gasFeeEstimates = getGasFeeEstimates(state) || {};\n  const gasEstimateType = getGasEstimateType(state);\n  const networkAndAccountSupportsEIP1559 =\n    checkNetworkAndAccountSupports1559(state);\n\n  const gasEstimationObject = {\n    gasLimit: txData.txParams?.gas ?? '0x0',\n  };\n\n  if (networkAndAccountSupportsEIP1559) {\n    const { gasPrice = '0' } = gasFeeEstimates;\n    const selectedGasEstimates = gasFeeEstimates[txData.userFeeLevel] || {};\n    if (txData.txParams?.type === TransactionEnvelopeType.legacy) {\n      gasEstimationObject.gasPrice =\n        txData.txParams?.gasPrice ?? decGWEIToHexWEI(gasPrice);\n    } else {\n      const { suggestedMaxPriorityFeePerGas, suggestedMaxFeePerGas } =\n        selectedGasEstimates;\n      gasEstimationObject.maxFeePerGas =\n        txData.txParams?.maxFeePerGas &&\n        (txData.userFeeLevel === CUSTOM_GAS_ESTIMATE || !suggestedMaxFeePerGas)\n          ? txData.txParams?.maxFeePerGas\n          : decGWEIToHexWEI(suggestedMaxFeePerGas || gasPrice);\n      gasEstimationObject.maxPriorityFeePerGas =\n        txData.txParams?.maxPriorityFeePerGas &&\n        (txData.userFeeLevel === CUSTOM_GAS_ESTIMATE ||\n          !suggestedMaxPriorityFeePerGas)\n          ? txData.txParams?.maxPriorityFeePerGas\n          : (suggestedMaxPriorityFeePerGas &&\n              decGWEIToHexWEI(suggestedMaxPriorityFeePerGas)) ||\n            gasEstimationObject.maxFeePerGas;\n      gasEstimationObject.baseFeePerGas = decGWEIToHexWEI(\n        gasFeeEstimates.estimatedBaseFee,\n      );\n    }\n  } else {\n    switch (gasEstimateType) {\n      case GasEstimateTypes.feeMarket:\n      case GasEstimateTypes.none:\n        gasEstimationObject.gasPrice = txData.txParams?.gasPrice ?? '0x0';\n        break;\n      case GasEstimateTypes.ethGasPrice:\n        gasEstimationObject.gasPrice =\n          txData.txParams?.gasPrice ??\n          decGWEIToHexWEI(gasFeeEstimates.gasPrice);\n        break;\n      case GasEstimateTypes.legacy:\n        gasEstimationObject.gasPrice =\n          txData.txParams?.gasPrice ?? getAveragePriceEstimateInHexWEI(state);\n        break;\n      default:\n        break;\n    }\n  }\n\n  const { txParams: { value = '0x0' } = {} } = txData;\n\n  const fiatTransactionAmount = getValueFromWeiHex({\n    value,\n    fromCurrency: nativeCurrency,\n    toCurrency: currentCurrency,\n    conversionRate,\n    numberOfDecimals: 2,\n  });\n  const ethTransactionAmount = getValueFromWeiHex({\n    value,\n    fromCurrency: nativeCurrency,\n    toCurrency: nativeCurrency,\n    conversionRate,\n    numberOfDecimals: 6,\n  });\n\n  const hexMinimumTransactionFee =\n    getMinimumGasTotalInHexWei(gasEstimationObject);\n  const hexMaximumTransactionFee =\n    getMaximumGasTotalInHexWei(gasEstimationObject);\n\n  const fiatMinimumTransactionFee = getTransactionFee({\n    value: hexMinimumTransactionFee,\n    fromCurrency: nativeCurrency,\n    toCurrency: currentCurrency,\n    numberOfDecimals: 2,\n    conversionRate,\n  });\n\n  const fiatMaximumTransactionFee = getTransactionFee({\n    value: hexMaximumTransactionFee,\n    fromCurrency: nativeCurrency,\n    toCurrency: currentCurrency,\n    numberOfDecimals: 2,\n    conversionRate,\n  });\n\n  const ethTransactionFee = getTransactionFee({\n    value: hexMinimumTransactionFee,\n    fromCurrency: nativeCurrency,\n    toCurrency: nativeCurrency,\n    numberOfDecimals: 6,\n    conversionRate,\n  });\n\n  const fiatTransactionTotal = addFiat(\n    fiatMinimumTransactionFee,\n    fiatTransactionAmount,\n  );\n  const ethTransactionTotal = addEth(ethTransactionFee, ethTransactionAmount);\n  const hexTransactionTotal = sumHexes(value, hexMinimumTransactionFee);\n\n  return {\n    hexTransactionAmount: value,\n    fiatTransactionAmount,\n    ethTransactionAmount,\n    hexMinimumTransactionFee,\n    fiatMinimumTransactionFee,\n    hexMaximumTransactionFee,\n    fiatMaximumTransactionFee,\n    ethTransactionFee,\n    fiatTransactionTotal,\n    ethTransactionTotal,\n    hexTransactionTotal,\n    gasEstimationObject,\n  };\n};\n\nexport function selectTransactionFeeById(state, transactionId) {\n  const transactionMetadata = selectTransactionMetadata(state, transactionId);\n  return transactionFeeSelector(state, transactionMetadata ?? {});\n}\n\n// Cannot use createSelector due to circular dependency caused by getMetaMaskAccounts.\nexport function selectTransactionAvailableBalance(state, transactionId) {\n  const accounts = getMetaMaskAccounts(state);\n  const sender = selectTransactionSender(state, transactionId);\n\n  return accounts[sender]?.balance;\n}\n\nexport function selectIsMaxValueEnabled(state, transactionId) {\n  return state.confirmTransaction.maxValueMode?.[transactionId] ?? false;\n}\n\nexport const selectMaxValue = createSelector(\n  selectTransactionFeeById,\n  selectTransactionAvailableBalance,\n  (transactionFee, balance) =>\n    balance && transactionFee.hexMaximumTransactionFee\n      ? subtractHexes(balance, transactionFee.hexMaximumTransactionFee)\n      : undefined,\n);\n\n/** @type {state: any, transactionId: string => string} */\nexport const selectTransactionValue = createSelector(\n  selectIsMaxValueEnabled,\n  selectMaxValue,\n  selectTransactionMetadata,\n  (isMaxValueEnabled, maxValue, transactionMetadata) =>\n    isMaxValueEnabled ? maxValue : transactionMetadata?.txParams?.value,\n);\n","import { addHexPrefix } from '../../app/scripts/lib/util';\nimport { decEthToConvertedCurrency } from '../../shared/modules/conversion.utils';\nimport { formatCurrency } from '../helpers/utils/confirm-tx.util';\nimport { formatETHFee } from '../helpers/utils/formatters';\n\nimport { getGasPrice } from '../ducks/send';\nimport { GasEstimateTypes as GAS_FEE_CONTROLLER_ESTIMATE_TYPES } from '../../shared/constants/gas';\nimport {\n  getGasEstimateType,\n  getGasFeeEstimates,\n  isEIP1559Network,\n} from '../ducks/metamask/metamask';\nimport { calcGasTotal } from '../../shared/lib/transactions-controller-utils';\nimport { Numeric } from '../../shared/modules/Numeric';\nimport { EtherDenomination } from '../../shared/constants/common';\nimport { getIsMainnet } from '.';\n\nexport function getCustomGasLimit(state) {\n  return state.gas.customData.limit;\n}\n\nexport function getCustomGasPrice(state) {\n  return state.gas.customData.price;\n}\n\nexport function getBasicGasEstimateLoadingStatus(state) {\n  return getIsGasEstimatesFetched(state) === false;\n}\n\nexport function getAveragePriceEstimateInHexWEI(state) {\n  const averagePriceEstimate = getAverageEstimate(state);\n\n  return getGasPriceInHexWei(averagePriceEstimate);\n}\n\nexport function getFastPriceEstimateInHexWEI(state) {\n  const fastPriceEstimate = getFastPriceEstimate(state);\n  return getGasPriceInHexWei(fastPriceEstimate || '0x0');\n}\n\nexport function getDefaultActiveButtonIndex(\n  gasButtonInfo,\n  customGasPriceInHex,\n  gasPrice,\n) {\n  return gasButtonInfo\n    .map(({ priceInHexWei }) => priceInHexWei)\n    .lastIndexOf(addHexPrefix(customGasPriceInHex || gasPrice));\n}\n\nexport function getSafeLowEstimate(state) {\n  const gasFeeEstimates = getGasFeeEstimates(state);\n  const gasEstimateType = getGasEstimateType(state);\n\n  return gasEstimateType === GAS_FEE_CONTROLLER_ESTIMATE_TYPES.legacy\n    ? gasFeeEstimates?.low\n    : null;\n}\n\nexport function getAverageEstimate(state) {\n  const gasFeeEstimates = getGasFeeEstimates(state);\n  const gasEstimateType = getGasEstimateType(state);\n\n  return gasEstimateType === GAS_FEE_CONTROLLER_ESTIMATE_TYPES.legacy\n    ? gasFeeEstimates?.medium\n    : null;\n}\n\nexport function getFastPriceEstimate(state) {\n  const gasFeeEstimates = getGasFeeEstimates(state);\n\n  const gasEstimateType = getGasEstimateType(state);\n\n  return gasEstimateType === GAS_FEE_CONTROLLER_ESTIMATE_TYPES.legacy\n    ? gasFeeEstimates?.high\n    : null;\n}\n\nexport function isCustomPriceSafe(state) {\n  const safeLow = getSafeLowEstimate(state);\n\n  const customGasPrice = getCustomGasPrice(state);\n\n  if (!customGasPrice) {\n    return true;\n  }\n\n  if (!safeLow) {\n    return false;\n  }\n\n  const customPriceSafe = new Numeric(customGasPrice, 16, EtherDenomination.WEI)\n    .toDenomination(EtherDenomination.GWEI)\n    .greaterThan(safeLow, 10);\n\n  return customPriceSafe;\n}\n\nexport function isCustomPriceSafeForCustomNetwork(state) {\n  const estimatedPrice = getAverageEstimate(state);\n\n  const customGasPrice = getCustomGasPrice(state);\n\n  if (!customGasPrice) {\n    return true;\n  }\n\n  if (!estimatedPrice) {\n    return false;\n  }\n\n  const customPriceSafe = new Numeric(customGasPrice, 16, EtherDenomination.WEI)\n    .toDenomination(EtherDenomination.GWEI)\n    .greaterThan(estimatedPrice, 10);\n\n  return customPriceSafe;\n}\n\nexport function isCustomPriceExcessive(state, checkSend = false) {\n  const customPrice = checkSend ? getGasPrice(state) : getCustomGasPrice(state);\n  const fastPrice = getFastPriceEstimate(state);\n\n  if (!customPrice || !fastPrice) {\n    return false;\n  }\n\n  // Custom gas should be considered excessive when it is 1.5 times greater than the fastest estimate.\n  const customPriceExcessive = new Numeric(\n    customPrice,\n    16,\n    EtherDenomination.WEI,\n  )\n    .toDenomination(EtherDenomination.GWEI)\n    .greaterThan(Math.floor(fastPrice * 1.5), 10);\n\n  return customPriceExcessive;\n}\n\nexport function basicPriceEstimateToETHTotal(\n  estimate,\n  gasLimit,\n  numberOfDecimals = 9,\n) {\n  return new Numeric(\n    calcGasTotal(gasLimit, estimate),\n    16,\n    EtherDenomination.GWEI,\n  )\n    .round(numberOfDecimals)\n    .toBase(10)\n    .toString();\n}\n\nexport function getRenderableEthFee(\n  estimate,\n  gasLimit,\n  numberOfDecimals = 9,\n  nativeCurrency = 'ETH',\n) {\n  const value = new Numeric(estimate, 10).toBase(16).toString();\n  const fee = basicPriceEstimateToETHTotal(value, gasLimit, numberOfDecimals);\n  return formatETHFee(fee, nativeCurrency);\n}\n\nexport function getRenderableConvertedCurrencyFee(\n  estimate,\n  gasLimit,\n  convertedCurrency,\n  conversionRate,\n) {\n  const value = new Numeric(estimate, 10).toBase(16).toString();\n  const fee = basicPriceEstimateToETHTotal(value, gasLimit);\n  const feeInCurrency = decEthToConvertedCurrency(\n    fee,\n    convertedCurrency,\n    conversionRate,\n  );\n  return formatCurrency(feeInCurrency, convertedCurrency);\n}\n\nexport function priceEstimateToWei(priceEstimate) {\n  return new Numeric(priceEstimate, 16, EtherDenomination.GWEI)\n    .toDenomination(EtherDenomination.WEI)\n    .round(9)\n    .toString();\n}\n\nexport function getGasPriceInHexWei(price) {\n  const value = new Numeric(price, 10).toBase(16).toString();\n  return addHexPrefix(priceEstimateToWei(value));\n}\n\nexport function getIsEthGasPriceFetched(state) {\n  const gasEstimateType = getGasEstimateType(state);\n  return (\n    gasEstimateType === GAS_FEE_CONTROLLER_ESTIMATE_TYPES.ethGasPrice &&\n    getIsMainnet(state)\n  );\n}\n\nexport function getIsCustomNetworkGasPriceFetched(state) {\n  const gasEstimateType = getGasEstimateType(state);\n  return (\n    gasEstimateType === GAS_FEE_CONTROLLER_ESTIMATE_TYPES.ethGasPrice &&\n    !getIsMainnet(state)\n  );\n}\n\nexport function getNoGasPriceFetched(state) {\n  const gasEstimateType = getGasEstimateType(state);\n  return gasEstimateType === GAS_FEE_CONTROLLER_ESTIMATE_TYPES.none;\n}\n\nexport function getIsGasEstimatesFetched(state) {\n  const gasEstimateType = getGasEstimateType(state);\n  if (isEIP1559Network(state)) {\n    return false;\n  }\n  return gasEstimateType !== GAS_FEE_CONTROLLER_ESTIMATE_TYPES.none;\n}\n","import { FirstTimeFlowType } from '../../shared/constants/onboarding';\nimport {\n  DEFAULT_ROUTE,\n  ONBOARDING_CREATE_PASSWORD_ROUTE,\n  ONBOARDING_IMPORT_WITH_SRP_ROUTE,\n  ONBOARDING_METAMETRICS,\n  ONBOARDING_SECURE_YOUR_WALLET_ROUTE,\n} from '../helpers/constants/routes';\n\n/**\n * When the user unlocks the wallet but onboarding has not fully completed we\n * must direct the user to the appropriate step in the onboarding process.\n *\n * @param {object} state - MetaMask state tree\n * @returns {string} Route to redirect the user to\n */\nexport function getFirstTimeFlowTypeRouteAfterUnlock(state) {\n  const { firstTimeFlowType } = state.metamask;\n\n  if (firstTimeFlowType === FirstTimeFlowType.create) {\n    return ONBOARDING_CREATE_PASSWORD_ROUTE;\n  } else if (firstTimeFlowType === FirstTimeFlowType.import) {\n    return ONBOARDING_IMPORT_WITH_SRP_ROUTE;\n  } else if (firstTimeFlowType === FirstTimeFlowType.restore) {\n    return ONBOARDING_METAMETRICS;\n  }\n  return DEFAULT_ROUTE;\n}\n\n/**\n * The onboarding flow first asks the user what process they wish to use to\n * initialize their wallet (either create, import, or restore). After that it\n * asks the user to opt into MetaMetrics. This function returns the route the\n * user should be directed to after they opt in or out of MetaMetrics. Note\n * that this differs from getFirstTimeFlowTypeRouteAfterUnlock only for the\n * restore option because the restore option is atypical from the other two\n * options and removes an entire screen from the onboarding flow.\n *\n * @param {object} state - MetaMask state tree\n * @returns {string} Route to redirect the user to\n */\nexport function getFirstTimeFlowTypeRouteAfterMetaMetricsOptIn(state) {\n  const { firstTimeFlowType } = state.metamask;\n\n  if (firstTimeFlowType === FirstTimeFlowType.create) {\n    return ONBOARDING_CREATE_PASSWORD_ROUTE;\n  } else if (firstTimeFlowType === FirstTimeFlowType.import) {\n    return ONBOARDING_IMPORT_WITH_SRP_ROUTE;\n  } else if (firstTimeFlowType === FirstTimeFlowType.restore) {\n    return ONBOARDING_SECURE_YOUR_WALLET_ROUTE;\n  }\n  return DEFAULT_ROUTE;\n}\n\nexport const getFirstTimeFlowType = (state) => {\n  return state.metamask.firstTimeFlowType;\n};\n\nexport const getOnboardingInitiator = (state) => {\n  const { onboardingTabs } = state.metamask;\n\n  if (!onboardingTabs || Object.keys(onboardingTabs).length !== 1) {\n    return null;\n  }\n\n  const location = Object.keys(onboardingTabs)[0];\n  const tabId = onboardingTabs[location];\n  return {\n    location,\n    tabId,\n  };\n};\n"]}